!function(e){function t(t){for(var n,o,r=t[0],c=t[1],l=t[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;i.push([0,"vendor","styles"]),s()}({0:function(e,t,s){e.exports=s("56d7")},"00c4":function(e,t,s){},"00de":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form","index"],data:function(){return{isPlay:!1,input:"",audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.input="",e.focus(),e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{focus:function(){var e=this;setTimeout((function(){e.$refs["form"+e.index].focus()}),100)},check:function(){this.input===this.form.sentence&&this.$parent.$emit("nextForm")},playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})}}},o=(s("0757"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.type]},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""},on:{click:e.playVoice}})]),s("div",{staticClass:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"form"+e.index,attrs:{type:"text"},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},function(t){return e.check()}]}})])])}),[],!1,null,"932d4876",null);t.default=r.exports},"010b":function(e,t,s){},"014f":function(e,t,s){"use strict";s.r(t),s.d(t,"getAge",(function(){return n})),s("e35a"),s("0d7a");var n=function(e){var t,s=e.split("-"),n=parseInt(s[0]),a=parseInt(s[1]),i=parseInt(s[2]),o=new Date,r=o.getFullYear(),c=o.getMonth()+1,l=o.getDate();if(r===n)t=0;else{var u=r-n;t=u>0?c===a?l-i<0?u-1:u:c-a<0?u-1:u:-1}return t}},"0243":function(e,t,s){"use strict";s.r(t);var n=s("cabd"),a={props:["tagTypes"],data:function(){return{token:"",showEdit:!1,form:{uuid:"",listOrder:0,word:""},type:""}},methods:{show:function(e){this.type=e.type,this.showEdit=!0,"edit"===this.type?this.form=e.params:this.form={word:""}},close:function(){this.showEdit=!1},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&("edit"===e.type?Object(n.editSearchWord)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"编辑成功!"}),e.$emit("refresh"),e.close())})):Object(n.addSearchWord)({word:e.form.word}).then((function(t){t.success&&(e.$message({type:"success",message:"添加成功!"}),e.$emit("refresh"),e.close())})))}))}},destroyed:function(){}},i=(s("5919"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showEdit?s("div",{staticClass:"channel-edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"关键词: ",prop:"word",rules:{required:!0,message:"关键词不能为空",trigger:"blur"}}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.form.word,callback:function(t){e.$set(e.form,"word",t)},expression:"form.word"}})],1)],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"submit active",attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("确定")])],1)],1)])]):e._e()])}),[],!1,null,"a94ace4e",null);t.default=o.exports},"02e2":function(e,t,s){},"0396":function(e,t,s){},"0470":function(e,t,s){"use strict";s.r(t),s.d(t,"convertBase64ToBlob",(function(){return l})),s.d(t,"uploadQiniu",(function(){return u})),s("ecb4"),s("b722"),s("3e54"),s("e18c"),s("e35a"),s("0d7a"),s("8256"),s("ab6e"),s("927c"),s("3c51"),s("db0a"),s("1cc1"),s("ab0f"),s("fc6e"),s("f30b"),s("cfd1"),s("d104"),s("f74a"),s("3598"),s("b497"),s("2909"),s("a7ef"),s("b523"),s("e671"),s("4140"),s("83db"),s("829d"),s("939f"),s("1bb1"),s("c3ba");var n,a,i=s("b705"),o=s("c5ee"),r=0,c=function(){--r<=0&&(clearTimeout(a),n&&n.close())},l=function(e){var t=e.split(","),s="",n="";t.length>1&&(n=t[1],s=t[0].substring(t[0].indexOf(":")+1,t[0].indexOf(";")));for(var a=atob(n),i=new ArrayBuffer(a.length),o=new Uint8Array(i),r=0;r<a.length;r++)o[r]=a.charCodeAt(r);return new Blob([i],{type:s})},u=function(e,t,s){return r++,a&&clearTimeout(a),a=setTimeout((function(){r>0&&(n=i.Loading.service({fullscreen:!0}))}),400),new Promise((function(n,a){var i=[],r=[],l={useCdnDomain:!0,disableStatisticsReport:!1,retryCount:6,region:o.region.z0};o.upload(e,s,t,{fname:"",params:{},mimeType:["audio/mp3","audio/mpeg","video/mp4","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","image/jpeg","image/png","image/webp","application/pdf"]||!1},l).subscribe({next:function(e){for(var t=e.chunks||[],s=(e.total,0);s<t.length;s++)0===t[s].percent||i[s]||r[s].percent!==t[s].percent&&100===t[s].percent&&(i[s]=!0);r=t},error:function(e){a(e)},complete:function(e){n(e),c()}})}),(function(e){Object(i.Message)({showClose:!0,message:"好像没有成功哦，再试一次吧~",type:"error"}),c()}))}},"055a":function(e,t,s){},"0580":function(e,t,s){},"05e7":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("2eeb"),s("053b");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("72f9"),r=(s("8102"),s("ae8c")),c=s("5131"),l=s("a196"),u={props:["slideForms"],data:function(){return{curForm:this.slideForms[0],forms:[],showSentence:!1,mySwiper:null,isPlay:!1,audio:new Audio,curIndex:0,addCorrect:!1,addWrong:!1,current:0}},components:{"form-speakToImg":c.default,SentenceToImg:l.default},created:function(){var e=this;this.$on("init",(function(){e.initSwiper(),e.initData(),setTimeout((function(){e.mySwiper.init()}),500)})),this.$on("check",(function(t){return e.current=t.index,e.curForm.uuid!==t.form.uuid?(e.addWrong=!0,setTimeout((function(){e.addWrong=!1}),500),!1):(e.curIndex===e.slideForms.length-1?e.curIndex=t.index:e.curIndex++,e.addCorrect=!0,setTimeout((function(){e.addCorrect=!1}),500),t.form.uuid!==e.slideForms[e.slideForms.length-1].uuid&&(e.curForm=e.slideForms[e.curIndex],e.forms=e.getForms(),void e.$emit("curFormPlay")))})),this.$on("nextForm",(function(){setTimeout((function(){e.mySwiper.slideTo(e.mySwiper.activeIndex+1)}),500)})),this.$on("curFormPlay",(function(){e.playVoice()})),this.$on("reset",(function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("break")}))},computed:Object(n.a)(Object(n.a)({},Object(r.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{getFormsTypes:function(){var e="";return i.a.map(this.slideForms,(function(t){e=i.a.isArray(t)?t[0].type.toLowerCase():t.type.toLowerCase()})),e}}),methods:{initData:function(){this.curForm=this.slideForms[0],this.forms=this.getForms()},initSwiper:function(){var e=this;e.mySwiper=new o.a("#speakToImg-swiper",{init:!1,loop:!1,autoplay:!1,speed:500,slidesPerView:"auto",slidesOffsetAfter:10,slidesOffsetBefore:0,slideToClickedSlide:!0,centeredSlides:!0,grabCursor:!0,observer:!0,mousewheel:!0,on:{init:function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")},slideChange:function(){e.$refs["comp-"+e.mySwiper.previousIndex][0].$emit("break"),e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")}}})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.name),s},playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.curForm.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},getForms:function(){var e=this.curForm,t=[e],s=this.slideForms.filter((function(t){return t.sentence!==e.sentence}));return t=t.concat(i.a.sampleSize(s,1)),i.a.shuffle(t)}}},d=(s("2e5a"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"imgAuto-container"},[s("div",{staticClass:"speak-swiper"},[s("div",{class:["swiper-container",e.getFormsTypes],attrs:{id:"speakToImg-swiper"}},[s("div",{staticClass:"swiper-wrapper"},[e._l(e.slideForms,(function(t,n){return s("div",{key:t.code,staticClass:"swiper-slide"},[s("h2",[e._v(e._s(e.typeName(t.type)))]),s("keep-alive",[s("form-"+t.type,{ref:"comp-"+n,refInFor:!0,tag:"component",attrs:{form:t,slideForms:e.slideForms}})],1)],1)})),s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"sentence-box",on:{click:e.playVoice}},[s("a",{staticClass:"text-box"},[e._m(0),s("span",[e._v(e._s(e.curForm.sentence))])])]),e._l(e.forms,(function(t,n){return s("div",{key:n,staticClass:"choice-item speak-item",class:[{correct:e.current==n&&t.sentence==e.curForm.sentence&&e.addCorrect},{wrong:e.current==n&&t.sentence!==e.curForm.sentence&&e.addWrong}],attrs:{id:"form"+t.uuid}},[s("sentence-toImg",{ref:"comp-"+e.slideForms.length,refInFor:!0,attrs:{form:t,index:n}})],1)}))],2)],2)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"trumpet"},[t("i")])}],!1,null,"2665d4b6",null);t.default=f.exports},"0604":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i=s("c24f"),o={data:function(){return{ruleForm:{username:"",password:"",newPassword:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},mounted:function(){this.ruleForm.username=this.userInfo.userName},computed:Object(n.a)({},Object(a.e)({userInfo:function(e){return e.user.userInfo}})),methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(i.userChangePwd)(t.ruleForm).then((function(e){e.success&&t.$message({type:"success",message:"密码修改成功。"})}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.username=this.userInfo.userName}}},r=(s("82d4"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名：",prop:"username"}},[s("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),s("el-form-item",{attrs:{label:"新密码：",prop:"newPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.newPassword,callback:function(t){e.$set(e.ruleForm,"newPassword",t)},expression:"ruleForm.newPassword"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),s("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)}),[],!1,null,"ebe816ec",null);t.default=c.exports},"0608":function(e,t,s){"use strict";var n=s("5577");s.n(n).a},"0634":function(e,t,s){},"0662":function(e,t,s){"use strict";var n=s("3fec");s.n(n).a},"073e":function(e,t,s){},"0757":function(e,t,s){"use strict";var n=s("67b6");s.n(n).a},"0837":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("fe59"),s("6ae3"),s("ea69"),s("053b"),s("e35a"),s("0d7a"),s("6db4"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("bdc9"),l=s.n(c),u=s("cabd"),d=s("0470"),f={data:function(){return{flag:"add",dialogVisible:!1,selLang:"",toLang:"",uploadIndex:"",token:"",dialogImageUrl:"",dialogImageVisible:!1,disabled:!1,soundLangObj:{default:[{key:"",name:"标准"}],ENG:[{key:"en",name:"英"},{key:"us",name:"美"}]},images:[],ruleForm:{uuid:"",content:"",sound_infos:[],content_tr:[],expansion:"",synonym:[],homonyms:[],phrase:[],tags:[]},rules:{content:[{required:!0,message:"请输入单词",trigger:"blur"}]}}},computed:Object(a.a)({},Object(i.e)({partOfSpeech:function(e){return e.course.partOfSpeech},assetsDomain:function(e){return e.course.assetsDomain},dictTags:function(e){return e.course.dictTags}})),methods:{show:function(e){var t=this;if(Object(u.getInfoToken)().then((function(e){t.token=e.data.token})),this.flag=e.type,this.selLang=e.fromLang,this.toLang=e.toLang,this.ruleForm.uuid="",this.ruleForm.expansion="",this.ruleForm.sound_infos=[{ct:"",ps:"",sound:"",gender:""}],this.ruleForm.content_tr=[{cx:"",content:""}],this.ruleForm.synonym=[{cx:"",content:"",contentTr:""}],this.ruleForm.homonyms=[{cx:"",attrs:[{content:"",contentTr:""}]}],this.ruleForm.phrase=[{content:"",contentTr:""}],this.ruleForm.tags=[],this.images=[],"edit"===this.flag){this.ruleForm.uuid=e.form.uuid,this.ruleForm.content=e.form.content,e.form.soundInfos&&e.form.soundInfos.length>0&&(this.ruleForm.sound_infos=e.form.soundInfos),e.form.images&&e.form.images.length>0&&e.form.images.forEach((function(e){t.images.push({name:e.name,url:t.assetsDomain+e.url})}));var s=e.form.dictTranslate;s&&(this.ruleForm.expansion=s.expansion),s&&s.contentTr&&(this.ruleForm.content_tr=s.contentTr),s&&s.synonym&&(this.ruleForm.synonym=s.synonym),s&&s.homonyms&&(this.ruleForm.homonyms=s.homonyms),s&&s.tags&&s.tags.forEach((function(e){t.ruleForm.tags.push(e.key)})),e.form.phrase&&(this.ruleForm.phrase=e.form.phrase)}this.dialogVisible=!0},plusSoundInfo:function(){this.ruleForm.sound_infos.push({ct:"",ps:"",sound:"",gender:""})},minusSoundInfo:function(e){1===this.ruleForm.sound_infos.length?this.ruleForm.sound_infos=[{ct:"",ps:"",sound:"",gender:""}]:this.ruleForm.sound_infos.splice(e,1)},plusContentTR:function(){this.ruleForm.content_tr.push({cx:"",content:""})},minusContentTR:function(e){1===this.ruleForm.content_tr.length?this.ruleForm.content_tr=[{cx:"",content:""}]:this.ruleForm.content_tr.splice(e,1)},plusSynonym:function(){this.ruleForm.synonym.push({cx:"",content:"",contentTr:""})},minusSynonym:function(e){1===this.ruleForm.synonym.length?this.ruleForm.synonym=[{cx:"",content:"",contentTr:""}]:this.ruleForm.synonym.splice(e,1)},plusHomonyms:function(){this.ruleForm.homonyms.push({cx:"",attrs:[{content:"",contentTr:""}]})},minusHomonyms:function(e){1===this.ruleForm.homonyms.length?this.ruleForm.homonyms=[{cx:"",attrs:[{content:"",contentTr:""}]}]:this.ruleForm.homonyms.splice(e,1)},plusHomonymsAttr:function(e){this.ruleForm.homonyms[e].attrs.push({content:"",contentTr:""})},minusHomonymsAttr:function(e,t){1===this.ruleForm.homonyms[e].attrs.length?this.ruleForm.homonyms[e].attrs=[{content:"",contentTr:""}]:this.ruleForm.homonyms[e].attrs.splice(t,1)},plusPhrase:function(){this.ruleForm.phrase.push({content:"",contentTr:""})},minusPhrase:function(e){1===this.ruleForm.phrase.length?this.ruleForm.phrase=[{content:"",contentTr:""}]:this.ruleForm.phrase.splice(e,1)},handleRemove:function(e){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogImageVisible=!0},handleDownload:function(e){},upload:function(e,t,s){this.uploadIndex=e+","+t+","+s},uploadOnchange:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,c,u,f,m,h,p,v;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=t.uploadIndex.split(","),a=n[0],i=n[1],o=n[2],c=r()(new Date).format("YYYY/MM/DD"),u=parseInt((new Date).getTime()/1e3),f=e.name.lastIndexOf("."),m=e.name.substring(f+1),h=e.name.substring(0,f),p="","audio"!==a){s.next=20;break}if(t.ruleForm.sound_infos[o].ct){s.next=14;break}return t.$message({type:"waring",message:"请选择发音类型"}),s.abrupt("return");case 14:if(t.ruleForm.sound_infos[o].gender){s.next=17;break}return t.$message({type:"waring",message:"请选择男女声"}),s.abrupt("return");case 17:p="dict/".concat(t.selLang.toLowerCase(),"/").concat(t.ruleForm.sound_infos[o].ct,"/").concat(t.ruleForm.sound_infos[o].gender,"/").concat(l()(u),".").concat(m),s.next=21;break;case 20:"image"===a?(p="dict/images/"+c+"/"+e.uid+"."+m,t.saveImages([p],[h])):"video"===a&&(p="dict/videos/"+c+"/"+e.uid+"."+m);case 21:return s.next=24,Object(d.uploadQiniu)(e.raw,t.token,p);case 24:v=s.sent,"sound_infos"===i&&t.$set(t.ruleForm.sound_infos[o],"sound","".concat(v.key,"?time=").concat(u));case 27:case"end":return s.stop()}}),s)})))()},playAudio:function(e){if(e){var t=new Audio;t.src=this.assetsDomain+e,t.oncanplay=function(){t.play()}}},onChangeImage:function(e,t){this.images=t},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(s){var n,a,i,o,c,l,f,m,h,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=29;break}if("edit"!==t.flag){e.next=27;break}n=[],t.ruleForm.tags.forEach((function(e){var s=t.dictTags.find((function(t){return t.key===e}));n.push(s)})),a=[],i=0;case 6:if(!(i<t.images.length)){e.next=24;break}if(!(o=t.images[i]).raw){e.next=20;break}return c=r()(new Date).format("YYYY/MM/DD"),l=o.name.lastIndexOf("."),f=o.name.substring(0,l),m=o.name.substring(l+1),h="dict/images/"+c+"/"+o.uid+"."+m,e.next=16,Object(d.uploadQiniu)(o.raw,t.token,h);case 16:p=e.sent,a.push({name:f,url:p.key}),e.next=21;break;case 20:a.push({name:o.name,url:o.url});case 21:i++,e.next=6;break;case 24:v={content:t.ruleForm.content,dictTranslate:{contentTr:t.ruleForm.content_tr.filter((function(e){return e.cx.trim().length>0})),from:t.selLang,homonyms:t.ruleForm.homonyms.filter((function(e){return e.cx.trim().length>0})),synonym:t.ruleForm.synonym.filter((function(e){return e.cx.trim().length>0})),tags:n,to:t.toLang},from:t.selLang,images:a,phrase:t.ruleForm.phrase,soundInfos:t.ruleForm.sound_infos.filter((function(e){return e.ct.trim().length>0})),to:t.toLang,uuid:t.ruleForm.uuid},Object(u.updateDictWord)(v).then((function(e){e.success&&(t.$message({type:"success",message:"更新成功"}),t.dialogVisible=!1)}));case 27:e.next=31;break;case 29:return e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}}},m=(s("8fc3d"),s("f59b"),s("4023")),h=Object(m.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"",visible:e.dialogVisible,center:"center",width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"单词：",prop:"content"}},[s("el-input",{model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),s("el-form-item",{attrs:{label:"发音："}},[s("div",{staticClass:"soundInfos"},e._l(e.ruleForm.sound_infos,(function(t,n){return s("div",{key:"si"+n,staticClass:"sound-info-item"},[s("div",{staticClass:"left"},[s("div",{staticClass:"row"},[s("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.ruleForm.sound_infos[n].ct,callback:function(t){e.$set(e.ruleForm.sound_infos[n],"ct",t)},expression:"ruleForm.sound_infos[index]['ct']"}},e._l(e.soundLangObj[""+e.selLang],(function(e){return s("el-option",{key:e.key,attrs:{label:e.name+"（"+e.key+"）",value:e.key}})})),1),s("el-select",{attrs:{size:"small",placeholder:"请选择男女声"},model:{value:e.ruleForm.sound_infos[n].gender,callback:function(t){e.$set(e.ruleForm.sound_infos[n],"gender",t)},expression:"ruleForm.sound_infos[index]['gender']"}},[s("el-option",{attrs:{label:"男",value:"male"}}),s("el-option",{attrs:{label:"女",value:"female"}})],1),s("el-input",{attrs:{size:"small",placeholder:"请输入音标，音标前后需要加上'['和']'"},model:{value:e.ruleForm.sound_infos[n].ps,callback:function(t){e.$set(e.ruleForm.sound_infos[n],"ps",t)},expression:"ruleForm.sound_infos[index]['ps']"}})],1),s("div",{staticClass:"row"},[s("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"请上传声音"},model:{value:e.ruleForm.sound_infos[n].sound,callback:function(t){e.$set(e.ruleForm.sound_infos[n],"sound",t)},expression:"ruleForm.sound_infos[index]['sound']"}},[s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"audio/mp3","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:function(t){return e.upload("audio","sound_infos",n)}}})],1),s("el-button",{attrs:{slot:"append",icon:"el-icon-video-play"},on:{click:function(t){return e.playAudio(e.ruleForm.sound_infos[n].sound)}},slot:"append"})],1)],1)]),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusSoundInfo(n)}}}),e.ruleForm.sound_infos.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusSoundInfo}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"词性："}},[s("div",{staticClass:"contentTR"},e._l(e.ruleForm.content_tr,(function(t,n){return s("div",{key:"ctr"+n,staticClass:"content-tr-item"},[s("div",{staticClass:"left"},[s("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.content_tr[n].cx,callback:function(t){e.$set(e.ruleForm.content_tr[n],"cx",t)},expression:"ruleForm.content_tr[index]['cx']"}},e._l(e.partOfSpeech[""+e.selLang],(function(e){return s("el-option",{key:e.key,attrs:{label:e.name+"（"+e.key+"）",value:e.key}})})),1),s("el-input",{attrs:{placeholder:"请输入所选分类相应的含义，多个含义之间用'；'隔开"},model:{value:e.ruleForm.content_tr[n].content,callback:function(t){e.$set(e.ruleForm.content_tr[n],"content",t)},expression:"ruleForm.content_tr[index]['content']"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusContentTR(n)}}}),e.ruleForm.content_tr.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusContentTR}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"同近义词："}},[s("div",{staticClass:"synonym"},e._l(e.ruleForm.synonym,(function(t,n){return s("div",{key:"ctr"+n,staticClass:"synonym-item"},[s("div",{staticClass:"left"},[s("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.synonym[n].cx,callback:function(t){e.$set(e.ruleForm.synonym[n],"cx",t)},expression:"ruleForm.synonym[index]['cx']"}},e._l(e.partOfSpeech[""+e.selLang],(function(e){return s("el-option",{key:e.key,attrs:{label:e.name+"（"+e.key+"）",value:e.key}})})),1),s("el-input",{attrs:{placeholder:"请输入所选分类相应的含义，多个含义之间用'；'隔开"},model:{value:e.ruleForm.synonym[n].content,callback:function(t){e.$set(e.ruleForm.synonym[n],"content",t)},expression:"ruleForm.synonym[index]['content']"}}),s("el-input",{attrs:{placeholder:"请输入所选分类的同近义词，多个单词之间用','隔开"},model:{value:e.ruleForm.synonym[n].contentTr,callback:function(t){e.$set(e.ruleForm.synonym[n],"contentTr",t)},expression:"ruleForm.synonym[index]['contentTr']"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusSynonym(n)}}}),e.ruleForm.synonym.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusSynonym}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"同根词："}},[s("div",{staticClass:"homonyms"},e._l(e.ruleForm.homonyms,(function(t,n){return s("div",{key:"ctr"+n,staticClass:"homonyms-item"},[s("div",{staticClass:"left"},[s("el-select",{attrs:{size:"middle",placeholder:"请选择分类"},model:{value:e.ruleForm.homonyms[n].cx,callback:function(t){e.$set(e.ruleForm.homonyms[n],"cx",t)},expression:"ruleForm.homonyms[index]['cx']"}},e._l(e.partOfSpeech[""+e.selLang],(function(e){return s("el-option",{key:e.key,attrs:{label:e.name+"（"+e.key+"）",value:e.key}})})),1),e._l(e.ruleForm.homonyms[n].attrs,(function(t,a){return s("div",{key:"hattr"+a,staticClass:"homonyms-attrs"},[s("div",{staticClass:"homonyms-attrs-left"},[s("el-input",{attrs:{size:"small",placeholder:"请输入同根词"},model:{value:e.ruleForm.homonyms[n].attrs[a].content,callback:function(t){e.$set(e.ruleForm.homonyms[n].attrs[a],"content",t)},expression:"ruleForm.homonyms[index]['attrs'][i]['content']"}}),s("el-input",{attrs:{size:"small",placeholder:"请输入同根词的含义，多个含义之间用'；'隔开"},model:{value:e.ruleForm.homonyms[n].attrs[a].contentTr,callback:function(t){e.$set(e.ruleForm.homonyms[n].attrs[a],"contentTr",t)},expression:"ruleForm.homonyms[index]['attrs'][i]['contentTr']"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{size:"small",icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusHomonymsAttr(n,a)}}}),e.ruleForm.homonyms[n].attrs.length==a+1?s("el-button",{attrs:{size:"small",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.plusHomonymsAttr(n)}}}):e._e()],1)])}))],2),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusHomonyms(n)}}}),e.ruleForm.homonyms.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusHomonyms}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"固定搭配："}},[s("div",{staticClass:"phrase"},e._l(e.ruleForm.phrase,(function(t,n){return s("div",{key:"ctr"+n,staticClass:"phrase-item"},[s("div",{staticClass:"left"},[s("el-input",{attrs:{placeholder:"请输入该单词的固定搭配"},model:{value:e.ruleForm.phrase[n].content,callback:function(t){e.$set(e.ruleForm.phrase[n],"content",t)},expression:"ruleForm.phrase[index]['content']"}}),s("el-input",{attrs:{placeholder:"请输入固定搭配对应的翻译，多个含义用'；'隔开"},model:{value:e.ruleForm.phrase[n].contentTr,callback:function(t){e.$set(e.ruleForm.phrase[n],"contentTr",t)},expression:"ruleForm.phrase[index]['contentTr']"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusPhrase(n)}}}),e.ruleForm.phrase.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusPhrase}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"标签："}},[s("el-checkbox-group",{model:{value:e.ruleForm.tags,callback:function(t){e.$set(e.ruleForm,"tags",t)},expression:"ruleForm.tags"}},e._l(e.dictTags,(function(t){return s("el-checkbox",{key:t.key,attrs:{label:t.key,name:"type"}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{attrs:{label:"配图："}},[s("el-upload",{attrs:{action:"#",accept:"image/webp","list-type":"picture-card","file-list":e.images,"on-change":e.onChangeImage,"auto-upload":!1}},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"}),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传webp文件")])]),s("el-dialog",{attrs:{visible:e.dialogImageVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)}),[],!1,null,"56c6d240",null);t.default=h.exports},"08b6":function(e,t,s){"use strict";var n=s("454d");s.n(n).a},"08be":function(e,t,s){"use strict";s.r(t);var n=(s("246b"),s("4023")),a=Object(n.a)({data:function(){return{activeLet:"热",letters:["热","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},methods:{handleLetterClick:function(e){this.activeLet=e}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"letters"},[s("ul",e._l(e.letters,(function(t){return s("li",{key:"letter-"+t},[s("a",{class:{active:e.activeLet==t},attrs:{href:"javascript:;"},on:{click:function(s){return e.handleLetterClick(t)}}},[e._v(e._s(t))])])})),0)])}),[],!1,null,"6b4725f8",null);t.default=a.exports},"08d0":function(e,t,s){},"0a3c":function(e,t,s){"use strict";var n=s("268a");s.n(n).a},"0a60":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("cf63"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"title",domProps:{innerHTML:e._s(e.form.text.replace(/\[/g,"<br />["))}})])])])}),[],!1,null,"308cbb82",null);t.default=r.exports},"0a96":function(e,t,s){"use strict";var n=s("23b9");s.n(n).a},"0ab1":function(e,t,s){"use strict";s.r(t),s("6ae3"),s("053b");var n=s("de52"),a=s.n(n),i=s("cabd"),o=s("0470"),r=s("2efc"),c={data:function(){return{dialogVisible:!1,token:"",liveUUID:"",courseFiles:[]}},methods:{show:function(e){var t=this;this.liveUUID=e.uuid,Object(i.getInfoTokenUploadFile)().then((function(e){t.token=e.data.token})),this.loadCourseFiles(),this.dialogVisible=!0},loadCourseFiles:function(){var e=this;this.courseFiles=[],Object(i.getCourseFiles)({live_uuid:this.liveUUID}).then((function(t){t.success&&t.data&&(e.courseFiles=t.data)}))},changeUploadFile:function(e,t){var s=this,n=new Date,r=a()(n).format("YYYY/MM/DD"),c=e.name.lastIndexOf("."),l=e.name.substring(0,c),u=e.name.substring(c+1),d="liveroom/files/"+this.liveUUID+"/"+r+"/"+l+"_"+this.getRandom(2)+"."+u,f="";switch(u.toLowerCase()){case"ppt":case"pptx":f="ppt";break;case"doc":case"docx":f="word";break;case"pdf":f="pdf";break;case"mp4":f="video";break;case"mp3":f="audio";break;default:f="image"}Object(o.uploadQiniu)(e.raw,this.token,d).then((function(t){var n={file_url:d,live_uuid:s.liveUUID,size:e.size,title:e.name,type:f};Object(i.createFileTranscode)(n).then((function(e){if(s.loadCourseFiles(),e.success&&e.data)var t=setInterval((function(){Object(i.describeFileTranscode)({task_id:e.data.TaskId}).then((function(e){e.success&&e.data&&100===e.data.Progress&&(clearInterval(t),s.loadCourseFiles())}))}),5e3);else s.$message({type:"warning",message:e.msg})}))}))},delFile:function(e){var t=this;this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i.delCourseFile)({live_uuid:e.live_uuid,uuid:e.uuid}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功"}),t.loadCourseFiles())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},preview:function(e){e.event_data&&e.event_data.result_url&&window.open(e.event_data.result_url)},formatterFileSize:function(e,t,s,n){return Object(r.formateFileSize)(s)},getRandom:function(e){return Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,e-1))}}},l=(s("276e"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"课件",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{staticClass:"operate"},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"#","on-change":e.changeUploadFile,"auto-upload":!1,"show-file-list":!1,multiple:!1}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-upload",size:"small"}},[e._v("上传课件")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.courseFiles}},[s("el-table-column",{attrs:{label:"文件名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"file-title"},[s("i",{class:{ppt:t.row.title.indexOf("ppt")>-1,word:t.row.title.indexOf("doc")>-1,mp4:t.row.title.indexOf("mp4")>-1}}),e._v(e._s(t.row.title))])]}}])}),s("el-table-column",{attrs:{label:"页数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.event_data?t.row.event_data.pages:0)+" ")]}}])}),s("el-table-column",{attrs:{prop:"size",label:"大小",formatter:e.formatterFileSize}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.delFile(t.row)}}},[e._v("删除")]),s("el-button",{attrs:{type:"text",disabled:!(t.row.event_data&&t.row.event_data.result_url)},on:{click:function(s){return e.preview(t.row)}}},[e._v("预览")])]}}])})],1)],1)}),[],!1,null,"f13bd556",null);t.default=u.exports},"0b57":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("fe59"),s("ecb4"),s("6ae3"),s("ea69"),s("053b"),s("08ba"),s("b449");var n=s("ae9a"),a=s("c52d"),i=s("0eaa"),o=s("2480"),r=s("cabd"),c=s("0470"),l=s("ae8c"),u={props:["tagTypes"],data:function(){return{token:"",showEdit:!1,sortable:null,form:{cover:[],desc:{},flag:[],key:"",list_order:0,name:"",title:{},type:""},type:""}},computed:Object(i.a)(Object(i.a)({},Object(l.e)({assetsDomain:function(e){return e.course.assetsDomain},langInfos:function(e){return e.course.langInfos}})),{},{flagUrl:function(){var e="";return this.form.flag&&this.form.flag.length>0&&(e=this.form.flag[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e},coverUrl:function(){var e="";return this.form.cover&&this.form.cover.length>0&&(e=this.form.cover[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e}}),created:function(){var e=this;this.$bus.$on("uploadCopperImages",(function(t){e.form.cover=[].concat(Object(a.a)(e.form.cover),Object(a.a)(t))}))},methods:{show:function(e){var t=this;this.type=e.type,this.showEdit=!0,Object(r.getInfoToken)().then((function(e){t.token=e.data.token})),"edit"===this.type?this.form=e.params:this.form={cover:[],desc:{},flag:[],key:"",list_order:0,name:"",title:{},type:""},setTimeout((function(){t.form.cover.length>0&&t.resetSortable()}),0)},close:function(){this.showEdit=!1,this.$emit("addTagItem")},cropperImage:function(e){this.$bus.$emit("showCropperDialog",{url:e,token:this.token})},uploadFlagOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.form.flag=[],n=e.raw.name.lastIndexOf("."),a=e.raw.name.substring(n+1),i="course/content/catalog/flag/"+e.uid+"."+a,t.next=6,Object(c.uploadQiniu)(e.raw,s.token,i);case 6:o=t.sent,s.form.flag.push(o.key);case 8:case"end":return t.stop()}}),t)})))()},uploadCoverOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FileReader).onload=function(t){var n=t.target.result,a=new Image;a.onload=function(){var t=a.width,n=a.height,i=e.raw.name.lastIndexOf("."),o=e.raw.name.substring(i+1),r="course/images/icon/"+t+"*"+n+"/"+e.uid+"."+o;Object(c.uploadQiniu)(e.raw,s.token,r).then((function(e){s.form.cover.push(e.key),setTimeout((function(){s.resetSortable()}),100)}))},a.src=n},n.readAsDataURL(e.raw);case 4:case"end":return t.stop()}}),t)})))()},changeType:function(){},determine:function(){var e=this;this.$refs.form.validate((function(t){t&&("edit"===e.type?Object(r.editTags)(e.form).then((function(t){t.success&&(e.$emit("addTagItem"),e.close())})):Object(r.addTags)(e.form).then((function(t){t.success&&(e.$emit("addTagItem"),e.close())})))}))},delImage:function(e,t){this.form[e].splice(t,1)},resetSortable:function(){var e=this,t=document.getElementById("cover-sort");this.sortable=new o.a(t,{animation:0,onEnd:function(t){var s=[],n=e.sortable.toArray();(n=n.filter((function(e){return"99"!==e}))).forEach((function(t,n){s.push(e.form.cover[parseInt(t)])})),e.form.cover=[],setTimeout((function(){e.form.cover=s}),0)}})}},destroyed:function(){this.$bus.$off("uploadCopperImages")}},d=(s("e9da"),s("f132"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showEdit?s("div",{staticClass:"tags-edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"key: ",prop:"key",rules:[{required:!0,message:"key不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"",disabled:"edit"==e.type},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),s("el-form-item",{attrs:{label:"名称: ",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"blur"}}},[s("el-input",{attrs:{maxlength:"25","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{staticClass:"tag-types",attrs:{label:"分类: ",prop:"type",rules:[{required:!0,message:"请选择分类",trigger:"change"}]}},[s("el-select",{attrs:{placeholder:"请选择分类"},on:{change:e.changeType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.tagTypes,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.type}})})),1)],1),s("el-form-item",{attrs:{label:"标题: "}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[s("el-input",{model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"描述: "}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}}),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"图标: "}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片")]),s("div",{staticClass:"img-box small-img-box"},[s("div",{staticClass:"img"},[e.flagUrl?s("img",{attrs:{src:e.flagUrl,fit:"cover"}}):e._e()]),s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadFlagOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)],1),s("el-form-item",{attrs:{label:"封面: "}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片，第一张图为课程列表封面，第二张图为学习首页课程封面，第三张图为课程列表宝贝作品封面")]),s("div",{staticClass:"img-box big-img-box"},[e.form.cover.length>0?s("div",{staticClass:"img",attrs:{id:"cover-sort"}},[e._l(e.form.cover,(function(t,n){return s("div",{key:"cover"+n,staticClass:"block",attrs:{"data-id":n}},[s("span",[e._v(e._s(t.split("/")[t.split("/").length-2]))]),s("el-image",{attrs:{lazy:"",src:e.assetsDomain+t,"preview-src-list":[e.assetsDomain+t],fit:"cover"}}),s("div",{staticClass:"btn-handler"},[s("el-button",{attrs:{round:"",size:"small"},on:{click:function(s){return e.cropperImage(e.assetsDomain+t)}}},[e._v("裁剪")]),s("el-button",{attrs:{round:"",plain:"",type:"danger",size:"small"},on:{click:function(t){return e.delImage("cover",n)}}},[e._v("删除")])],1)],1)})),s("div",{staticClass:"block",attrs:{"data-id":"99"}},[s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)],2):s("div",{staticClass:"img"},[s("div",{staticClass:"block"},[s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)])])],1)],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:function(t){return e.determine()}}},[e._v("确定")])],1)],1)])]):e._e()])}),[],!1,null,"2b84fe1f",null);t.default=f.exports},"0b6f":function(e,t,s){"use strict";s.r(t),s("4194");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{isPlay:!1,aadActive:!1,currIndex:"",audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio(e.form.sentence_audio)})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},methods:{playAudio:function(e){var t=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play(),t.isPlay=!0},this.audio.onended=function(){t.isPlay=!1})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.desc),s},choiceSentence:function(e,t){var s=this;e===this.form.sentence&&(this.currIndex=t,this.aadActive=!0,setTimeout((function(){s.close()}),1e3))},close:function(){this.currIndex="",this.aadActive=!1}}},a=(s("39c9"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"trumpet-box"},[s("div",{staticClass:"trumpet",on:{click:function(t){return e.playAudio(e.form.sentence_audio)}}},[s("i")]),s("span",{staticClass:"sentence"},[e._v(e._s(e.form.sentence))])]),s("div",{staticClass:"choice-list"},[s("ul",e._l(e.form.words_choice,(function(t,n){return s("li",{key:n},[s("span",{class:{active:e.currIndex==n&&e.form.sentence==t&&e.aadActive},on:{click:function(s){return e.choiceSentence(t,n)}}},[e._v(" "+e._s(t))])])})),0)])])}),[],!1,null,"f39868cc",null);t.default=i.exports},"0cc2":function(e,t,s){"use strict";s.r(t),s.d(t,"jsonInBlacklist",(function(){return a}));var n=s("b775"),a=function(){return Object(n.default)({url:"/jwt/jsonInBlacklist",method:"post"})}},"0d3f":function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("fe84"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sentence_audio)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.form.sentence_show,expression:"form.sentence_show"}]},[e._v(e._s(e.form.sentence))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.words_choice.length,expression:"form.words_choice.length"}],staticClass:"options"},e._l(e.form.words_choice,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)])}),[],!1,null,"03012692",null);t.default=r.exports},"0d7f":function(e,t,s){},"0dab":function(e,t,s){},"0dd8":function(e,t,s){"use strict";var n=s("ec63");s.n(n).a},"0ea3":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i=s("6192"),o=s("f01b"),r=s("cb1e"),c=s("b416"),l=s("4dca"),u={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{SentenceToImg:i.default,ImgToSentence:o.default,FillGap:r.default,MakeSentence:c.default,RepeatSpeak:l.default},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},d=(s("1792"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("span",[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)]),s("div",{staticClass:"form"},["kid_pattern_words_1"==e.form.type||"kid_pattern_sentences_1"==e.form.type?s("sentence-to-img",{attrs:{form:e.form}}):e._e(),"kid_pattern_words_2"==e.form.type||"kid_pattern_sentences_2"==e.form.type?s("img-to-sentence",{attrs:{form:e.form}}):e._e(),"kid_pattern_words_3"==e.form.type?s("fill-gap",{attrs:{form:e.form}}):e._e(),"kid_pattern_sentences_3"==e.form.type?s("make-sentence",{attrs:{form:e.form}}):e._e(),"kid_pattern_reading_1"==e.form.type||"kid_pattern_reading_2"==e.form.type?s("repeat-speak",{attrs:{form:e.form}}):e._e()],1)])}),[],!1,null,"e2307606",null);t.default=f.exports},"0f42":function(e,t,s){"use strict";var n=s("aeb7");s.n(n).a},"0f52":function(e,t,s){"use strict";s.r(t);var n=s("cabd"),a={data:function(){return{dialogFormVisible:!1,form:{courseCode:"",talkmateID:""},rules:{talkmateID:[{required:!0,message:"请填写全球说ID",trigger:"blur"}]}}},methods:{show:function(e){this.form.talkmateID="",this.form.courseCode=e.room.code,this.dialogFormVisible=!0},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(t){var s={course_code:e.form.courseCode,talkmate_id:e.form.talkmateID};Object(n.subLiveCourse)(s).then((function(t){t.success&&(e.$message({type:"success",message:"订阅成功"}),e.dialogFormVisible=!1)}))}}))}}},i=(s("faf1"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{width:"50%",title:"订阅",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"全球说ID",prop:"talkmateID"}},[s("el-input",{attrs:{placeholder:""},model:{value:e.form.talkmateID,callback:function(t){e.$set(e.form,"talkmateID",t)},expression:"form.talkmateID"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)}),[],!1,null,"2c60e54f",null);t.default=o.exports},"0f6d":function(e,t,s){"use strict";var n=s("1e45");s.n(n).a},"0fc4":function(e,t,s){},1087:function(e,t,s){"use strict";s.r(t);var n=(s("5782"),s("4023")),a=Object(n.a)({data:function(){return{isShow:!1,left:0,top:0}},methods:{show:function(e){this.left=e.x-220,this.top=e.y-110,this.isShow=!0},hide:function(){this.isShow=!1},paste:function(){this.$emit("paste")}}},(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"right-menu-container",style:{left:this.left+"px",top:this.top+"px"}},[t("div",{staticClass:"menu"},[t("div",{staticClass:"menu-group"},[t("div",{staticClass:"menu-item"},[t("div",{staticClass:"name",on:{click:this.paste}},[this._v("粘贴")])])])])])])}),[],!1,null,"5a0a81de",null);t.default=a.exports},1091:function(e,t,s){},1126:function(e,t,s){"use strict";var n=s("6f98");s.n(n).a},"11ff":function(e,t,s){},"12ae":function(e,t,s){"use strict";s.r(t);var n=s("72f9"),a=(s("8102"),{data:function(){return{}},mounted:function(){this.initSwiper()},methods:{showCopy:function(){this.initSwiper()},initSwiper:function(){this.$nextTick((function(){new n.a("#copy-container",{loop:!1,autoplay:!1,speed:500,slidesPerView:"auto",navigation:{prevEl:".el-icon-arrow-left",nextEl:".el-icon-arrow-right"}})}))},cancel:function(){this.$bus.emit("closeAdd")},determine:function(){}}}),i=(s("b62e"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"copy-version"},[s("div",{staticClass:"copy-content"},[e._m(0),e._m(1),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"copy-header"},[t("h1",[this._v("请选择复制的版本")]),t("div",{staticClass:"swiper-btn"},[t("div",{staticClass:"icon el-icon-arrow-left"}),t("div",{staticClass:"icon el-icon-arrow-right"})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"copy-swiper"},[s("div",{staticClass:"swiper-container swiper-no-swiping",attrs:{id:"copy-container"}},[s("div",{staticClass:"swiper-wrapper"},[s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"online-flag"},[s("span",[e._v("线上")])]),s("label",{staticClass:"radio"},[s("input",{attrs:{type:"radio"}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[e._v("版本V2")]),s("ul",[s("li",[e._v("创建时间：2018年6月1日")]),s("li",[e._v("最后修改时间：2020年1月1日")]),s("li",[e._v("Level：6")]),s("li",[e._v("Chapter：24")])])])]),s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[e._v("版本V2")]),s("ul",[s("li",[e._v("创建时间：2018年6月1日")]),s("li",[e._v("最后修改时间：2020年1月1日")]),s("li",[e._v("Level：6")]),s("li",[e._v("Chapter：24")])])])]),s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[e._v("版本V2")]),s("ul",[s("li",[e._v("创建时间：2018年6月1日")]),s("li",[e._v("最后修改时间：2020年1月1日")]),s("li",[e._v("Level：6")]),s("li",[e._v("Chapter：24")])])])])])])])}],!1,null,"6df9986c",null);t.default=o.exports},"12b2":function(e,t,s){"use strict";s.r(t);var n=s("e699"),a=s("bb36"),i={name:"AsideComponent",computed:{menuComponent:function(){return this.routerInfo.children.length?"AsyncSubmenu":"MenuItem"}},props:{routerInfo:{default:function(){return null},type:Object}},components:{MenuItem:n.default,AsyncSubmenu:a.default}},o=s("4023"),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.routerInfo.hidden?e._e():s(e.menuComponent,{tag:"component",attrs:{routerInfo:e.routerInfo}},[e.routerInfo.children.length?e._l(e.routerInfo.children,(function(e){return s("AsideComponent",{key:e.name,attrs:{routerInfo:e}})})):e._e()],2)}),[],!1,null,null,null);t.default=r.exports},"12e8":function(e,t,s){"use strict";var n=s("672a");s.n(n).a},"130e":function(e,t,s){"use strict";var n=s("ffc8");s.n(n).a},1359:function(e,t,s){"use strict";var n=s("b0d7");s.n(n).a},"13d2":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i=s("cabd"),o={props:["tag"],data:function(){return{isRequire:!1}},watch:{tagKey:function(){this.tagKey?this.isRequire=!1:this.isRequire=!0}},computed:{tagKey:function(){return this.tag.TagKey}},methods:Object(n.a)(Object(n.a)({},Object(a.b)(["updateOneTag"])),{},{editTag:function(){var e=this;if(!this.tag.TagName)return this.isRequire=!0,!1;var t={tag_key:this.tag.TagKey};this.updateOneTag(t).then((function(t){t.success?e.$notify({title:"成功",message:t.msg,type:"success"}):e.$notify({title:"警告",message:t.msg,type:"warning"})}))},delTag:function(){var e=this;this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i.delImageTag)({tagKey:e.tag.TagKey}).then((function(t){t.success&&(e.$message({type:"success",message:"删除成功"}),e.$emit("initData"))}))})).catch((function(){e.$message({type:"info",message:"已取消下架"})}))}})},r=(s("ea98"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-tag-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tag.TagKey,expression:"tag.TagKey"}],class:{require:e.isRequire},attrs:{type:"text"},domProps:{value:e.tag.TagKey},on:{input:function(t){t.target.composing||e.$set(e.tag,"TagKey",t.target.value)}}}),s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{href:"javascript:;"},on:{click:function(t){return e.editTag()}}},[e._v("修改")]),s("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.delTag()}}},[e._v("删除")])])}),[],!1,null,"142b7c5d",null);t.default=c.exports},1421:function(e,t,s){},"14ae":function(e,t,s){},"14d9":function(e,t,s){},"14ea":function(e,t,s){"use strict";s.r(t),s("4194"),s("3466"),s("fe59"),s("ea69"),s("08ba");var n=s("cabd"),a={data:function(){return{dialogVisible:!1,picture:{},src:"",tags:[],havaTags:[],picDesc:"",selTagKeys:[],newTag:"",desc:"",size:""}},components:{},methods:{reset:function(){this.selTagKeys=[],this.newTag="",this.havaTags=[],this.picDesc=""},show:function(e){var t=this;this.reset(),this.picture=e.picture,this.desc=this.picture.desc,this.picDesc=this.picture.desc,this.picture.tagKeys&&(this.selTagKeys=this.picture.tagKeys),this.tags=e.tags,this.src=e.src;var s=new Image;s.src=this.src,s.addEventListener("load",(function(){t.size=s.width+" x "+s.height})),this.picture.Tags&&this.picture.Tags.forEach((function(e){var s=t.tags.find((function(t){return t.TagKey===parseInt(e)}));s&&t.havaTags.push(s)})),this.dialogVisible=!0},selTag:function(e){var t=this.selTagKeys.findIndex((function(t){return t===e.TagKey+""}));-1===t?this.selTagKeys.push(e.TagKey+""):this.selTagKeys.splice(t,1)},save:function(){var e=this;if(this.tags.findIndex((function(t){return t===e.newTag}))>-1)return this.$message({message:"已存在分类",type:"warning"}),!1;this.newTag&&(this.selTagKeys.push(this.newTag),Object(n.addImageTag)({tagKey:this.newTag}));var t={image_id:this.picture.image_id,image_url:this.picture.image_url,tagKeys:this.selTagKeys,desc:this.desc};Object(n.editImage)(t).then((function(t){t.success&&(e.$message({message:"保存成功",type:"success"}),e.$emit("closeEditImage"),e.dialogVisible=!1)}))},close:function(){this.dialogVisible=!1}}},i=(s("5157"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"图片编辑",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[s("div",{staticClass:"edit-picture"},[s("div",{staticClass:"edit-picture-content"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:e.src,alt:""}}),s("div",{staticClass:"size"},[e._v(" 图片尺寸："+e._s(e.size)+" ")]),e.havaTags.length>0?s("div",{staticClass:"tag"},e._l(e.havaTags,(function(t){return s("span",{key:"t"+t.TagKey},[e._v(e._s(t.TagName))])})),0):s("div",{staticClass:"tag"},[e._v(" 暂无分类 ")]),s("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.picDesc.replace(/(\r\n)|(\n)/g,"<br>"))}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"title"},[e._v("选择分类")]),s("ul",e._l(e.tags,(function(t,n){return s("li",{key:n,class:{active:(","+e.selTagKeys.join(",")+",").indexOf(","+t.TagKey+",")>-1},on:{click:function(s){return e.selTag(t)}}},[e._v(" "+e._s(t.TagKey)+" ")])})),0),s("div",{staticClass:"title"},[e._v("没有合适的分类？可新建分类")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newTag,expression:"newTag"}],attrs:{type:"text",placeholder:"请输入新的分类名称"},domProps:{value:e.newTag},on:{input:function(t){t.target.composing||(e.newTag=t.target.value)}}}),s("div",{staticClass:"title"},[e._v("图片描述")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"desc"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请描述该图片，例：穿西装的男人和穿礼服的女人，餐厅喝红酒。"},domProps:{value:e.desc},on:{input:function(t){t.target.composing||(e.desc=t.target.value)}}})])]),s("div",{staticClass:"btn-area"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(t){return e.save()}}},[e._v("保存")])])])])}),[],!1,null,"86c29c8a",null);t.default=o.exports},1502:function(e,t,s){"use strict";s.r(t);var n=s("4023"),a=Object(n.a)({name:"LiveManage"},(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null);t.default=a.exports},1570:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("6ae3"),s("77ad");var n=s("de52"),a=s.n(n),i=s("cabd"),o={data:function(){return{title:"",list:[],currentPage:1,total:0,pageSize:10,isShowPagination:!0,mp:"http://dev.api.talkmate.com:82/qrcode/index.html",qrcodeUrl:"",dialogVisible:!1}},components:{QrcodeAdd:s("53e8").default},mounted:function(){this.loadData()},methods:{formatterDate:function(e,t,s,n){return a()(s).format("YYYY-MM-DD HH:ss")},loadData:function(){var e=this;Object(i.qrCodeList)({page_index:this.currentPage,page_size:this.pageSize}).then((function(t){t.success&&t.data?(e.list=t.data,e.total=e.list.length,e.pageSize>e.total&&(e.isShowPagination=!0)):e.list=[]}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},createQRCode:function(){this.$refs.qrcode.show({flag:"add"})},handleDownload:function(e){var t=this;Object(i.qrCodeImage)({size:e.size,url:"".concat(this.mp,"?uuid=").concat(e.uuid)}).then((function(e){t.qrcodeUrl="/"+e.data,t.download()}))},handlePreview:function(e){var t=this;Object(i.qrCodeImage)({size:e.size,url:"".concat(this.mp,"?uuid=").concat(e.uuid)}).then((function(e){t.qrcodeUrl="/"+e.data,t.dialogVisible=!0}))},download:function(){var e=document.createElement("a");e.href=this.qrcodeUrl,e.download=this.qrcodeUrl.slice(this.qrcodeUrl.lastIndexOf("/")+1),document.body.appendChild(e),e.click(),setTimeout((function(){document.body.removeChild(e)}),1e3)},handleEdit:function(e){this.$refs.qrcode.show({flag:"edit",data:e})},handleDel:function(e){var t=this;this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i.qrCodeDel)({uuid:e.uuid}).then((function(e){e.success&&(t.$message({type:"success",message:e.msg}),t.loadData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},r=(s("efe3"),s("8387"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"teacher-container"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-input",{attrs:{placeholder:"请输入活动主题"},on:{change:e.loadData},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{type:"primary"},on:{click:e.createQRCode}},[e._v("创建")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[s("el-table-column",{attrs:{prop:"created_on",formatter:e.formatterDate,label:"创建时间"}}),s("el-table-column",{attrs:{prop:"title",label:"活动主题"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleEdit(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handlePreview(t.row)}}},[e._v("预览")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleDownload(t.row)}}},[e._v("下载")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleDel(t.row)}}},[e._v("删除")])]}}])})],1),s("el-pagination",{attrs:{"current-page":e.currentPage,"hide-on-single-page":e.isShowPagination,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),s("qrcode-add",{ref:"qrcode",on:{loadData:e.loadData}}),s("el-dialog",{staticClass:"qrcode-dialog",attrs:{title:"",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-image",{attrs:{src:e.qrcodeUrl,fit:"cover"}}),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("下载")])],1)],1)],1)}),[],!1,null,"4079d549",null);t.default=c.exports},"15a1":function(e,t,s){},"15b3":function(e,t,s){},1608:function(e,t,s){"use strict";var n=s("5b5d");s.n(n).a},"162e":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("9a31"),i=s("ae8c"),o={name:"Layout",data:function(){return{isCollapse:!1}},components:{Aside:a.default},created:function(){this.getConfigInfo()},methods:Object(n.a)(Object(n.a)({},Object(i.b)({LoginOut:"user/LoginOut",getConfigInfo:"course/getConfigInfo"})),{},{totalCollapse:function(){this.isCollapse=!this.isCollapse,this.$bus.emit("totalCollapse")},toPerson:function(){this.$router.push({name:"person"})},toChangePwd:function(){this.$router.push({name:"changePwd"})}}),computed:Object(n.a)(Object(n.a)({},Object(i.c)("user",["userInfo"])),{},{title:function(){return this.$route.meta.title||"当前页面"},matched:function(){return this.$route.matched}})},r=(s("5e47"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"layout-cont"},[s("el-container",[s("el-aside",{staticClass:"main-cont main-left"},[s("Aside",{staticClass:"aside"})],1),s("el-main",{staticClass:"main-cont main-right"},[s("el-header",{staticClass:"header-cont"},[s("div",{staticClass:"menu-total",on:{click:e.totalCollapse}},[e.isCollapse?s("i",{staticClass:"el-icon-s-unfold"}):s("i",{staticClass:"el-icon-s-fold"})]),s("h1",{staticClass:"admin-title"},[e._v(" 欢迎进入全球说课程编辑系统")]),s("div",{staticClass:"fl-right right-box"},[s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[s("img",{attrs:{src:e.userInfo.headerImg,height:"30",width:"30"}}),e._v(" "+e._s(e.userInfo.nickName)+" "),s("i",{staticClass:"el-icon-arrow-down"})]),s("el-dropdown-menu",{staticClass:"dropdown-group",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[s("span",[e._v(" 更多信息 "),s("el-badge",{attrs:{"is-dot":""}})],1)]),s("el-dropdown-item",{attrs:{icon:"el-icon-s-custom"},nativeOn:{click:function(t){return e.toPerson(t)}}},[e._v("个人信息")]),s("el-dropdown-item",{attrs:{icon:"el-icon-edit"},nativeOn:{click:function(t){return e.toChangePwd(t)}}},[e._v("修改密码")]),s("el-dropdown-item",{attrs:{icon:"el-icon-table-lamp"},nativeOn:{click:function(t){return e.LoginOut(t)}}},[e._v("退 出")])],1)],1)],1)]),s("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.matched.slice(1,e.matched.length),(function(t){return s("el-breadcrumb-item",{key:t.path},[e._v(e._s(t.meta.title))])})),1),s("transition",{attrs:{mode:"out-in",name:"el-fade-in-linear"}},[s("router-view",{staticClass:"admin-box"})],1)],1)],1)],1)}),[],!1,null,null,null);t.default=c.exports},"170d":function(e,t,s){},"172f":function(e,t,s){"use strict";var n=s("70da");s.n(n).a},1789:function(e,t,s){e.exports=s.p+"img/icon-logo.37588fc6.svg"},1792:function(e,t,s){"use strict";var n=s("c5b4");s.n(n).a},"17da":function(e,t,s){},"18cc":function(e,t,s){"use strict";s.r(t);var n=s("c24f"),a={data:function(){return{isSavePwd:!1,addNameCls:!1,addPwdCls:!1,addNewPwdCls:!1,form:{username:"",password:"",newPassword:""}}},methods:{goLogin:function(){this.$router.push({name:"login"})},resetPwd:function(){var e={newPassword:this.form.newPassword,password:this.form.password,username:this.form.username};Object(n.userChangePwd)(e).then((function(e){}))},onFocusName:function(){this.addNameCls=!0},onFocusPwd:function(){this.addPwdCls=!0},onFocusNewPwd:function(){this.addNewPwdCls=!0},blurTextFn:function(){""!==this.form.username?this.addNameCls=!0:this.addNameCls=!1,""!==this.form.password?this.addPwdCls=!0:this.addPwdCls=!1,""!==this.form.newPassword?this.addNewPwdCls=!0:this.addNewPwdCls=!1}}},i=(s("35f7"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"login-regist-box"},[s("div",{staticClass:"login_wrapper"},[s("div",{staticClass:"login_form"},[s("section",{staticClass:"login_content"},[s("div",{staticClass:"login-left"},[s("div",{staticClass:"icon-logo"},[s("i")]),s("span",{staticClass:"desc-talkmate"}),s("span",{staticClass:"desc text"},[e._v("欢迎使用全球说编辑器系统")])]),s("el-main",{staticClass:"login-box"},[s("h1",[e._v("忘记密码")]),s("form",[s("div",{staticClass:"form-group text-group",class:{active:1==e.addNameCls},attrs:{id:"text-icon"}},[s("i",{staticClass:"font_family icon-accout"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],attrs:{type:"text",id:"username",placeholder:"请输入用户名"},domProps:{value:e.form.username},on:{focus:function(t){return e.onFocusName()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})]),s("div",{staticClass:"form-group password-group",class:{active:1==e.addPwdCls},attrs:{id:"pwd-icon"}},[s("i",{staticClass:"font_family icon-password"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password",id:"old-password",placeholder:"请输入旧密码"},domProps:{value:e.form.password},on:{focus:function(t){return e.onFocusPwd()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),s("div",{staticClass:"form-group password-group",class:{active:1==e.addNewPwdCls},attrs:{id:"pwd-icon"}},[s("i",{staticClass:"font_family icon-password"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.newPassword,expression:"form.newPassword"}],attrs:{type:"password",id:"new-password",placeholder:"请输入新密码"},domProps:{value:e.form.newPassword},on:{focus:function(t){return e.onFocusNewPwd()},blur:function(t){return t.preventDefault(),e.blurTextFn()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.resetPwd()},input:function(t){t.target.composing||e.$set(e.form,"newPassword",t.target.value)}}})]),s("div",{staticClass:"btn_login"},[s("button",{staticClass:"login-btn-panel",attrs:{type:"button"},on:{click:function(t){return e.resetPwd()}}},[e._v("重置")]),s("i",{staticClass:"box-shadow"})])]),s("a",{staticClass:"go-login",attrs:{href:"javascript:;"},on:{click:function(t){return e.goLogin()}}},[s("span",[e._v("返回登录页")])])])],1)])])])}),[],!1,null,"03f58f9a",null);t.default=o.exports},"18f5":function(e,t,s){"use strict";s.r(t);var n={props:{name:{type:String}},data:function(){return{icons:{download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}}},a=s("4023"),i=Object(a.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div",{domProps:{innerHTML:this._s(this.icons[this.name])}})}),[],!1,null,null,null);t.default=i.exports},"18fa":function(e,t,s){},1967:function(e,t,s){},"1ac4":function(e,t,s){"use strict";var n=s("c783");s.n(n).a},"1ac7":function(e,t,s){},"1b26":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAA/FBMVEVHcEwa+ScZ+ikZ+iga+igX9ycZ+igW8ywc/yUZ/Coa+CcZ+ikZ+Sga+SoZ+Ska+igZ+Sga+SkZ9yca+ikZ+iga+Sga+SgY+iga+iga+ikZ+yka+iga+SkZ+Ska+ika9ica+SkY8iQb+SsZ+igY+CoZ+ika+ica+igY+isZ+Ska+iga/CkZ+Sga+ikb+Cca+ykZ+SgZ/zMc4hwZ+igZ+ikV/yoa+Sga+Cka+in///+z/bhm/HCd/aSS/ZqN/ZSr/bGY/Z9r/HWi/ain/a11/H6E/IzB/sWw/bXu/+9N+1l8/IVF+1FY+2Mv+z1j/G3h/uMi+jH2//fZ/tvQ/tNrvjW+AAAAOHRSTlMAhj299CDaFxtbJ+SKYYHo7pNHzfnKXz9q8lCi/I6uOusVL9AqoZxyNYLUV7XeVERkCglsqwywdfoigKEAAAZMSURBVHja7Z13c9pIGIeFCb33EpoNuAEmLkle5XCDxD3t7vt/l7M9N3MZa9EWbXlXw+9vdtAz0ra3Os5GG2200UZhU2LUL7dT9VyunmqX+6OEdQDJebPbqxTAo0Kl123OkzYwxCbZ6AAoGkSzkxhmiNx4BsyajXMoYbYiQ+DWMLKFi6JRyoCgMqUGFop0Pg6BFM+nEWAcTUGCpkdmKY734iBJ8b1jc/tdpAUS1YqY2TET2Q5IVierH+XkoAoKVD040ctxWgBFKpxqxCjXQKFqZV2TYxcUa1fLVPlQBOUqflB/Qj8DLTpTfNZPFUGTiimVHCXQqJIyjJ0aaFVtR9FnVQXNqir5vPJgQHn5HO/BiN5LxtiOgiFFt6VeAg/BmA4lXh/3M2BQmX1pBpJ3YFTvJJlaGoY5nkkaYXgfst7JPgKOZ5LA8ySdARTKBFy7tg8BiQ6D7SdRQKOohecS6aeVPKDSgfC5HZCpLniPqmID6YjdtGqAThX093Nmi1cIJojgNEkWcYK0eB2oZ4BUnzjtooBWTS47dREvSIvHmLoLiMVxVCkDarVt3gqFtsVTQK49Rj9nATtI8SMTyAGgV4Rp6a3iB+mwLMFZsEBdhhfSsQEE6K8kYgUHZKnxPi2jz/f96eHr/XcWix1t4dozirFyX7Vg+O1nCkjcIMePv93/dHdP/XGcEg9nkOMv9w/Rf+4fczdFwuGeU38/9TVZY+Fw3SfqiDRK0+JbDvcbdUge41T3cLirINO9gYfDvaGPaqCzyRE43Cv6sPVRNxk8HO5X+rjMWrcnIo67R4aRW6jOi0QOlhey/n41xMNxyTR2uCaPBQ/HF8bRZENwzjoOyBFBxtZxwJgIMrOOA2Y4pkhgDvIkmVjIARMEZiAZHEQbRNRCDmJcx8BCDhgQvJ82cpAMdXMrOWDuAWlayUFwjXat5CBYs3tWckDPA1KxkoPgTyxYyQEFD4idHAAe/46lHPA2029kKQeM3oD0LeWAvoGoDRUc8DYftm0phycwJWUpB7xNjKtTR9wvb+7ubhb3uDg8QY5UW9A1u+NCJ4fHIkQDuQn278o4PCCUT+viz/+/RcTh+bT8J/vjbwHLrBYOz2T3X34fhGzMOjg8y6//hnjL7+HTxOHZEP2PKHee51gi4fAcUfwPjf+4wiSKOTyHRv9j/DnhWRYoODzHeIf/cRYYOIDzqnvjCnmQ1XMUOI0PT64IiXoOgvGhx7G1M8bwaOAgmINoBjp+Eh0cBAMd1WRKJrkwy0EwmdKN2OdcJHo4CEbsJAiSfDPJQYr/Hcgk0cUxEHS9sZLo4iC63picoWSSB1McRGcom3v6ioFEHwfRPc0YMHBFjUrSyEGOqpnJIdHJMQsUVONPopNjTVANc5jTgvis1/o51oQ5sUfVrCfRy7Em8IwjFHAdiWaOYfDgTDKJZo61wZk84bJLl1XqONaGy3IFMC/Nc2TkhJQvTXP4hJTzBfkvDXP4BPlzpl2szHLE5SXCrExy+CbC8KYmrQxy+KYmcSeLrcxxTOWm712a4qCk7/FnWV0a4ohLT3G9NMJBLZcgkHR8aYKjRW1gIJDWc6ufg6FYgkhi/q12jg5DQXaRGPlbzRz0vHzR4hVf9HJUmSrkC5UTWXD6FoOJrT6gWIGX65+vGD+vNXAUGFtiiJXc+fV4ffHj8ZcGDmBuiIG8CFItLGWpONp6oC4UxlPiEHPptiJXcxLExfQ4W5OgLW94FpKCk0XuBitIS4AK9L9AWZRVqLkKwm2xJsKBsHBxVbBFTCoEEwRlce8A7WHCUm49PAXww9OSIDRNIsLTtiM8jVTC09omPM2GwtP+KTwNucLTIs0JTdM6UxWmFbQRdJy69pLGVUV9Q3cqejlUtdrUbYFU1/z05fPSVqBZbTtax4l90mSHU9wg+CXRRMNL0dCy+cUIqXxL2dXVb76tdPnS1tb8NdJDmWlYa6P5Z32MKNkeqwcnjm4l5Rey6mQTjgkls1JvXK2IGYzXD+yztCra8b1jx6iOpJSanx455pXOB3wt8XzaQaJGSfhWnyk1HFTaiggUcB5GthyEiuXGHKV2Z+NczMGr2CQbpeaYDqLZCWaI/zeYebPbqxCipQqVXrc5Tzq2KTHql9upei5XT7XL/VHC2WijjTbaKGz6F2OD7IMuXejbAAAAAElFTkSuQmCC"},"1b32":function(e,t,s){"use strict";s.r(t);var n=(s("323f"),s("4023")),a=Object(n.a)({props:["item"],data:function(){return{isShowTip:!1,hotText:this.item.isHot,options:[{value:"是"},{value:"否"}]}},mounted:function(){},methods:{checkText:function(e){this.hotText=e},changedImg:function(){this.$bus.emit("showUpCourseImg")}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",{on:{mouseleave:function(t){e.isShowTip=!1}}},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item.langIndex,expression:"item.langIndex"}],attrs:{type:"text"},domProps:{value:e.item.langIndex},on:{input:function(t){t.target.composing||e.$set(e.item,"langIndex",t.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item.code,expression:"item.code"}],attrs:{type:"text"},domProps:{value:e.item.code},on:{input:function(t){t.target.composing||e.$set(e.item,"code",t.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item.zhName,expression:"item.zhName"}],attrs:{type:"text"},domProps:{value:e.item.zhName},on:{input:function(t){t.target.composing||e.$set(e.item,"zhName",t.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item.enName,expression:"item.enName"}],attrs:{type:"text"},domProps:{value:e.item.enName},on:{input:function(t){t.target.composing||e.$set(e.item,"enName",t.target.value)}}})]),s("td",[s("a",{attrs:{href:"javascript:;"},on:{mouseenter:function(t){e.isShowTip=!0}}},[e._v(e._s(e.hotText))]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTip,expression:"isShowTip"}],staticClass:"tip-box"},e._l(e.options,(function(t,n){return s("span",{key:n,class:{active:e.hotText==t.value},on:{click:function(s){return e.checkText(t.value)}}},[e._v(e._s(t.value))])})),0)]),s("td",{staticClass:"img-box",on:{click:function(t){return e.changedImg()}}},[s("img",{attrs:{src:e.item.flag,alt:""}})])])}),[],!1,null,"4cf10234",null);t.default=a.exports},"1c0a":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["item"],data:function(){return{isShow:!1,isPlay:!1,checkedImg:!1,checkedSound:!1}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{showSave:function(){return this.checkedImg||this.checkedSound}}),methods:{use:function(e){this.$emit("use",{type:e,flag:"image"===e?this.checkedImg:this.checkedSound,url:"image"===e?this.item.image:this.item.sound})},save:function(){this.checkedImg&&this.use("image"),this.checkedSound&&this.use("sound"),this.$emit("closeUse")},playVoice:function(){var e=this,t=new Audio;this.isPlay?(t.pause(),this.isPlay=!1):(t.src=this.assetsDomain+this.item.sound,t.oncanplay=function(){t.play(),e.isPlay=!0},t.onended=function(){e.isPlay=!1})}}},o=(s("fc49"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item",on:{mouseleave:function(t){e.isShow=!1},mouseenter:function(t){e.isShow=!0}}},[s("div",{staticClass:"form-type"},[e.item.image?s("span",[s("i",{on:{click:e.playVoice}}),e._v("("+e._s(e.item.image.slice(e.item.image.lastIndexOf(".")+1)?e.item.image.slice(e.item.image.lastIndexOf(".")+1):"无")+")")]):e._e(),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSave,expression:"showSave"}],attrs:{size:"small",type:"text"},on:{click:e.save}},[e._v("确定")])],1),s("el-image",{staticClass:"form-img",attrs:{src:e._f("urlFix")(e.assetsDomain+e.item.image,"imageView2/1/format/jpg"),fit:"cover"}}),s("el-tooltip",{attrs:{effect:"dark",placement:"top",content:e.item.sentence}},[s("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.item.sentence)}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"handler"},[s("el-checkbox",{attrs:{"text-color":"#FFFFFF"},on:{change:function(t){return e.use("image")}},model:{value:e.checkedImg,callback:function(t){e.checkedImg=t},expression:"checkedImg"}},[e._v("使用图片")]),s("el-checkbox",{on:{change:function(t){return e.use("sound")}},model:{value:e.checkedSound,callback:function(t){e.checkedSound=t},expression:"checkedSound"}},[e._v("使用声音")])],1)],1)}),[],!1,null,"cf6e6c6a",null);t.default=r.exports},"1c46":function(e,t,s){"use strict";var n=s("e4c4");s.n(n).a},"1cfc":function(e,t,s){},"1dd7":function(e,t,s){"use strict";s.r(t),s("3466"),s("6db4"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("13d2"),r=s("cabd"),c={data:function(){return{isRequire:!1,dialogVisible:!1,tags:[],tagText:""}},components:{EditTagItem:o.default},watch:{tagText:function(){this.tagText.trim().length&&(this.isRequire=!1)}},methods:Object(a.a)(Object(a.a)({},Object(i.b)(["addOneTag"])),{},{initData:function(){var e=this;Object(r.imagesTags)().then((function(t){t.success&&t.data.tags&&t.data.tags.length>0&&(e.tags=t.data.tags)}))},show:function(){this.tagText="",this.initData(),this.dialogVisible=!0},addTag:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tagText.trim()){t.next=3;break}return e.isRequire=!0,t.abrupt("return",!1);case 3:if(!(e.tags.findIndex((function(t){return t.TagName===e.tagText.trim()}))>-1)){t.next=8;break}return e.$notify({title:"警告",message:"分类已经存在",type:"warning"}),t.abrupt("return",!1);case 8:return t.prev=8,s={tagKey:e.tagText},t.next=12,Object(r.addImageTag)(s);case 12:t.sent.success?(e.tagText="",e.initData(),e.$message({message:"添加成功",type:"success"})):e.$message({message:"添加失败",type:"warning"}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(8);case 20:case"end":return t.stop()}}),t,null,[[8,17]])})))()},close:function(){this.$emit("loadTags")}})},l=(s("635a"),s("5d62"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"标签分类",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[s("div",{staticClass:"edit-tags"},[s("div",{staticClass:"title"},[e._v("新建分类")]),s("div",{class:["add",{require:e.isRequire}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tagText,expression:"tagText"}],attrs:{type:"text",placeholder:"请输入新的分类名称"},domProps:{value:e.tagText},on:{input:function(t){t.target.composing||(e.tagText=t.target.value)}}}),s("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.addTag()}}},[e._v("保存")])]),s("div",{staticClass:"title"},[e._v("编辑分类")]),s("div",{staticClass:"tags"},[e.tags.length?s("div",{staticClass:"edit-tag-list"},e._l(e.tags,(function(t){return s("edit-tag-item",{key:"aa"+t.TagKey,attrs:{tag:t},on:{initData:function(t){return e.initData()}}})})),1):s("div",{staticClass:"no-tags"},[e._v("没有更多标签分类")])])])])}),[],!1,null,"2d07735c",null);t.default=u.exports},"1e45":function(e,t,s){},"1e61":function(e,t,s){"use strict";var n=s("7c1b");s.n(n).a},"1e68":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("fe59"),s("053b"),s("08ba");var n=s("c52d"),a=(s("b449"),s("ae9a")),i=s("0eaa"),o=s("de52"),r=s.n(o),c=s("bc5e"),l=s("ae8c"),u=s("cabd"),d=s("fd85"),f=s("c24f"),m=s("1087"),h=s("6963"),p={data:function(){return{selLang:"ENG",selCourseType:"",selCourseUUID:"",contents:[],api:"",authorityList:[],copyAuthorityList:[],authorityUsers:[],copyAuthorities:[],loading:null,showExportList:!1,exportList:[],exportNum:0}},components:{editComp:c.default,RightMenu:m.default,DialogOnline:h.default},created:function(){this.getAuthorityUsers(),this.getLangList({pageNo:0,pageSize:999}),this.getCourseTypes()},mounted:function(){var e=this;if(!this.lowerRoleUser){var t=document.getElementById("version-container");t.oncontextmenu=function(e){e.preventDefault()},t.onclick=function(){e.$refs.rightMenu&&e.$refs.rightMenu.hide()}}this.version&&(this.selLang=this.version.selLang),this.version&&this.version.selCourse&&(this.selCourseUUID=this.version.selCourse.uuid),this.initCourseVersionList()},watch:{"version.selCourse":function(e,t){this.selCourseUUID=e.uuid}},computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(l.c)({token:"user/token"})),Object(l.e)({assetsDomain:function(e){return e.course.assetsDomain},locale:function(e){return e.course.locale},langList:function(e){return e.course.langList},courseTypes:function(e){return e.course.courseTypes},version:function(e){return e.course.version},userInfo:function(e){return e.user.userInfo},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{versions:function(){var e=this,t=[];return"1"===this.userInfo.authorityId?t=this.version.versions:this.version.versions.forEach((function(s){if(s.authorities&&s.authorities.find((function(t){return t.user_uuid===e.userInfo.uuid&&t.auth}))){var n=s;n.curUserAuth=s.authorities.find((function(t){return t.user_uuid===e.userInfo.uuid&&t.auth})),t.push(n)}})),t&&t.length&&(t=t.sort((function(e,t){var s=e.module?e.module:"basic",n=t.module?t.module:"basic",a=0;return s>n&&(a=1),s<n&&(a=-1),a}))),t},isHaveAuthority:function(){var e=!1;if("1"===this.userInfo.authorityId)e=!0;else{if(!this.copyAuthorityList.length)return;var t=this.copyAuthorityList.find((function(e){return"1"===e.authorityId}));if(t.children)for(var s=0;s<t.children.length;s++)if(t.children[s].authorityId===this.userInfo.authorityId){e=!0;break}}return e}}),methods:Object(i.a)(Object(i.a)(Object(i.a)({},Object(l.d)({updateVersion:"course/updateVersion"})),Object(l.b)({getLangList:"course/getLangList",getCourseTypes:"course/getCourseTypes",getCourseList:"course/getCourseList",getCourseVersions:"course/getCourseVersions"})),{},{initCourseVersionList:function(){this.updateVersion({key:"selLang",val:this.selLang}),this.getCourseList({lan_code:this.selLang,pageNo:0,pageSize:0})},changeCourse:function(){var e=this,t=this.version.courseList.find((function(t){return t.uuid===e.selCourseUUID}));this.updateVersion({key:"selCourse",val:t}),this.getCourseVersions({pageNo:0,pageSize:0,parent_uuid:t.uuid})},addVersion:function(){var e="V"+(this.version.versions.length+1),t="";this.version.selCourse&&(t=this.version.selCourse.uuid);var s={obj:{name:e,parent_uuid:t},type:"add",versions:this.version.versions};this.$refs.edit.show(s)},editVersion:function(e){var t={obj:e,type:"edit"};this.$refs.edit.show(t)},confirm:function(e){var t=this,s="测试环境";"online"===e.dbEnv&&(s="正式环境"),this.$confirm("确定要上线".concat(s,"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u.addOnlineJob)({db_env:e.dbEnv,jobName:e.name,online_type:"content_version",online_uuid:e.uuid}).then((function(e){e.success&&(t.$message({type:"success",message:"上线成功"}),t.initCourseVersionList())}))})).catch((function(){t.$message({type:"info",message:"已取消上线"})}))},onlineJob:function(e){this.$refs.dialogOnline.show(e)},editShow:function(e){var t=this,s={uuid:e.uuid,content_info:{cover:e.cover?e.cover:[],desc:e.desc?e.desc:{},flag:e.flag?e.flag:[],has_changed:!e.has_changed||e.has_changed,is_show:!e.is_show,name:e.name?e.name:"",tags:[],title:e.title?e.title:{},update_time:e.update_time?e.update_time:0}};Object(u.editCourseVersion)(s).then((function(e){t.initCourseVersionList()}))},delVerdion:function(e){var t=this,s=e.uuid;this.$confirm("此操作将永久删除该版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u.delCourseVersion)({uuid:s}).then((function(e){e.success?t.initCourseVersionList():t.$message({type:"warning",message:e.msg})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},courseContent:function(e){this.updateVersion({key:"selVersion",val:e.uuid}),this.updateVersion({key:"uuid",val:e.uuid}),this.$router.push({path:"/course-content"})},getAuthOptions:function(e){var t=this;e&&e.length>0&&e.forEach((function(e){var s=e;if(0===s.children.length)t.authorityList.push(s);else{var n=s.children;t.authorityList.push(s),t.getAuthOptions(n)}}))},getAuthorityUsers:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var s,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.authorityList=[],e.authorityUsers=[],t.next=4,Object(f.getUserList)({page:1,pageSize:999});case 4:return s=t.sent,a=s.data.userList,t.next=8,Object(d.getAuthorityList)({page:1,pageSize:999});case 8:i=t.sent,e.copyAuthorityList=i.data.list,e.getAuthOptions(i.data.list),(o=e.authorityList.find((function(t){return t.authorityId===e.userInfo.authorityId}))).children.length&&o.children.forEach((function(t){var s=a.filter((function(e){return e.authorityId===t.authorityId}));e.authorityUsers=[].concat(Object(n.a)(e.authorityUsers),Object(n.a)(s))}));case 14:case"end":return t.stop()}}),t)})))()},cascaderFilterMethod:function(e,t){},contentmenu:function(e){if(this.lowerRoleUser)return!1;this.$refs.rightMenu.show(e)},copyVersion:function(e){this.$message({type:"success",message:"复制成功"});var t={selLang:this.selLang,selCourseType:this.version.selCourse.course_type,version:e};localStorage.setItem("copyVersion",JSON.stringify(t))},paste:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var s,n,a,i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s="",!e.version.selCourse){t.next=5;break}s=e.version.selCourse.uuid,t.next=7;break;case 5:return e.$message({type:"warning",message:"请选择课程"}),t.abrupt("return",!1);case 7:if(n=localStorage.getItem("copyVersion")?JSON.parse(localStorage.getItem("copyVersion")):""){t.next=11;break}return e.$message({type:"warning",message:"请先复制要粘贴的版本"}),t.abrupt("return",!1);case 11:if(n.selCourseType===e.version.selCourse.course_type){t.next=14;break}return e.$message({type:"warning",message:"请选择相同的课程分类再粘贴"}),t.abrupt("return",!1);case 14:return a=!1,e.selLang===n.selLang&&(a=!0),i={copy_from_uuid:n.version.uuid,copy_same_lang:a,cover:n.version.cover,desc:n.version.desc,flag:n.version.flag,has_changed:!0,is_show:!0,module:n.version.module,name:"复制-"+n.version.name,parent_uuid:s,tags:n.version.tags,title:n.version.title},t.next=19,Object(u.addCourseVersion)(i);case 19:if(!(o=t.sent).success){t.next=27;break}return r={authorities:[{authority:"rw",user_uuid:e.userInfo.uuid}],type:"content_version",uuid:o.data.uuid},t.next=24,Object(u.setAuthority)(r);case 24:e.initCourseVersionList(),localStorage.removeItem("copyVersion"),e.$refs.rightMenu.hide();case 27:case"end":return t.stop()}}),t)})))()},clickUpload:function(){var e=this,t=this.$refs.upload[0].$refs["upload-inner"];this.$confirm("确定要上传吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.handleClick()})).catch((function(){e.$message({type:"info",message:"已取消上传"})}))},beforeUpload:function(e){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},uploadSuccess:function(e,t,s){this.loading.close(),e.success?this.$message({type:"success",message:e.msg}):this.$message({type:"error",message:e.data.err})},formatDate:function(e,t,s,n){return r()(s).format("YYYY-MM-DD HH:mm")},download:function(e){}})},v=(s("33ac"),s("4023")),g=Object(v.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"version-container",attrs:{id:"version-container"},on:{contextmenu:e.contentmenu}},[s("div",{staticClass:"top-bar"},[s("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"请选择语种"},on:{change:e.initCourseVersionList},model:{value:e.selLang,callback:function(t){e.selLang=t},expression:"selLang"}},e._l(e.langList,(function(t){return s("el-option",{key:t.lan_code,attrs:{label:t.title[""+e.locale],value:t.lan_code}})})),1),s("el-select",{staticClass:"select-course",attrs:{filterable:"",placeholder:"请选择课程"},on:{change:e.changeCourse},model:{value:e.selCourseUUID,callback:function(t){e.selCourseUUID=t},expression:"selCourseUUID"}},e._l(e.version.courseList,(function(t){return s("el-option",{key:t.uuid,attrs:{label:t.name?t.name:"("+e.courseTypes.find((function(e){return e.type==t.course_type})).name+") "+t.title["zh-CN"]+"/"+t.title.en,value:t.uuid}},[s("div",{staticClass:"course"},[s("el-image",{staticStyle:{width:"24px",height:"24px","border-radius":"4px","margin-right":"4px"},attrs:{src:e.assetsDomain+t.flag[0],fit:"cover"}}),s("span",[e._v(e._s(t.name?t.name:"("+e.courseTypes.find((function(e){return e.type==t.course_type})).name+") "+t.title["zh-CN"]+"/"+t.title.en))])],1)])})),1),e._e()],1),s("div",{staticClass:"version-wrap"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isHaveAuthority,expression:"isHaveAuthority"}],staticClass:"version-item create",on:{click:e.addVersion}},[s("i",{staticClass:"el-icon-plus"}),s("span",[e._v("创建新版本")])]),e._l(e.versions,(function(t){return s("div",{key:t.uuid,staticClass:"version-item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show&&!1,expression:"item['is_show'] && false"}],staticClass:"online-flag"},[s("span",[e._v("线上")])]),s("div",{staticClass:"content"},[s("el-tooltip",{attrs:{effect:"dark",content:t.name,placement:"top"}},[s("div",{staticClass:"title",domProps:{textContent:e._s(t.name+("levelGrade"==t.module?"（等级测试）":""))}})]),s("ul",[s("li",[e._v("版本："+e._s(t.version))]),s("li",[e._v("版本描述："+e._s(Object.keys(t.desc).length?t.desc["zh-CN"]:""))]),s("li",[e._v("最后修改时间："+e._s(e._f("formatDate")(t.update_time,"YYYY年MM月DD日")))])])],1),s("div",{staticClass:"operate"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isHaveAuthority,expression:"isHaveAuthority"}],attrs:{type:"primary",disabled:"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,icon:"el-icon-setting",circle:""},on:{click:function(s){return e.editVersion(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isHaveAuthority,expression:"isHaveAuthority"}],attrs:{type:"info",icon:"el-icon-document-copy",disabled:"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,circle:""},on:{click:function(s){return e.copyVersion(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上线",placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"success",disabled:!t.has_changed||"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,icon:"el-icon-check",circle:""},on:{click:function(s){return e.onlineJob(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下线",placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"warning",icon:"el-icon-minus",circle:"",disabled:!t.is_show||"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth},on:{click:function(s){return e.editShow(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isHaveAuthority,expression:"isHaveAuthority"}],attrs:{type:"danger",disabled:"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,icon:"el-icon-delete",circle:""},on:{click:function(s){return e.delVerdion(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑课程内容",placement:"top"}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",disabled:"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,circle:""},on:{click:function(s){return e.courseContent(t)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传模板数据",placement:"top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.lowerRoleUser,expression:"!lowerRoleUser"}]},[s("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",disabled:"1"!==e.userInfo.authorityId&&"r"==t.curUserAuth.auth,circle:""},on:{click:e.clickUpload}}),s("el-upload",{ref:"upload",refInFor:!0,staticClass:"upload-demo",attrs:{accept:".xls,.xlsx",data:{parent_uuid:t.uuid},headers:{"x-token":e.token},action:e.api+"/editor/content/import","show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess}})],1)]),e._e()],1)])}))],2),s("edit-comp",{ref:"edit",attrs:{authorityUsers:e.authorityUsers},on:{newEditVersion:e.initCourseVersionList}}),s("right-menu",{ref:"rightMenu",on:{paste:e.paste}}),s("dialog-online",{ref:"dialogOnline",on:{confirm:e.confirm}})],1)}),[],!1,null,"2e7af079",null);t.default=g.exports},"1f27":function(e,t,s){"use strict";s.r(t),s.d(t,"asyncMenu",(function(){return a})),s.d(t,"getMenuList",(function(){return i})),s.d(t,"addBaseMenu",(function(){return o})),s.d(t,"getBaseMenuTree",(function(){return r})),s.d(t,"addMenuAuthority",(function(){return c})),s.d(t,"getMenuAuthority",(function(){return l})),s.d(t,"deleteBaseMenu",(function(){return u})),s.d(t,"updataBaseMenu",(function(){return d})),s.d(t,"getBaseMenuById",(function(){return f}));var n=s("b775"),a=function(){return Object(n.default)({url:"/menu/getMenu",method:"post"})},i=function(e){return Object(n.default)({url:"/menu/getMenuList",method:"post",data:e})},o=function(e){return Object(n.default)({url:"/menu/addBaseMenu",method:"post",data:e})},r=function(){return Object(n.default)({url:"/menu/getBaseMenuTree",method:"post"})},c=function(e){return Object(n.default)({url:"/menu/addMenuAuthority",method:"post",data:e})},l=function(e){return Object(n.default)({url:"/menu/getMenuAuthority",method:"post",data:e})},u=function(e){return Object(n.default)({url:"/menu/deleteBaseMenu",method:"post",data:e})},d=function(e){return Object(n.default)({url:"/menu/updataBaseMenu",method:"post",data:e})},f=function(e){return Object(n.default)({url:"/menu/getBaseMenuById",method:"post",data:e})}},"1fa4":function(e,t,s){},"205f":function(e,t,s){},2095:function(e,t,s){"use strict";s.r(t),s.d(t,"formatDate",(function(){return i}));var n=s("de52"),a=s.n(n),i=function(e,t){return e?(t||(t="YYYY-MM-DD"),a()(new Date(1e3*e)).format(t)):""}},"20cc":function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("1ac4"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sentence_audio)}}}),s("span",[e._v(e._s(e.form.sentence))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.words_choice.length,expression:"form.words_choice.length"}],staticClass:"options"},e._l(e.form.words_choice,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)])}),[],!1,null,"360cd4ce",null);t.default=r.exports},"21b9":function(e,t,s){"use strict";var n=s("2c58");s.n(n).a},"21d1":function(e,t,s){"use strict";s.r(t),s("4194"),s("2eeb"),s("053b");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("72f9"),r=(s("8102"),s("ae8c")),c=s("9d20"),l=s("a1c6"),u=s("59f3"),d=s("5775"),f=s("cd4b"),m=s("00de"),h=s("9067"),p=s("974b"),v={props:["slideForms"],data:function(){return{mySwiper:null}},created:function(){var e=this;this.$on("init",(function(){e.initSwiper(),setTimeout((function(){e.mySwiper.init()}),500)})),this.$on("nextForm",(function(){setTimeout((function(){e.mySwiper.slideTo(e.mySwiper.activeIndex+1)}),500)})),this.$on("setSwiperMousewheel",(function(t){t?e.mySwiper.mousewheel.enable():e.mySwiper.mousewheel.disable()})),this.$on("reset",(function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("break")}))},computed:Object(n.a)(Object(n.a)({},Object(r.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{getFormsTypes:function(){var e="";return i.a.map(this.slideForms,(function(t){e=i.a.isArray(t)?t[0].type.toLowerCase():t.type.toLowerCase()})),e}}),components:{"form-autoSpeak":c.default,"form-repeatSpeak":l.default,"form-imgToSentence":u.default,"form-sentenceToImgBox":h.default,"form-writeWords":m.default,"form-makeSentence":d.default,"form-fillGap":f.default,"form-pictureSentence":p.default},methods:{initSwiper:function(){var e=this;e.mySwiper=new o.a("#preview-swiper",{init:!1,loop:!1,autoplay:!1,speed:500,slidesPerView:"auto",slideToClickedSlide:!0,centeredSlides:!0,grabCursor:!0,observer:!0,mousewheel:!0,on:{init:function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")},slideChange:function(){e.$refs["comp-"+e.mySwiper.previousIndex][0].$emit("break"),e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")}}})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.name),s}}},g=(s("6dee"),s("4023")),b=Object(g.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["swiper-container",e.getFormsTypes],attrs:{id:"preview-swiper"}},[s("div",{staticClass:"swiper-wrapper"},e._l(e.slideForms,(function(t,n){return s("div",{key:t.code+n,staticClass:"swiper-slide"},[s("h2",[e._v(e._s(e.typeName(t.type)))]),s("keep-alive",[s("form-"+t.type,{ref:"comp-"+n,refInFor:!0,tag:"component",attrs:{form:t,index:n,slideForms:e.slideForms}})],1)],1)})),0)])}),[],!1,null,"7f334f54",null);t.default=b.exports},"223d":function(e,t,s){"use strict";s.r(t),s("ecb4"),s("053b");var n=s("0eaa"),a=(s("b449"),s("ae9a")),i=s("a18c"),o=s("4360"),r=0,c=["login","regist","resetPwd"];i.default.beforeEach(function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,s,a){var l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.store.getters["user/token"],!(c.indexOf(t.name)>-1)){e.next=5;break}l?a({path:"/layout/dashbord"}):a(),e.next=17;break;case 5:if(!l){e.next=16;break}if(r){e.next=15;break}return r++,e.next=10,o.store.dispatch("router/SetAsyncRouter");case 10:u=o.store.getters["router/asyncRouters"],i.default.addRoutes(u),a(Object(n.a)(Object(n.a)({},t),{},{replace:!0})),e.next=16;break;case 15:a();case 16:l||a({name:"login"});case 17:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}())},2301:function(e,t,s){"use strict";var n=s("ba22");s.n(n).a},"230e":function(e,t,s){},"231a":function(e,t,s){"use strict";var n=s("0dab");s.n(n).a},"235a":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;e&&(this.myAudio.src=this.assetsDomain+e,this.myAudio.oncanplay=function(){t.myAudio.play()})},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("d3ee"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sound)}}})])]),s("div",{staticClass:"options"},[s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.form.text?e.form.text.replace(new RegExp(/\n/,"g"),"<br />"):"")}})])])])])}),[],!1,null,"3fec621f",null);t.default=r.exports},"237a":function(e,t,s){"use strict";var n=s("a812");s.n(n).a},"23b9":function(e,t,s){},"246b":function(e,t,s){"use strict";var n=s("63ff");s.n(n).a},2516:function(e,t,s){"use strict";var n=s("97a7");s.n(n).a},"25ce":function(e,t,s){},"262f":function(e,t,s){"use strict";var n=s("edbd");s.n(n).a},2651:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("8bfd"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("span",[e._v(e._s(e.form.content+" "+e.form.translate))]),s("i",{on:{click:function(t){return e.play(e.form)}}})]),s("div",{staticClass:"word"},[e._v(" "+e._s(e.form.word)+" ")])])])])])}),[],!1,null,"6c06b70a",null);t.default=r.exports},2686:function(e,t,s){},"268a":function(e,t,s){},"26a0":function(e,t,s){"use strict";s.r(t);var n={data:function(){return{forms:[],form:{formType:"repeatSpeak",sentence:"Hello",sound:"",image:"https://course-assets1.talkmate.com/course/images/common/Basic/Level1/Unit1/Chapter1/A0/1-2.webp?imageMogr2/thumbnail/460x258!/q/80"}}},components:{FormComp:s("69db").default}},a=(s("2301"),s("4023")),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slide-container"},[t("div",{staticClass:"forms"},[t("form-comp",{attrs:{form:this.form}}),t("form-comp",{attrs:{form:this.form}}),t("form-comp",{attrs:{form:this.form}}),t("form-comp",{attrs:{form:this.form}}),t("form-comp",{attrs:{form:this.form}}),t("form-comp",{attrs:{form:this.form}})],1),this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bottom"},[t("div",{staticClass:"name"},[this._v("Slide1")]),t("div",{staticClass:"handler"},[t("div",{staticClass:"add-form"},[this._v("新增Form")]),t("div",{staticClass:"preview"},[this._v("预览")])])])}],!1,null,"3b404b1e",null);t.default=i.exports},"276e":function(e,t,s){"use strict";var n=s("590f");s.n(n).a},"27ea":function(e,t,s){e.exports=s.p+"img/pic-blue.73c42a3c.png"},"27f7":function(e,t,s){},"27fe":function(e,t,s){"use strict";s.r(t),s("e35a"),s("0d7a"),s("b449");var n=s("ae9a"),a=s("4ec3"),i={name:"Api",mixins:[s("b016").default],data:function(){return{listApi:a.getApiList,listKey:"list",dialogFormVisible:!1,form:{path:"",group:"",description:""},type:""}},methods:{onSubmit:function(){this.page=1,this.pageSize=10,this.getTableData()},autoGroup:function(){this.form.group=this.form.path.split("/")[1]},initForm:function(){this.form={path:"",group:"",description:""}},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},openDialog:function(e){this.type=e,this.dialogFormVisible=!0},editApi:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.getApiById)({id:e.ID});case 2:n=s.sent,t.form=n.data.api,t.openDialog("edit");case 5:case"end":return s.stop()}}),s)})))()},deleteApi:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.$confirm("此操作将永久删除所有角色下该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.deleteApi)(e);case 2:s.sent.success&&(t.$message({type:"success",message:"删除成功!"}),t.getTableData());case 4:case"end":return s.stop()}}),s)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return s.stop()}}),s)})))()},enterDialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="addApi"===t.t0?3:"edit"===t.t0?10:17;break;case 3:return t.next=5,Object(a.createApi)(e.form);case 5:return t.sent.success&&e.$message({type:"success",message:"添加成功",showClose:!0}),e.getTableData(),e.closeDialog(),t.abrupt("break",19);case 10:return t.next=12,Object(a.updataApi)(e.form);case 12:return t.sent.success&&e.$message({type:"success",message:"添加成功",showClose:!0}),e.getTableData(),e.closeDialog(),t.abrupt("break",19);case 17:return e.$message({type:"error",message:"未知操作",showClose:!0}),t.abrupt("break",19);case 19:case"end":return t.stop()}}),t)})))()}}},o=(s("8e8a"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"button-box clearflex"}),s("div",{staticClass:"search-term"},[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchInfo}},[s("el-form-item",{attrs:{label:"路径"}},[s("el-input",{attrs:{placeholder:"路径"},model:{value:e.searchInfo.path,callback:function(t){e.$set(e.searchInfo,"path",t)},expression:"searchInfo.path"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog("addApi")}}},[e._v("新增api")])],1)],1)],1),s("el-table",{attrs:{data:e.tableData,border:"",stripe:""}},[s("el-table-column",{attrs:{label:"id","min-width":"60",prop:"ID"}}),s("el-table-column",{attrs:{label:"api路径","min-width":"150",prop:"path"}}),s("el-table-column",{attrs:{label:"api分组","min-width":"150",prop:"group"}}),s("el-table-column",{attrs:{label:"api简介","min-width":"150",prop:"description"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.editApi(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.deleteApi(t.row)}}},[e._v("删除")])]}}])})],1),s("el-pagination",{style:{float:"right",padding:"20px"},attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[10,30,50,100],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),s("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"新增Api"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{attrs:{inline:!0,model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"路径"}},[s("el-input",{attrs:{autocomplete:"off"},on:{blur:e.autoGroup},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),s("el-form-item",{attrs:{label:"api分组"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),s("el-form-item",{attrs:{label:"api简介"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"3848c5c7",null);t.default=r.exports},2840:function(e,t,s){},2927:function(e,t,s){},"29f1":function(e,t,s){},"2a10":function(e,t,s){"use strict";var n=s("5fbd");s.n(n).a},"2a21":function(e,t,s){},"2a3d":function(e,t,s){"use strict";s.r(t);var n=(s("d205"),s("8c32"),s("4023")),a=Object(n.a)({data:function(){return{courseClass:{code:"K1A",name:"初级A1"},filterClasses:[{code:"K1A",name:"初级A1"},{code:"K1B",name:"初级A2"},{code:"K2A",name:"中级B1"},{code:"K2B",name:"中级B2"},{code:"K3A",name:"高级B1"},{code:"K3B",name:"高级B2"}],course:"课程1",courses:[{name:"课程1"},{name:"课程2"},{name:"课程3"},{name:"课程4"},{name:"课程5"}],core:"核心1",cores:[{name:"核心1"},{name:"核心2"},{name:"核心3"},{name:"核心4"},{name:"核心5"}]}},methods:{back:function(){this.$emit("stepTeoBack")},curClassChange:function(e){this.courseClass=e},curCourseChange:function(e){this.course=e},curCoreChange:function(e){this.core=e}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"step-two"},[s("div",{staticClass:"step-back"},[s("span",{staticClass:"el-icon-arrow-left back",on:{click:function(t){return e.back()}}},[e._v("Pro V2")])]),s("div",{staticClass:"step-select"},[s("el-select",{attrs:{"value-key":"code"},on:{change:e.curClassChange},model:{value:e.courseClass,callback:function(t){e.courseClass=t},expression:"courseClass"}},e._l(e.filterClasses,(function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e}})})),1),s("el-select",{on:{change:e.curCourseChange},model:{value:e.course,callback:function(t){e.course=t},expression:"course"}},e._l(e.courses,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1),s("el-select",{on:{change:e.curCoreChange},model:{value:e.core,callback:function(t){e.core=t},expression:"core"}},e._l(e.cores,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1)])}),[],!1,null,"76f4dc45",null);t.default=a.exports},"2aca":function(e,t,s){"use strict";var n=s("9271");s.n(n).a},"2ad7":function(e,t,s){},"2ae6":function(e,t,s){},"2b1b":function(e,t,s){},"2c2b":function(e,t,s){"use strict";var n=s("8605");s.n(n).a},"2c58":function(e,t,s){},"2cfc":function(e,t,s){},"2e5a":function(e,t,s){"use strict";var n=s("2840");s.n(n).a},"2e6d":function(e,t,s){"use strict";var n=s("d13a");s.n(n).a},"2efc":function(e,t,s){"use strict";s.r(t),s.d(t,"formateFileSize",(function(){return n})),s("20a5");var n=function(e){return e?e<1024?e+"B":e<Math.pow(1024,2)?(e/1024).toFixed(2)+"K":e<Math.pow(1024,3)?(e/Math.pow(1024,2)).toFixed(2)+"M":e<Math.pow(1024,4)?(e/Math.pow(1024,3)).toFixed(2)+"G":(e/Math.pow(1024,4)).toFixed(2)+"T":""}},"2f35":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("9302"),s("053b"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("de52"),o=s.n(i),r=s("cabd"),c=s("ae8c"),l=s("0470"),u={data:function(){return{dialogFormVisible:!1,dialogImageUrl:"",dialogVisible:!1,srcList:[],dialogImageUrl1:"",dialogVisible1:!1,token:"",sharePoster:[],form:{courseCode:"",jumpUrl:"http://test-learn.talkmate.com:82/liveShare/index.html",shareTitle:"",shareDesc:"",bgImg:null,qrCodeX:170,qrCodeY:170,scaleX:506,scaleY:964,"sharePoster[]":""},rules:{shareTitle:[{required:!0,message:"请输入分享标题",trigger:"blur"}],shareDesc:[{required:!0,message:"请输入分享描述",trigger:"blur"}],qrCodeX:[{type:"number",message:"二维码宽必须为数字值"}],qrCodeY:[{type:"number",message:"二维码高必须为数字值"}],scaleX:[{type:"number",message:"二维码距左必须为数字值"}],scaleY:[{type:"number",message:"二维码距顶必须为数字值"}]},shareImageUrl:"",fileList:[]}},mounted:function(){var e=this;Object(r.getInfoTokenUploadFile)().then((function(t){e.token=t.data.token}))},computed:Object(a.a)(Object(a.a)({},Object(c.e)({uploadfileDomain:function(e){return e.course.uploadfileDomain}})),{},{jumpUrl:function(){return"http://test-learn.talkmate.com:82/liveShare/index.html"}}),methods:{show:function(e){var t=this;this.resetForm();var s=[];e.room.liveInfo.sharePoster&&e.room.liveInfo.sharePoster.length&&e.room.liveInfo.sharePoster.forEach((function(e){s.push({name:e,url:t.uploadfileDomain+e})})),this.sharePoster=s,this.form.courseCode=e.room.code,this.form.shareTitle=e.room.liveInfo.shareTitle,this.form.shareDesc=e.room.liveInfo.shareDesc,this.shareImageUrl=e.room.liveInfo.shareBgUrl,this.srcList=[this.shareImageUrl],this.dialogFormVisible=!0},changebgImage:function(e,t){this.form.bgImg=e.raw},resetForm:function(){this.fileList=[],this.form={courseCode:"",shareTitle:"",shareDesc:"",jumpUrl:"http://test-learn.talkmate.com:82/liveShare/index.html",bgImg:null,qrCodeX:174,qrCodeY:174,scaleX:506,scaleY:964}},submitForm:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){var n,a,i,c,u,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=21;break}n=[],a=0;case 3:if(!(a<e.sharePoster.length)){t.next=19;break}if(!(i=e.sharePoster[a]).raw){t.next=15;break}return c=o()(new Date).format("YYYY/MM/DD"),u=i.name.split(".")[1],d="live/images/"+c+"/"+i.uid+"."+u,t.next=11,Object(l.uploadQiniu)(i.raw,e.token,d);case 11:f=t.sent,n.push(f.key),t.next=16;break;case 15:n.push(i.name);case 16:a++,t.next=3;break;case 19:e.form["sharePoster[]"]=n.join(","),Object(r.sharePosterLive)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"生成成功"}),e.form.bgImg&&(e.shareImageUrl=t.data.shareBgUrl,e.srcList=[e.shareImageUrl]))}));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handlePictureCardPreview:function(){this.dialogImageUrl=this.shareImageUrl,this.dialogVisible=!0},close:function(){this.$emit("initData")},uploadOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.sharePoster=t;case 1:case"end":return e.stop()}}),e)})))()},handlePictureCardPreview1:function(e){this.dialogImageUrl1=e.url,this.dialogVisible1=!0},handleRemove:function(e,t){this.sharePoster=this.sharePoster.filter((function(t){return t.name!==e.name}))}}},d=(s("71a0"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{width:"80%",title:"制作分享海报",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"分享网址"}},[s("el-input",{attrs:{placeholder:"http://"},model:{value:e.form.jumpUrl,callback:function(t){e.$set(e.form,"jumpUrl",t)},expression:"form.jumpUrl"}})],1),s("el-form-item",{attrs:{label:"标题"}},[s("el-input",{attrs:{maxlength:"25","show-word-limit":""},model:{value:e.form.shareTitle,callback:function(t){e.$set(e.form,"shareTitle",t)},expression:"form.shareTitle"}})],1),s("el-form-item",{attrs:{label:"描述"}},[s("el-input",{attrs:{type:"textarea",maxlength:"50","show-word-limit":""},model:{value:e.form.shareDesc,callback:function(t){e.$set(e.form,"shareDesc",t)},expression:"form.shareDesc"}})],1),s("el-form-item",{attrs:{label:"背景图",prop:"bgImg"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"#",accept:"image/jpeg","auto-upload":!1,"on-change":e.changebgImage,"file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg文件，且不超过500kb")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"二维码宽",prop:"qrCodeX"}},[s("el-input",{model:{value:e.form.qrCodeX,callback:function(t){e.$set(e.form,"qrCodeX",e._n(t))},expression:"form.qrCodeX"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"二维码高",prop:"qrCodeY"}},[s("el-input",{model:{value:e.form.qrCodeY,callback:function(t){e.$set(e.form,"qrCodeY",e._n(t))},expression:"form.qrCodeY"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"二维码距左",prop:"scaleX"}},[s("el-input",{model:{value:e.form.scaleX,callback:function(t){e.$set(e.form,"scaleX",e._n(t))},expression:"form.scaleX"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"二维码距顶",prop:"scaleY"}},[s("el-input",{model:{value:e.form.scaleY,callback:function(t){e.$set(e.form,"scaleY",e._n(t))},expression:"form.scaleY"}})],1)],1)],1),s("el-form-item",{attrs:{label:"海报",prop:"",rules:[{required:!0,message:"请上传课程海报"}]}},[s("el-tag",{attrs:{type:"warning"}},[e._v("第一张图为分享H5课程介绍，第二张图为分享H5课程海报")]),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","list-type":"picture-card",accept:"image/png,image/jpg,image/jpeg","on-preview":e.handlePictureCardPreview1,"on-change":e.uploadOnchange,"on-remove":e.handleRemove,"file-list":e.sharePoster,"show-file-list":!0,"auto-upload":!1}},[s("div",{staticClass:"upload-area"},[s("i",{staticClass:"el-icon-plus"})])]),s("el-dialog",{attrs:{visible:e.dialogVisible1,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl1,alt:""}})])],1)],1)],1),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"qrcodePoster"},[e.shareImageUrl?s("el-image",{attrs:{src:e.shareImageUrl,fit:"cover","preview-src-list":e.srcList}}):s("div",[e._v("此处为生成含二维码的海报")])],1),s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)}),[],!1,null,"47621e91",null);t.default=f.exports},3027:function(e,t,s){},3088:function(e,t,s){"use strict";var n=s("230e");s.n(n).a},"30bd":function(e,t,s){},"30ea":function(e,t,s){},3123:function(e,t,s){"use strict";var n=s("ed1a");s.n(n).a},3197:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={data:function(){return{isShow:!1,top:"",form:null}},created:function(){var e=this;this.$bus.$on("curContentForm",(function(t){e.form=t}))},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this;if(!this.form)return"";var t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},imgUrl:function(){if(!this.form)return"";var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:{show:function(e){this.top=e.top,this.isShow=!0},hide:function(){this.isShow=!1},clickThumbForm:function(){document.getElementById("edit-file").scrollTop=0}},destroyed:function(){this.$bus.$off("curContentForm")}},o=(s("7dbb"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"form-thumb",style:{top:e.top+"px"},on:{click:e.clickThumbForm}},[s("div",{staticClass:"type-name"},[e._v(e._s(e.typeName))]),s("div",{staticClass:"form-img"},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.imgUrl,expression:"imgUrl"}],attrs:{src:e._f("urlFix")(e.imgUrl,"imageView2/1/format/jpg"),fit:"cover"}})],1),s("div",{staticClass:"text"},[s("span",{domProps:{textContent:e._s(e.form&&e.form.sentence?"fillGap"==e.form.type&&e.form.options?e.form.sentence.replace(e.form.options[0],"______"):e.form.sentence:"")}})])])])}),[],!1,null,"77535262",null);t.default=r.exports},"323f":function(e,t,s){"use strict";var n=s("11ff");s.n(n).a},3357:function(e,t,s){"use strict";var n=s("5105");s.n(n).a},"337f":function(e,t,s){"use strict";var n=s("08d0");s.n(n).a},"33ac":function(e,t,s){"use strict";var n=s("f4a4");s.n(n).a},"35c6":function(e,t,s){"use strict";var n=s("4729");s.n(n).a},"35f7":function(e,t,s){"use strict";var n=s("5a9f");s.n(n).a},3677:function(e,t,s){"use strict";var n=s("cb6e");s.n(n).a},"36fe":function(e,t,s){},"37af":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("fe59"),s("6ae3"),s("053b"),s("08ba");var n=s("de52"),a=s.n(n),i=s("0470"),o=s("cabd"),r={data:function(){return{dialogVisible:!1,tags:[],checkTags:[],token:"",fileList:[]}},methods:{show:function(e){this.fileList=[],this.tags=e.tags,this.token=e.token,this.dialogVisible=!0},close:function(){this.dialogVisible=!1},submitUpload:function(){var e=this;if(0===this.checkTags.length)return this.$message({type:"warning",message:"请选择分类"}),!1;var t=this.$refs.upload.uploadFiles;if(0===t.length)return this.$message({type:"warning",message:"请选择要上传的文件"}),!1;var s=[],n=[],r=a()(new Date).format("YYYY/MM/DD");t.forEach((function(t){var a=t.name.lastIndexOf("."),o=t.name.substring(a+1),c=t.name.substring(0,a),l="course/images/common/"+r+"/"+t.uid+"."+o;s.push(l),n.push(c),Object(i.uploadQiniu)(t.raw,e.token,l)}));var c={image_urls:s,tagKeys:this.checkTags,names:n};Object(o.addMoreImages)(c).then((function(t){t.success&&(e.$message({type:"success",message:"上传成功"}),e.$emit("closeLoad"),e.dialogVisible=!1)}))},handleRemove:function(e,t){},handlePreview:function(e){},handleExceed:function(e,t){this.$message.warning("当前限制选择 10 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))}}},c=s("4023"),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"图片上传",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[s("el-form",[s("el-form-item",{attrs:{label:"选择分类："}},[s("el-checkbox-group",{model:{value:e.checkTags,callback:function(t){e.checkTags=t},expression:"checkTags"}},e._l(e.tags,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e.TagKey}})})),1)],1),s("el-form-item",[s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg,image/webp","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture",limit:10,"on-exceed":e.handleExceed,multiple:!0,"auto-upload":!1}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传并保存")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)],1)}),[],!1,null,"7361e2f5",null);t.default=l.exports},"388c":function(e,t,s){},"38e2":function(e,t,s){"use strict";s.r(t),s.d(t,"router",(function(){return o})),s("b449");var n=s("ae9a"),a=s("8244"),i=s("1f27"),o={namespaced:!0,state:{asyncRouters:[]},mutations:{setAsyncRouter:function(e,t){e.asyncRouters=t}},actions:{SetAsyncRouter:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.commit,n=[{path:"/layout",name:"layout",component:"views/layout/index.vue",meta:{title:"底层layout"},children:[]}],t.next=4,Object(i.asyncMenu)();case 4:return o=t.sent,r=o.data.menus,n[0].children=r,n.push({path:"*",redirect:"/404"}),Object(a.asyncRouterHandle)(n),s("setAsyncRouter",n),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})))()}},getters:{asyncRouters:function(e){return e.asyncRouters}}}},"39bf":function(e,t,s){"use strict";var n=s("85d3");s.n(n).a},"39c9":function(e,t,s){"use strict";var n=s("8ce4");s.n(n).a},"3aa7":function(e,t,s){},"3aa80":function(e,t,s){"use strict";var n=s("c5b41");s.n(n).a},"3c1d":function(e,t,s){},"3d3b":function(e,t,s){"use strict";var n=s("29f1");s.n(n).a},"3df0":function(e,t,s){"use strict";var n=s("c21e");s.n(n).a},"3dfd":function(e,t,s){"use strict";s.r(t);var n=(s("5c0b"),s("4023")),a=Object(n.a)({name:"app",components:{}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)}),[],!1,null,null,null);t.default=a.exports},"3e3d":function(e,t,s){"use strict";var n=s("055a");s.n(n).a},"3ef4":function(e,t,s){"use strict";var n=s("eab0");s.n(n).a},"3fb7":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("77ad"),s("e35a"),s("0d7a"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("cabd"),l=!0,u={data:function(){return{searchKey:"",selLang:"ENG-CHI",list:[],isShow:!1,currentPage:1,total:0,pageSize:10,scrollTop:0,isShowPagination:!1}},components:{EditSentence:s("6ea4").default},created:function(){this.initData()},mounted:function(){},computed:Object(a.a)(Object(a.a)(Object(a.a)({},Object(i.c)("user",["userInfo"])),Object(i.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{fromLang:function(){return this.selLang.split("-")[0]},toLang:function(){return this.selLang.split("-")[1]}}),methods:{handlerScroll:function(e){e.target.scrollTop+e.target.offsetHeight===e.target.scrollHeight&&l&&(this.scrollTop=e.target.scrollHeight-e.target.offsetHeight,l=!1,this.currentPage++,this.initData())},handlerSearch:function(){this.currentPage=1,this.initData()},initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===e.currentPage&&(e.list=[]),t.next=3,Object(c.getSentenceList)({sentence:e.searchKey,from:e.fromLang,to:e.toLang,page_index:e.currentPage,page_size:e.pageSize});case 3:(s=t.sent).success&&s.data&&(n=e.list.slice(),e.list=n.concat(s.data),setTimeout((function(){e.$refs.content.scrollTop=e.scrollTop,l=!0}),0));case 5:case"end":return t.stop()}}),t)})))()},editCourse:function(e){var t=this;Object(c.getSentenceDetail)({uuid:e.uuid,from:this.fromLang,to:this.toLang}).then((function(e){if(!e.data.uuid)return t.$message({type:"warning",message:"此条数据为垃圾数据"}),!1;var s={type:"edit",fromLang:t.fromLang,toLang:t.toLang,form:e.data};t.$refs.edit.show(s)}))},handleEdit:function(e){e.course_type,e.cover,e.desc&&e.desc,e.flag&&e.flag,e.is_show,e.title&&e.title,e.uuid},addCourse:function(){var e={type:"add",fromLang:this.fromLang};this.$refs.edit.show(e)},deleteCourse:function(e){var t=this;this.$confirm("此操作将永久删除该课程分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},curCourse:function(){this.initData()},imageUrl:function(e){return this.assetsDomain+e},formatterDate:function(e){return e&&e.updatedOn?r()(e.updatedOn).format("YYYY-MM-DD HH:mm"):""},addDetail:function(e){this.$refs.courseDetail.show(e)},unlockCourse:function(e){this.$refs.unlockCourse.show(e)}}},d=(s("48d6"),s("1e61"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"content",staticClass:"main-content sentence",on:{scroll:e.handlerScroll}},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch(t)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.handlerSearch},slot:"prepend",model:{value:e.selLang,callback:function(t){e.selLang=t},expression:"selLang"}},[s("el-option",{attrs:{label:"英汉",value:"ENG-CHI"}})],1),s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handlerSearch},slot:"append"})],1)],1),s("div",{staticClass:"right"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.addCourse}},[e._v("添加")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[s("el-table-column",{attrs:{width:"60",label:"序号",type:"index"}}),s("el-table-column",{attrs:{label:"句子",prop:"sentence"}}),s("el-table-column",{attrs:{label:"更新时间",formatter:e.formatterDate}}),s("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],attrs:{size:"mini"},on:{click:function(s){return e.editCourse(t.row)}}},[e._v("编辑")])]}}])})],1),s("edit-sentence",{ref:"edit"})],1)}),[],!1,null,"4de36e43",null);t.default=f.exports},"3fec":function(e,t,s){},4011:function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("de52"),i=s.n(a),o=s("cabd"),r={data:function(){return{dialogVisible:!1,disabled:!1,course:{},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},form:{range:""},rules:{range:[{required:!0,message:"请输入起止时间",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.course=e,t.form.range="",t.dialogVisible=!0;case 4:case"end":return s.stop()}}),s)})))()},onSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=4;break}Object(o.getStatisticPart)({code:e.course.lan_code,courseCode:e.course.code,startDate:i()(e.form.range[0]).format("YYYY-MM-DD"),endDate:i()(e.form.range[1]).format("YYYY-MM-DD")}).then((function(t){t.success&&(e.$message({type:"success",message:"请求已发送，请到下载任务列表中下载"}),e.$emit("refreshDownloadList"),e.dialogVisible=!1)})),t.next=6;break;case 4:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},closed:function(){}}},c=(s("130e"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"统计",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[s("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"起止时间",prop:"range"}},[s("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.form.range,callback:function(t){e.$set(e.form,"range",t)},expression:"form.range"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,"5f6c495a",null);t.default=l.exports},4039:function(e,t,s){},4104:function(e,t,s){"use strict";var n=s("6dfd");s.n(n).a},"411d":function(e,t,s){},4186:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("ae8c"),r=s("a196"),c=s("5131"),l={props:["slideForms"],data:function(){return{curForm:this.slideForms[0],forms:[],isPlay:!1,audio:new Audio,curIndex:0,addCorrect:!1,addWrong:!1,current:0}},created:function(){var e=this;this.$on("init",(function(){e.curForm=e.slideForms[0],e.forms=e.getForms(),e.$emit("curFormPlay")})),this.$on("check",(function(t){return e.current=t.index,e.curForm.uuid!==t.form.uuid?(e.addWrong=!0,setTimeout((function(){e.addWrong=!1}),500),!1):(e.curIndex===e.slideForms.length-1?e.curIndex=t.index:e.curIndex++,e.addCorrect=!0,setTimeout((function(){e.addCorrect=!1}),500),t.form.uuid!==e.slideForms[e.slideForms.length-1].uuid&&(e.curForm=e.slideForms[e.curIndex],e.forms=e.getForms(),void e.$emit("curFormPlay")))})),this.$on("curFormPlay",(function(){e.playVoice()})),this.$on("reset",(function(){e.audio.pause(),e.isPlay=!1}))},components:{"form-sentenceToImg":r.default,"form-countDown":r.default,"form-speakToImg":c.default},computed:Object(n.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.curForm.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},getForms:function(){var e=this.curForm,t=[e],s=this.slideForms.filter((function(t){return t.sentence!==e.sentence}));return t=t.concat(i.a.sampleSize(s,1)),i.a.shuffle(t)}}},u=(s("fd8d"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"choice-container"},[s("div",{staticClass:"sentence-box"},[s("a",{staticClass:"text-box",on:{click:e.playVoice}},[e._m(0),s("span",[e._v(e._s(e.curForm.sentence))])])]),s("div",{staticClass:"choice-list"},e._l(e.forms,(function(t,n){return s("div",{key:n,staticClass:"choice-item",class:[{correct:e.current==n&&t.sentence==e.curForm.sentence&&e.addCorrect},{wrong:e.current==n&&t.sentence!==e.curForm.sentence&&e.addWrong}],attrs:{id:"form"+t.uuid}},[s("keep-alive",[s("form-"+t.type,{ref:"comp-"+n,refInFor:!0,tag:"component",attrs:{form:t,index:n}})],1)],1)})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"trumpet"},[t("i")])}],!1,null,"2dc99086",null);t.default=d.exports},"41b5":function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("dbb33"),a=s("3197"),i={data:function(){return{contentModel:"",contents:[],feilds:[]}},components:{ModelComp:n.default,FormThumb:a.default},mounted:function(){var e=this;document.getElementById("edit-file").addEventListener("scroll",(function(t){var s=document.getElementById("form-model");s&&t.target.offsetTop+t.target.scrollTop+100>s.offsetTop?e.$refs.thumb.show({top:t.target.offsetTop+10}):e.$refs.thumb.hide()}))},methods:{show:function(e){var t=this;this.resetData(),this.contentModel=e.folder.content_model,this.feilds=e.model.feilds;var s={};this.feilds.forEach((function(e){var t;if("int"===e.type)t=0;else if("string"===e.type||"text"===e.type||"template"===e.type)t="";else if("templateArray"===e.type)t=[];else if("array"===e.type)t=[""];else if("arrayObject"===e.type&&(t=[],e.sub_feilds&&e.sub_feilds.length)){var n={};e.sub_feilds.forEach((function(e){var t;"int"===e.type?t=0:"string"===e.type||"text"===e.type?t="":"array"===e.type&&(t=[""]),n[e.feild]=t})),t.push(n)}s[e.feild]=t})),s.uuid="",this.contents=[],e.contents&&e.contents.length?e.contents.forEach((function(e){var s=e;s.self_sign||(s.self_sign=""),t.contents.push(s)})):this.contents.push(s),setTimeout((function(){t.$refs.model.initData({pUUID:e.folder.uuid,contents:t.contents,feilds:t.feilds,contentModel:t.contentModel,baseFormData:JSON.stringify(s),pathDesc:e.pathDesc})}),0)},closed:function(){this.$refs.model.resetData()},resetData:function(){this.contentModel="",this.contents=[],this.feilds=[],this.baseFormData={}}}},o=(s("2a10"),s("4023")),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit-file",attrs:{id:"edit-file"}},[t("model-comp",{ref:"model"}),t("form-thumb",{ref:"thumb"})],1)}),[],!1,null,"367ce696",null);t.default=r.exports},"41de":function(e,t,s){"use strict";s.r(t),s("ecb4");var n={data:function(){return{isShowScroll:!1,selProject:"pro",projects:[{val:"pro",text:"Pro"},{val:"kid",text:"Kid"}],curVersion:"",selCatalog:"",levelHeight:0,selLayer:"project",catalog:[{id:1,label:"初级A1",layer:"level",children:[{id:11,label:"课程1",layer:"chapter",children:[{id:111,layer:"part",label:"核心1"},{id:112,layer:"part",label:"核心2"}]},{id:12,label:"课程2",children:[{id:121,label:"核心1"},{id:122,label:"核心2"}]},{id:13,label:"课程3",children:[{id:131,label:"核心1"},{id:132,label:"核心2"}]},{id:14,label:"课程4",children:[{id:141,label:"核心1"},{id:142,label:"核心2"}]},{id:15,label:"课程5",children:[{id:151,label:"核心1"},{id:152,label:"核心2"}]}]},{id:2,label:"初级A2",layer:"level",children:[{id:21,label:"课程1",layer:"chapter"},{id:22,label:"课程2",layer:"chapter"}]},{id:3,label:"中级B1",layer:"level",children:[{id:31,label:"课程1",layer:"chapter"},{id:32,label:"课程2",layer:"chapter",children:[{id:321,layer:"part",label:"核心1"},{id:322,layer:"part",label:"核心2"},{id:323,layer:"part",label:"核心3"}]}]},{id:4,label:"中级B2",layer:"level",children:[]},{id:5,label:"高级C1",layer:"level"},{id:6,label:"高级C2",layer:"level"}],defaultProps:{children:"children",label:"label"}}},components:{RightMenu:s("b757").default},mounted:function(){var e=this,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.levelHeight=t-280,document.addEventListener("click",(function(){e.$refs.rightMenu&&e.$refs.rightMenu.hide()}))},methods:{tolangManage:function(){},switchProject:function(e){this.selProject=e,this.curVersion="",this.selLayer="project",this.$router.push({path:"/layout/version/"+e})},switchVersion:function(e){this.curVersion=e},switchCatalog:function(e,t){switch(this.selCatalog=e,this.selLayer=t,t){case"level":this.$router.push({path:"/layout/level/"+e});break;case"chapter":this.$router.push({path:"/layout/chapter/"+e});break;case"part":this.$router.push({path:"/layout/part/"+e})}},handleDragStart:function(e,t){},handleDragEnter:function(e,t,s){},handleDragLeave:function(e,t,s){},handleDragOver:function(e,t,s){},handleDragEnd:function(e,t,s,n){},handleDrop:function(e,t,s,n){},rightClick:function(e,t,s,n){this.$refs.rightMenu.show({left:e.x,top:e.y})},nodeClick:function(e,t,s){switch(this.$refs.rightMenu&&this.$refs.rightMenu.hide(),this.selLayer=e.layer,e.layer){case"level":this.$router.push({path:"/layout/level/"+e.id});break;case"chapter":this.$router.push({path:"/layout/chapter/"+e.id});break;case"part":this.$router.push({path:"/layout/part/"+e.id})}},allowDrop:function(e,t,s){return"二级 3-1"!==t.data.label||"inner"!==s},allowDrag:function(e){return-1===e.data.label.indexOf("三级 3-2-2")}}},a=(s("8af9"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aside"},[s("div",{staticClass:"lang-info"},[s("div",{staticClass:"name"},[s("span",[e._v("英语")]),s("i",{staticClass:"el-icon-arrow-down",on:{click:e.tolangManage}})])]),s("div",{staticClass:"project"},[s("div",{staticClass:"title"},[s("span",[e._v("项目")]),s("router-link",{attrs:{to:{path:"/layout/edit-project"}}},[e._v("编辑")])],1),s("ul",e._l(e.projects,(function(t){return s("li",{key:t.val,class:{active:e.selProject===t.val},on:{click:function(s){return e.switchProject(t.val)}}},[s("span",[e._v(e._s(t.text))]),e.selProject===t.val?s("span",[e._v(e._s(e.curVersion))]):e._e()])})),0)]),s("div",{staticClass:"catalog"},[s("div",{staticClass:"title"},[e._v("目录")]),s("div",{staticClass:"level",style:{height:e.levelHeight+"px",overflow:e.isShowScroll?"auto":"hidden"},on:{mouseenter:function(t){e.isShowScroll=!0},mouseleave:function(t){e.isShowScroll=!1}}},[s("el-tree",{attrs:{data:e.catalog,"node-key":"id","default-expand-all":"",draggable:"","allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drag-leave":e.handleDragLeave,"node-drag-over":e.handleDragOver,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop,"node-contextmenu":e.rightClick,"node-click":e.nodeClick}})],1)]),s("right-menu",{ref:"rightMenu"})],1)}),[],!1,null,"60b740a9",null);t.default=i.exports},"428d":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("3466"),s("fe59"),s("6ae3"),s("77ad"),s("053b"),s("e35a"),s("0d7a"),s("08ba");var n=s("c52d"),a=(s("b449"),s("ae9a")),i=s("0eaa"),o=s("2480"),r=s("de52"),c=s.n(r),l=s("63c6"),u=s("d97f"),d=s("7abc"),f=s("ad27"),m=s("b5ed"),h=s("41b5"),p=s("e4b0"),v=s("a3ef"),g=s("ae8c"),b=s("c24f"),w=s("fd85"),y=s("cabd"),C=s("a955"),_={data:function(){return{exportList:[],exportNum:0,isHideCatalog1:!0,isShow:!0,isShowEditFile:!1,selLang:"ENG",selCourseUUID:"",selCourseType:0,selVersion:"",selSlide:"1",slideHeight:0,curUUID:"",uuid:"",rightUUID:"",copyUUID:"",copySelLang:"",tracks:[],path:"",pathDesc:"",dialogVisible:!1,userList:[],authorityList:[],copyAuthorityList:[],authorityUsers:[],courseContentPath:""}},components:{Folder:l.default,RightMenu:u.default,EditCatalog:d.default,EditCatalog1:f.default,EditForm:m.default,EditFile:h.default,PreviewComp:p.default,CropperDialog:v.default},created:function(){this.getModelList({pageNo:0,pageSize:0}),this.getContentTypes(),this.getContentTags({pageNo:0,pageSize:0}),this.getAuthorityUsers()},mounted:function(){var e=this;this.version&&(this.selLang=this.version.selLang,this.selVersion=this.version.selVersion,this.uuid=this.version.uuid,this.selCourseUUID=this.version.selCourse.uuid);var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.slideHeight=t-130,document.getElementById("track-wrap").oncontextmenu=function(e){e.preventDefault()},document.getElementById("track-wrap").onclick=function(){e.rightUUID="",e.$refs.rightMenu&&e.$refs.rightMenu.hide()},document.onkeydown=function(t){var s=t||window.event;if(s.altKey&&e.path){var n=e.path.split("/");n.pop();var a,i=n.length-1,o=e.tracks[i],r=o.findIndex((function(e){return e.uuid===n[n.length-1]}));if(s&&37===s.keyCode&&s.altKey){if(0===i)return;i--,r=0,o=e.tracks[i]}if(s&&38===s.keyCode&&s.altKey){if(0===r)return;r--}if(s&&39===s.keyCode&&s.altKey){if(i===e.tracks.length-1)return;i++,r=0,o=e.tracks[i]}if(s&&40===s.keyCode&&s.altKey){if(r===o.length-1)return;r++}!(a=o[r])||37!==s.keyCode&&38!==s.keyCode&&39!==s.keyCode&&40!==s.keyCode||e.clickFolder({folder:a,trackNum:i})}},this.initData(0)},destroyed:function(){document.onkeydown=null},watch:{"version.selCourse":function(e,t){this.selCourseUUID=e.uuid}},computed:Object(i.a)(Object(i.a)({},Object(g.e)({assetsDomain:function(e){return e.course.assetsDomain},locale:function(e){return e.course.locale},langList:function(e){return e.course.langList},courseTypes:function(e){return e.course.courseTypes},version:function(e){return e.course.version},modelList:function(e){return e.course.modelList},userInfo:function(e){return e.user.userInfo},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{settingWidth:function(){return this.isHideCatalog1||this.isShowEditFile?this.tracks.length<3?"401px":this.tracks.length>2?"602px":"auto":"97%"},versions:function(){var e=this,t=[];return"1"===this.userInfo.authorityId?t=this.version.versions:this.version.versions.forEach((function(s){if(s.authorities&&s.authorities.find((function(t){return t.user_uuid===e.userInfo.uuid&&t.auth}))){var n=s;n.curUserAuth=s.authorities.find((function(t){return t.user_uuid===e.userInfo.uuid&&t.auth})),t.push(n)}})),t}}),methods:Object(i.a)(Object(i.a)(Object(i.a)({},Object(g.d)({updateVersion:"course/updateVersion"})),Object(g.b)({getCourseList:"course/getCourseList",getModelList:"course/getModelList",getContentTypes:"course/getContentTypes",getContentTags:"course/getContentTags",getCourseVersions:"course/getCourseVersions"})),{},{hideCatalog1:function(e){this.isHideCatalog1=e},initCourseVersionList:function(e){var t=this;this.updateVersion({key:"selLang",val:this.selLang}),this.getCourseList({lan_code:this.selLang,pageNo:0,pageSize:0}),setTimeout((function(){if(t.version.versions.length){if(t.updateVersion({key:"versions",val:t.version.versions}),3!==e)t.updateVersion({key:"selVersion",val:""}),t.updateVersion({key:"uuid",val:""}),t.selVersion="",t.uuid="";else{var s=t.version.versions.find((function(e){return e.uuid===t.selVersion}));t.updateVersion({key:"selVersion",val:t.selVersion}),s&&s.uuid?(t.updateVersion({key:"uuid",val:s.uuid}),t.uuid=s.uuid):(t.updateVersion({key:"uuid",val:""}),t.uuid="")}t.initData(0)}else t.updateVersion({key:"versions",val:[]}),t.updateVersion({key:"selVersion",val:""}),t.updateVersion({key:"uuid",val:""}),t.uuid="",t.dialogVisible=!0;t.isShowEditFile=!1}),300)},changLang:function(){this.updateVersion({key:"selLang",val:this.selLang}),this.getCourseList({lan_code:this.selLang,pageNo:0,pageSize:0}),this.updateVersion({key:"selVersion",val:""}),this.updateVersion({key:"uuid",val:""}),this.selVersion="",this.uuid="",this.initData(0),this.isShowEditFile=!1},changeCourse:function(){var e=this,t=this.version.courseList.find((function(t){return t.uuid===e.selCourseUUID}));this.updateVersion({key:"selCourse",val:t}),this.getCourseVersions({pageNo:0,pageSize:0,parent_uuid:t.uuid}),this.updateVersion({key:"selVersion",val:""}),this.updateVersion({key:"uuid",val:""}),this.selVersion="",this.uuid="",this.initData(0),this.isShowEditFile=!1},changeVersion:function(){var e=this,t=this.version.versions.find((function(t){return t.uuid===e.selVersion}));this.updateVersion({key:"selVersion",val:this.selVersion}),t&&t.uuid?(this.updateVersion({key:"uuid",val:t.uuid}),this.uuid=t.uuid):(this.updateVersion({key:"uuid",val:""}),this.uuid=""),this.initData(0),this.isShowEditFile=!1},show:function(e){this.selLang=e.lang,this.selCouresType=e.courseType,this.selVersion=e.version,this.uuid=e.uuid,this.initData(0),this.isShow=!0},back:function(){this.$router.push({path:"/layout/course/version"})},switchSlide:function(e){this.selSlide=e},initData:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r,c,l;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.contentMenuHide(),0===e&&(t.tracks=[]),s.next=4,Object(y.getCatalogList)({parent_uuid:t.uuid});case 4:(n=s.sent).success&&(a=n.data.catalogs.sort((function(e,t){return e.list_order-t.list_order})),i=[],e>0&&(null,o=a[0]&&a[0].parent_uuid?t.getParentAuthorities(a[0].parent_uuid,e-1):t.getParentAuthorities(t.uuid,e-1),a.forEach((function(e){var t=e;t.copyAuthorities=o,i.push(t)})),a=i),"1"!==t.userInfo.authorityId&&((a=a.filter((function(e){var s=!1,n=null;return e.authorities&&e.authorities.length?(n=e.authorities.find((function(e){return e.user_uuid===t.userInfo.uuid})))&&n.auth&&(s=!0):e.copyAuthorities&&e.copyAuthorities.length&&(n=e.copyAuthorities.find((function(e){return e.user_uuid===t.userInfo.uuid})))&&n.auth&&(s=!0),s})))||(a=[])),t.tracks[e]?t.tracks[e]=a:t.tracks.push(a),setTimeout((function(){t.$set(t,"tracks",t.tracks.slice(0,e+1))}),10),(r=t.tracks[e].find((function(e){return e.uuid===t.curUUID})))?(t.clickFolder({folder:r,trackNum:e}),setTimeout((function(){t.trackLeftScroll()}),800)):(""===t.courseContentPath&&(t.courseContentPath=localStorage.getItem("courseContentPath")),t.courseContentPath&&t.tracks[e]&&(c=t.courseContentPath.split("/"),-1===(l=t.tracks[e].findIndex((function(t){return t.uuid===c[e]})))?(t.courseContentPath="",setTimeout((function(){t.trackLeftScroll()}),800)):(t.clickFolder({folder:t.tracks[e][l],trackNum:e}),c.length===e+2&&(t.courseContentPath="",setTimeout((function(){t.trackLeftScroll()}),800))))),setTimeout((function(){t.version.selVersion&&0===e&&0===t.tracks[0].length&&C().start(),t.tracks.length&&t.setTrackSortable()}),500));case 6:case"end":return s.stop()}}),s)})))()},trackLeftScroll:function(){var e=this.tracks.length-1;0===e&&(e=1);var t=document.getElementById("track-item-"+e);if(t)var s=document.getElementById("track-wrap"),n=s.scrollLeft,a=t.offsetLeft,i=setInterval((function(){n>0&&n<a-200?(s.scrollLeft=n++,n>a-200&&(clearInterval(i),s.scrollLeft=a-200)):(s.scrollLeft=n--,n<a-200&&(clearInterval(i),s.scrollLeft=a-200))}),1)},setTrackSortable:function(){for(var e=this,t=0;t<this.tracks.length&&0!==this.tracks[t].length;t++){var s=document.getElementById("track-item-"+(t+1));new o.a(s,{group:"shared",animation:0,setData:function(){},onAdd:function(t){var s=t.from.id,n=t.to.id,a=parseInt(s.split("-").pop())-1,i=parseInt(n.split("-").pop())-1,o=e.tracks[a][t.oldIndex],r=e.tracks[i],c=e.uuid;r&&r[0]&&(c=r[0].parent_uuid);var l={from_uuid:o.parent_uuid,to_uuid:c,uuid:o.uuid};Object(y.moveCatalog)(l).then((function(t){e.resetTrackData({pUUID:o.parent_uuid,trackNum:a}),e.resetTrackData({pUUID:c,trackNum:i})}))},onUpdate:function(t){t.from.id;var s=t.to.id,n=parseInt(s.split("-").pop())-1,a=e.tracks[n],i=a[t.oldIndex],o=i.list_order,r=a[0].parent_uuid,c=a[t.newIndex].list_order;if(t.newIndex<t.oldIndex){var l=0;0!==t.newIndex&&(l=a[t.newIndex-1].list_order),o=parseInt((c+l)/2)}else{var u=0;t.newIndex+1!==a.length?(u=a[t.newIndex+1].list_order,o=parseInt((c+u)/2)):o=c+10}var d={catalog_info:{cover:i.cover,desc:i.desc,flag:i.flag,has_changed:!0,list_order:o,name:i.name,tags:i.tags,title:i.title,is_show:i.is_show},uuid:i.uuid};Object(y.editCatalog)(d).then((function(t){e.clickFolder({folder:i,trackNum:n}),e.resetTrackData({pUUID:r,trackNum:n})}))}})}},setIsShow:function(e){var t=this;Object(y.editCatalog)(e).then((function(s){s.success&&(t.resetTrackData({pUUID:e.catalog_info.parent_uuid,trackNum:e.trackNum}),t.$refs.rightMenu.hide())}))},clickFolder:function(e){var t=this;this.$bus.emit("closeImage"),this.$bus.emit("closeContent"),this.path="",this.uuid=e.folder.uuid,this.curUUID=e.folder.uuid;var s=this.tracks.slice(0,e.trackNum+1);if(this.tracks=this.tracks.slice(0,e.trackNum+1),this.getPath(s,this.uuid),"catalog"===e.folder.type)this.initData(e.trackNum+1),this.editCatalogFn1(e),this.isShowEditFile=!1;else{var n=this.modelList.find((function(t){return t.model_key===e.folder.content_model}));Object(y.getContent)({content_model:e.folder.content_model,parent_uuid:e.folder.uuid}).then((function(s){t.pathDesc="";var a=t.tracks.slice(0,e.trackNum+1);a.length&&t.getPathDesc(a,t.uuid);var i=s.data.contents;t.isShowEditFile=!0,t.$refs.editFile.show({contents:i,model:n,folder:e.folder,pathDesc:t.pathDesc})}))}},previewContent:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={contents:[],contentModel:""},s.next=4,Object(y.getContent)({content_model:e.content_model,parent_uuid:e.uuid});case 4:a=s.sent,n.contents=a.data.contents,n.contentModel=e.content_model,t.$bus.emit("showPreviewModel",n);case 9:case"end":return s.stop()}}),s)})))()},getPath:function(e,t){var s=e.pop().find((function(e){return e.uuid===t})).parent_uuid;this.path=t+"/"+this.path,localStorage.setItem("courseContentPath",this.path),e.length>0&&this.getPath(e,s)},getPathDesc:function(e,t){var s=e.pop().find((function(e){return e.uuid===t})),n=t;s&&(n=s.parent_uuid,this.pathDesc=s.name+" > "+this.pathDesc),e.length>0&&this.getPathDesc(e,n)},contentMenu:function(e){var t=this;this.$refs.rightMenu.hide(),this.rightUUID=e.folder.uuid,e.type="folder";var s=e.folder.authorities;s&&s.length||(s=this.getParentAuthorities(e.folder.parent_uuid,e.trackNum-1));var n="";if(s&&s.length){var a=s.find((function(e){return e.user_uuid===t.userInfo.uuid}));a&&(n=a.auth)}"1"!==this.userInfo.authorityId&&"rw"!==n||this.$refs.rightMenu.show(e)},otherContextMenu:function(e,t,s){this.uuid="";var n={};n.event=e,n.type="other",t&&t.parent_uuid?(n.pUUID=t.parent_uuid,this.curUUID=""):s>0?(this.uuid=this.curUUID,n.pUUID=this.uuid):n.pUUID=this.version.uuid,n.trackNum=s-1,this.$refs.rightMenu.show(n)},contentMenuHide:function(){this.$refs.rightMenu.hide()},rename:function(e){this.$refs.rightMenu.hide(),this.$refs["folder-"+e][0].dblclickFolder()},copy:function(e){this.copyUUID=e,this.copySelLang=this.version.selLang;var t={copyUUID:this.copyUUID,copySelLang:this.copySelLang};localStorage.setItem("copyCatalog",JSON.stringify(t)),this.contentMenuHide()},paste:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if((n=JSON.parse(localStorage.getItem("copyCatalog")))&&(t.copyUUID=n.copyUUID,t.copySelLang=n.copySelLang),t.copyUUID){s.next=6;break}return t.$message({type:"warning",message:"先选择要复制的内容，再粘贴"}),s.abrupt("return",!1);case 6:return a=e.trackNum,i=t.tracks[e.trackNum],o="",o=i&&i[0]&&i[0].parent_uuid?i[0].parent_uuid:t.uuid,r={same_lang:t.copySelLang===t.version.selLang,to_uuid:o,uuids:[t.copyUUID]},s.next=14,Object(y.copyCatalog)(r);case 14:s.sent.success&&t.resetTrackData({pUUID:o,trackNum:a}),t.copyUUID="",t.copySelLang="",localStorage.removeItem("copyCatalog"),t.contentMenuHide();case 20:case"end":return s.stop()}}),s)})))()},del:function(e){var t=this;this.$confirm("确认要删除吗? 删除后果可能很严重哦","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(y.delCatalog)({uuid:e.folder.uuid}).then((function(s){s.success&&(t.$message({type:"success",message:"删除成功!"}),t.resetTrackData({pUUID:e.folder.parent_uuid,trackNum:e.trackNum,curUUID:e.folder.parent_uuid}))}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},editCatalogFn:function(e){var t=this.tracks;this.pathDesc="",e.maxOrder=0;var s=t[e.trackNum];if(s&&s.length){var n,a=(n=s.sort((function(e,t){return e.list_order-t.list_order})))[n.length-1];e.maxOrder=a.list_order}var i=t.slice(0,e.trackNum+1);i.length&&this.getPathDesc(i,e.uuid),e.pathDesc=this.pathDesc,this.$refs.editCatalog.show(e),this.$refs.rightMenu.hide()},editCatalogFn1:function(e){var t=this,s=this.tracks;this.pathDesc="";var n=s.slice(0,e.trackNum+1);n.length&&this.getPathDesc(n,e.folder.uuid),e.pathDesc=this.pathDesc,e.handler="edit",e.type=e.folder.type,e.uuid=e.folder.uuid,setTimeout((function(){t.$refs.editCatalog1.show(e)}),0)},resetTrackData:function(e){this.contentMenuHide(),e.curUUID&&(this.curUUID=e.curUUID),this.uuid=e.pUUID,this.initData(e.trackNum)},getParentAuthorities:function(e,t){if(-1!==t&&this.tracks[t]){var s=this.tracks[t].find((function(t){return t.uuid===e}));if(s){var n=s.authorities;return n&&n.length?n:this.getParentAuthorities(s.parent_uuid,t-1)}}},getAuthOptions:function(e){var t=this;e&&e.length>0&&e.forEach((function(e){var s=e;if(0===s.children.length)t.authorityList.push(s);else{var n=s.children;t.authorityList.push(s),t.getAuthOptions(n)}}))},getAuthorityUsers:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var s,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.authorityList=[],e.authorityUsers=[],t.next=4,Object(b.getUserList)({page:1,pageSize:999});case 4:return s=t.sent,e.userList=s.data.userList,t.next=8,Object(w.getAuthorityList)({page:1,pageSize:999});case 8:a=t.sent,e.copyAuthorityList=a.data.list,e.getAuthOptions(a.data.list),(i=e.authorityList.find((function(t){return t.authorityId===e.userInfo.authorityId}))).children.length&&i.children.forEach((function(t){var s=e.userList.filter((function(e){return e.authorityId===t.authorityId}));e.authorityUsers=[].concat(Object(n.a)(e.authorityUsers),Object(n.a)(s))}));case 14:case"end":return t.stop()}}),t)})))()},showExportList:function(){var e=this;this.exportList=[],Object(y.exportCourseContentList)({code:this.version.selCourse.uuid,pageNo:0,pageSize:999}).then((function(t){e.exportList=t.data.data.slice(0,5),e.exportNum=e.exportList.filter((function(e){return 2!==e.status})).length}))},formatDate:function(e,t,s,n){return c()(s).format("YYYY-MM-DD HH:mm")},refreshDownloadList:function(){var e=this;this.showExportList();var t=setInterval((function(){e.showExportList(),0===e.exportNum&&clearInterval(t)}),5e3)},handleDownload:function(e){return Object(a.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=document.createElement("a")).href=""+e.url,s.download=e.url.slice(e.url.lastIndexOf("/")+1),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s)}),1e3);case 6:case"end":return t.stop()}}),t)})))()}})},x=(s("7d1a"),s("4023")),k=Object(x.a)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"content-container",attrs:{id:"content-container"}},[s("el-header",{attrs:{height:"90px"}},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("div",{staticClass:"icon-logo",on:{click:e.back}}),s("el-select",{attrs:{size:"small",filterable:"","default-first-option":"",placeholder:"请选择语言"},on:{change:e.changLang},model:{value:e.selLang,callback:function(t){e.selLang=t},expression:"selLang"}},e._l(e.langList,(function(t){return s("el-option",{key:t.lan_code,attrs:{label:t.title[e.locale],value:t.lan_code}})})),1),s("el-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{size:"small",placeholder:"请选择项目"},on:{change:function(t){return e.initCourseVersionList(2)}},model:{value:e.selCourseType,callback:function(t){e.selCourseType=t},expression:"selCourseType"}},e._l(e.courseTypes,(function(e){return s("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})})),1),s("el-select",{staticClass:"select-course",attrs:{filterable:"",size:"small",placeholder:"请选择课程"},on:{change:e.changeCourse},model:{value:e.selCourseUUID,callback:function(t){e.selCourseUUID=t},expression:"selCourseUUID"}},e._l(e.version.courseList,(function(t){return s("el-option",{key:t.uuid,attrs:{label:t.name?t.name:"("+e.courseTypes.find((function(e){return e.type==t.course_type})).name+") "+t.title["zh-CN"]+"/"+t.title.en,value:t.uuid}},[s("div",{staticClass:"course"},[s("el-image",{staticStyle:{width:"24px",height:"24px","border-radius":"4px","margin-right":"4px"},attrs:{src:e.assetsDomain+t.flag[0],fit:"cover"}}),s("span",[e._v(e._s(t.name?t.name:"("+e.courseTypes.find((function(e){return e.type==t.course_type})).name+") "+t.title["zh-CN"]+"/"+t.title.en))])],1)])})),1),s("el-select",{attrs:{size:"small",placeholder:"请选择版本"},on:{change:e.changeVersion},model:{value:e.selVersion,callback:function(t){e.selVersion=t},expression:"selVersion"}},e._l(e.versions,(function(e){return s("el-option",{key:e.uuid,attrs:{label:e.name,value:e.uuid}})})),1)],1),s("div",{staticClass:"right"},[s("div",{staticClass:"back"},[s("el-button",{attrs:{type:"text"},on:{click:e.back}},[e._v("返回主页")])],1)])]),s("div",{staticClass:"tips"},[s("span",{staticClass:"desc"},[e._v("(ALT + “↑、↓、←、→” 组合键，能够切换课程目录)")]),s("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},on:{show:e.showExportList}},[s("el-tag",{attrs:{type:"warning"}},[e._v("显示最新 5 条可下载的数据")]),s("el-table",{attrs:{data:e.exportList}},[s("el-table-column",{attrs:{property:"created_on",label:"创建日期",formatter:e.formatDate}}),s("el-table-column",{attrs:{property:"name",label:"标题"}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{disabled:2!==t.row.status,type:"text",size:"small"},on:{click:function(s){return e.handleDownload(t.row)}}},[e._v(e._s(2===t.row.status?"下载":"文件生成中..."))])]}}])})],1),s("el-badge",{staticClass:"item",attrs:{slot:"reference",value:e.exportNum,hidden:0==e.exportNum,type:"warning"},slot:"reference"},[s("el-button",{attrs:{size:"small",icon:"el-icon-message-solid",type:"primary",circle:""}})],1)],1)],1)]),s("el-main",[s("div",{staticClass:"track-container",attrs:{id:"track-container"}},[s("div",{staticClass:"track-wrap",staticStyle:{width:"602px"},attrs:{id:"track-wrap"}},e._l(5,(function(t){return s("div",{key:t,staticClass:"track-item",attrs:{"data-intro":"右键点击空白区域可操作右键菜单"}},[s("div",{staticClass:"list",attrs:{id:"track-item-"+t}},e._l(e.tracks[t-1],(function(n){return s("folder",{key:n.uuid,ref:"folder-"+n.uuid,refInFor:!0,class:{active:e.path.indexOf(n.uuid)>-1,"cur-active":e.curUUID==n.uuid,"right-active":e.rightUUID==n.uuid},attrs:{folder:n,trackNum:t-1,name:n.name},on:{clickFolder:e.clickFolder,contentMenu:e.contentMenu,resetTrackData:e.resetTrackData}})})),1),s("div",{staticClass:"other",on:{contextmenu:function(s){return e.otherContextMenu(s,e.tracks[t-1][0],t)}}})])})),0),s("edit-file",{directives:[{name:"show",rawName:"v-show",value:e.isShowEditFile,expression:"isShowEditFile"}],ref:"editFile"}),s("edit-catalog1",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEditFile&&e.tracks.length>1,expression:"!isShowEditFile && tracks.length > 1"}],ref:"editCatalog1",staticClass:"edit-catalog",on:{resetTrackData:e.resetTrackData,hideCatalog1:e.hideCatalog1}})],1)]),s("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",[e._v("请先创建课程版本")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.back()}}},[e._v("确 定")])],1)]),s("right-menu",{ref:"rightMenu",attrs:{userList:e.userList,authorityUsers:e.authorityUsers,authorityList:e.authorityList},on:{rename:e.rename,copy:e.copy,paste:e.paste,del:e.del,editCatalog:e.editCatalogFn,resetTrackData:e.resetTrackData,lookPreview:e.previewContent,setIsShow:e.setIsShow,refreshDownloadList:e.refreshDownloadList}}),s("edit-catalog",{ref:"editCatalog",on:{resetTrackData:e.resetTrackData}}),s("edit-form",{ref:"editForm"}),s("preview-comp",{ref:"preview"}),s("cropper-dialog",{ref:"cropperDialog"})],1)}),[],!1,null,"4aeaa8b0",null);t.default=k.exports},"430c":function(e,t,s){"use strict";s.r(t),s("2eeb"),s("b449");var n=s("ae9a"),a=s("70ea"),i=s("4ec3"),o=s("6cb5"),r={name:"Apis",props:{row:{default:function(){return{}},type:Object}},data:function(){return{apiTreeData:[],apiTreeIds:[],apiDefaultProps:{children:"children",label:"description"}}},methods:{buildApiTree:function(e){var t={};e&&e.map((function(e){t.hasOwnProperty(e.group)?t[e.group].push(e):Object.assign(t,Object(a.a)({},e.group,[e]))}));var s=[];for(var n in t){var i={ID:n,description:n+"组",children:t[n]};s.push(i)}return s},addAuthApi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getPolicyPathByAuthorityId)({authorityId:e.row.authorityId});case 2:s=t.sent,e.activeUserId=e.row.authorityId,e.apiTreeIds=s.data.paths||[];case 5:case"end":return t.stop()}}),t)})))()},authApiEnter:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$refs.apiTree.getCheckedKeys(!0),t.next=3,Object(o.casbinPUpdata)({authorityId:e.activeUserId,paths:s});case 3:(n=t.sent).success&&e.$message({type:"success",message:n.msg});case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.getAllApis)();case 2:return s=t.sent,n=s.data.apis,e.apiTreeData=e.buildApiTree(n),t.next=7,Object(o.getPolicyPathByAuthorityId)({authorityId:e.row.authorityId});case 7:a=t.sent,e.activeUserId=e.row.authorityId,e.apiTreeIds=a.data.paths||[];case 10:case"end":return t.stop()}}),t)})))()}},c=s("4023"),l=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"clearflex"},[t("el-button",{staticClass:"fl-right",attrs:{size:"small",type:"primary"},on:{click:this.authApiEnter}},[this._v("确 定")])],1),t("el-tree",{ref:"apiTree",attrs:{data:this.apiTreeData,"default-checked-keys":this.apiTreeIds,props:this.apiDefaultProps,"default-expand-all":"","highlight-current":"","node-key":"path","show-checkbox":""}})],1)}),[],!1,null,null,null);t.default=l.exports},4360:function(e,t,s){"use strict";s.r(t),s.d(t,"store",(function(){return u}));var n=s("0261"),a=s("ae8c"),i=s("67f7"),o=s("7fa2"),r=s("38e2"),c=s("e759");n.default.use(a.a);var l=new i.a({storage:window.localStorage,modules:["user","course"]}),u=new a.a.Store({modules:{user:o.user,course:c.course,router:r.router},plugins:[l.plugin]})},"442d":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("72f9"),i=(s("8102"),s("ae8c")),o=s("b2d0"),r=s("0b6f"),c=s("824d"),l=s("57bd"),u=s("fdb1"),d=s("c4d6"),f=s("fb34"),m={props:["slideForms"],data:function(){return{mySwiper:null}},components:{"form-listenForImg":o.default,"form-listenForSentence":r.default,"form-fillGap":c.default,"form-followRead":l.default,"form-makeSentence":u.default,"form-listenAnswerQuestion":d.default,"form-question":f.default},created:function(){var e=this;this.$on("init",(function(){e.initSwiper(),setTimeout((function(){e.mySwiper.init()}),500)})),this.$on("reset",(function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("break")}))},computed:Object(n.a)({},Object(i.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),methods:{initSwiper:function(){var e=this;e.mySwiper=new a.a("#grade-swiper",{init:!1,loop:!1,autoplay:!1,speed:500,slidesPerView:"auto",slideToClickedSlide:!0,centeredSlides:!0,grabCursor:!0,observer:!0,mousewheel:!0,on:{init:function(){e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")},slideChange:function(){e.$refs["comp-"+e.mySwiper.previousIndex][0].$emit("break"),e.$refs["comp-"+e.mySwiper.activeIndex][0].$emit("init")}}})}}},h=(s("dc84"),s("4023")),p=Object(h.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"grade-test-container"},[s("div",{staticClass:"grade-test-content"},[s("div",{staticClass:"swiper-container",attrs:{id:"grade-swiper"}},[s("div",{staticClass:"swiper-wrapper"},e._l(e.slideForms,(function(t,n){return s("div",{key:n,staticClass:"swiper-slide"},[s("div",{staticClass:"grade-item"},[s("keep-alive",[s("form-"+t.content_type,{ref:"comp-"+n,refInFor:!0,tag:"component",attrs:{contentTypes:e.contentTypes,assetsDomain:e.assetsDomain,form:t}})],1)],1)])})),0)])])])}),[],!1,null,"95e12af6",null);t.default=p.exports},"454d":function(e,t,s){},"454f":function(e,t,s){},"455b":function(e,t,s){},"455c":function(e,t,s){},"457a":function(e,t,s){"use strict";var n=s("7461");s.n(n).a},"459e":function(e,t,s){"use strict";var n=s("6d0d");s.n(n).a},"460a":function(e,t,s){"use strict";var n=s("010b");s.n(n).a},4714:function(e,t,s){},4729:function(e,t,s){},"47bf":function(e,t,s){},"48d3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbIAAABSCAMAAAAGnqEYAAAA1VBMVEVHcEwcVY0fT38lT4YkTocnT4UuUYsmT4UpUoMnToYoUIYnToUmToYqVX8oUIYnT4YnTocmToUmT4YkSJEmT4UmTYYoTYgmT4UnT4YnTocmToYnT4gnToUlTYcmT4YmUIgoUYUmToXiOFUlS4QnT4UmT4YmT4YmToUmT4UlToQnToXhJFclUIgnToTeKFXdKVTeKVXeKFcnUozeKlUmT4fgKFYoUYvfKFbdJ1XfKFbgKFXeKVfYJlneKFffKFbgKFgnT4YnUIjeKVYpVI8oUovjKVfpK1rrNZWmAAAAQHRSTlMACRDeMfgW8h/CJo+fDHmHqLKtB+VIOFCj6s8tQYBwVliZCRvK2Gq51F58Iyl1P9+zd/lfZPDxiy3Dzk8UnatrAgy/rgAADOhJREFUeNrtnGljosgWhhWQ1Z1NBFQirtFOT9rs3TMy4vz/n3SroKpYjWjSfe/crvdDDAWBQz21nHOqTK1GRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRfWzNLVjiehYRcc2T+vmf1N15RDpvocKxPj48NimlfPzxctIlyDr7CM1uhhZfLwXRr/IahWbzau/H7ItG2v4r0I2VZDZyvT3Q9YJYgn/KmRiE5ndFH9DZLi2/2XI0BMpMoqMIqPIKLJ3kd0U9dshU1tA/1Vk0ICiIy966IleCtnN87c/Cvr2XKDGGa2yVsBxnD21uUR2NW/UdhwnugH45DN2o8rj45tOSR4ic3ihZI7DzVWIrUw70pyjj9pAppPLalRAhi2Oq1tFB/UoErQNx+DkOr6UkQ3D4UoSJy3ZcExowMrhxHqqHYmc2UNP7JnQbBnWzM3b6/Gfol6/5JlJM66k4vssq3WVJZto2d3xeTo6UupE7/5wYMCnCz5N8lLbdizw/qtZdLstannj7OGF6rKsgN59n43OeGM3WAYoqREMFVO8BFlrhQxuj2CIruroaAXeRVd8LWjMevNNZDPvuBIr3LO5R9Tqsu4uNGRByHZ3CWMQlGnYbEGDZncNUPz89fh3iY4vz3lkwyIyfiAEgaawQVph4GaZQTqxJkkT6jb2e4hsCz510twEdCE4YwjR3TroT0Qrc3ihpCDAxPaZ6MzwrEMYJKfCIKqVishUUwhj3S8gB8ZDh1JNdC14X/Coe8kEzGwFHAfwOHxMP4KfS40wTIwLA2nCp4KyrNkSHJm+3eVhoc8v55HV11awFzw2TBTAh4TtzBjafoyfHAQTA/c3XQKoxuCzCT7dDb7UjTkFEKaiBeCGCmbkspnDC5Htc0LIWouEF64ZzamMzPbxH/nRKzAKOi+JStIO9qxZd/opLIGUMHMaOQP2gdbmc74HURmy48PD8VgV2YQFj/O2g14iaSgAG4Vxevzi+xbs3g1BGPdJh4MUo09wJgWi40fjVoR8B2+8IneaZA8/BZm63RcUsEZFZFMPV/csHigIspmSueVyJ6XBBI0FGYdsqWiANmIuQPb69PTnQ0VkxhLcXrKzQ+WmwwJmsxWTLpx7gFm/49qmhofPpLNnhzvbhPrsHOgpZDVRKDLbS0wlZC3CW5vXssj2jcwNG0KuK+E/AH8yKmk0Q7M6sjvgddw8PVRABnwcH9jF6oXaXbHg3pZrGqkznLbfRxzcpRArenEstwxR3TDz0q/NjUpBEGQmhUc8ey6SlpPwnFRBppoWPurU8siiATFPIvX7gjRSRyixQIl6odxMyoJTc9mf30HR95cKyAbaPbibtWOK9TOHrxIGWqp+DVA0jqzU224k0EP3HRfJKavmlXbIq3FtDsCTJI20VKgF9qNXsFbYIShaJl2hVwXZRsLDXJcvIgN3FVIMYJULQjJxDsngK/fhqRkwwLfIHyyiGuHboAyVWD40W+EKyH5AZDdVkJn+fRA0ypcE3Ni7E8uQ5T3G06HlLD10okYYutcNmbxIYlJBjEQCS4FdKBMDlBiujyvUYs4j4z08uEvEe0ohs3pKp8+mHD6231EWpN2wq2RkFPx+W9+I4ma+sLIDJy8afVTShyaKfL2ALHLt3+4qIGvpnuR7Jxr9VtIsS7gcWcscR4Lzoy6kh048mPqtT85+qOsxcQUMzEwwzyJrkTloRmKUFLLIg2B2bOKBQI+MH2FmVrKsLW/JFCJ7aGoNOurphFXO/fjx9uXtpZL7wcvmypbLNR0rzabLFJHxMRNORcjsGBHuq/xjPABCD3INLpDcdVqw5LORZWRid2F0FplOOsSuVkQmeDnfwlrHL0guUEoNcLCf5E0rIzs+3D1Ui8s6vX6/d1LdbjcdT2NkhhUh8RiErB07/ST9MYjnW+hBtsEFZtYE4Wcja6Fe0WifQ9aU8q5H1sk3k/eO5KP9C7rwLrIWvkFTrozs7yMKy84iG9wH7ys9aGKPcepHpxSMzIhnPT1JgGmNFDL9lyAzdusBUHvF8VJFZHvsqgjrehkyHCbIC1yAK2JZgow3twowwJs7vJsjVAUZ0Tlkdl/I+Qb7E8jMbRuO0d11267ZCswVrjGymtmHkXPiMaqc1/ilyFRzMNSitJOg+Xj6P4+MTGSZ3FyCDF8/yBXYwwIyebuYCQ2YObKWi9lFyI5ZnQ2l7bmXjIyw8QyzYyN5mYElIFcCTMG84TiOnLgfspNJ5cdJR+WXIROjBCl2w3FSqToyTX8fWTPfy/LIWvoiSj7iFOdFyO6+ZnQ+LUw2bAF1QHWOst5IAiHJMdbPO/kQFUxL/RJkTL+Q4rsMWWPxMWSqsywz4F1kb68Y2dNtRjcVMvmJRqA6xydiJr4ZxZBBaSa/FJmOPrMhdv3TkanbTE7kCmR7a/UhZJtFUGbAu8i+vBBk769FV0B2Kssu6m1wWpmY01p1ZJFL308LTuWfi2yKHbrgYPk+S8alC5AF6UjxYmTMnAC7n0mzx0oD4/OfJCS7/QCyuYCSiOUiOUZQdd0+9P9jZNtuv8+VIzMFuHqU0WcjU+cBCa4c2zbM9uxyZNbuA8g2yKMMhL5p2IY+Wgjnkd08YWRfv1yEDMZliZagov1MSb8sLgMCbZmdYmTKfRjq5cimVlhMrIZt9RORtXo5J4LxqiMjA9pQvB6ZgcO0bjz11+faeWS1P1Do/PfDXxch69+HmaXNQp8QS5GpIFr1SS8bgZ9ztRRZTVe0A1wyjVfY4S+W5F6/zbkMGe5U2H1TO1WRBYLL4t86VyNTcbpl6aSXQc4hSyazgpP4LjJ9GL4blgXlyGzQjJoEGUwGuCeQgXhAd71m04SL2B34i7FhPnWHFYNWtQTc0VW3IrJA8Pg2ic3Ea5GRqUxSL0H2nYyMD0+3FyBTDbebjIKwP1caGA1wpcJgZHCxKLc3IOPcS8tZPHt5y9msVfuIypDhIiO9elYFWUOa1jZsIV94MbJR7nT09qXIupvUuxA3//gus6L7wYiJenCEk8W0aqXIxuC3dQsjYwCyReskMhFEdLFHtkAbQj4BWTQGRZAY7CDiNWJOqJpjXIOTOzydkZ0HV/cynIK0+7lOJeMbxAvVPI+62QNh9vX2So8REhifdg0SZNC1XNWJk18MtdLITNIJoaPwOcj2y/ZE6fnpuSyaXNP7MM4jg6n+KV6rIacvdj90HN252cUXgozHy3wN3527fc/I+/nHh9eTHa0CsnoFZC6KBhAy8Aaz08jAOBXEE/PHkbnJPgFNiDfFtQZkpXpuyBNlub8IWX1CYgTnWo+RLOEMxraxlqx8KJ022xLijQTQz//yckxDe/v+E5HBCzdoAw0TQWmIp5BB5wTlXSGyj30/eZJe449nNHVFPHVrttSSjQTVkNVEP5e2uhiZ3CWbrrTZLLWphyDbCmm7MTLA7OsxBe2uNKg+j6xKKM2DsQhuCoErUxroXl7By8c5RrSDCy3PQr/A+RAysWSH1ZTN5quCy5CppJtZ5nXI6qv05pDUjh6CbMUWdljFzJ5/PCSbho8VkDH6JCO420pZZcvwgGeMJ2shOs1t4Y7T3lQ0POR3rMCn1uRyyKBLyY9gwtRC8zJE2zMu+6ZzbvWwGxSQqat8xvAiZMlstl9cmWOUB2E6VSDk5zK4Y7gUGfBBvr0mHe3t5iyy6ULLCD7KyhaRHVYeq1nxaZeFTck0pGiHPMxkMMMADArrVD+D0bU1lLymBW3doTMQbWO2XC6v9/Q5K/XyaFNca5veQi3s/MuQqWPSzeZXLr7Y3dQ2YkEphmHjYVCODHS0v17QivTL8/m5TO1mFziD/elYekQWXxRQ8QePh2vR+4CNIg0OUkzvtDfifX2SBH/OMSFGije4f8TTd9gDCvnDA972xuxI4WGp8z7aYb+uhqw2JXtal8x1yGq21wiRVbOt6KLUUYKstRoeUP2Fj0p2lLm5fftx988/x+NfpSl9aZndejoMzwk/lWnibd3e44EdTYEzEh4OEtq0aiyCQzqarveirIrkhwdpnPQpmz1EN/2I27gZ9VhgheArOqmR+mYkwcJZfyXXVHcQqYl3WJ37vx+qibdYPrpRjhIdYULyIFfAzdDlXrI25XhLC1rlGkzNjA0YpL491OJGCwvUoCV1nIIHdvP99tvT6115enjQ22SSH/LcG7wvcn9en8cydvqmBcOPgTsm7UW050Z2oRjuy++6HTPTpDbbJrzph1IgrakMv1smZri3RFgY/2MNho+FnzJFX5oj/10Hf4kOv1udfK9OTF+PLVfFXEF9U/ItPF7eYKtayAAmZ7bNcRuxvLkCarfl62ZTMecQ1vkzSl8bS62j5eysSfV8VgXuq2PyBrbyN6WioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovp/0n8A1glJi/LJGzsAAAAASUVORK5CYII="},"48d6":function(e,t,s){"use strict";var n=s("5637");s.n(n).a},"48e2":function(e,t,s){},"496c":function(e,t,s){"use strict";var n=s("17da");s.n(n).a},"4b1c":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("77ad"),s("053b"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r=s("0b57"),c=s("a3ef"),l={data:function(){return{searchKey:"",showTableData:[],type:"",pageRequest:{pageNum:1,pageSize:5},allTags:[],tagsLists:[]}},components:{EditComp:r.default,CropperDialog:c.default},created:function(){this.initData()},computed:Object(a.a)({},Object(i.e)({tagTypes:function(e){return e.course.tagTypes},contentTags:function(e){return e.course.contentTags},userInfo:function(e){return e.user.userInfo}})),mounted:function(){this.getTagTypes()},methods:Object(a.a)(Object(a.a)({},Object(i.b)({getTagTypes:"course/getTagTypes",getContentTags:"course/getContentTags"})),{},{typeName:function(e){var t={};return this.tagTypes.forEach((function(s){s.type.toLowerCase()===e.toLowerCase()&&(t=s)})),t.name},initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getContentTags({pageNo:0,pageSize:0});case 2:e.tagsLists=e.contentTags,e.allTags=e.contentTags,e.tagsLists=e.allTags.filter((function(t){return e.type?(t.name.indexOf(e.searchKey)>-1||t.key.indexOf(e.searchKey)>-1)&&t.type===e.type:t.name.indexOf(e.searchKey)>-1||t.key.indexOf(e.searchKey)>-1})),e.handleCurrentChange(e.pageRequest.pageNum);case 7:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;this.tagsLists=this.allTags.filter((function(t){return e.type?(t.name.indexOf(e.searchKey)>-1||t.key.indexOf(e.searchKey)>-1)&&t.type===e.type:t.name.indexOf(e.searchKey)>-1||t.key.indexOf(e.searchKey)>-1})),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageRequest.pageSize=e},handleCurrentChange:function(e){this.pageRequest.pageNum=e;var t=(e-1)*this.pageRequest.pageSize,s=e*this.pageRequest.pageSize;this.showTableData=this.tagsLists.slice(t,s)},addTags:function(){this.$refs.tagEdit.show({type:"add"})},editTag:function(e){var t={type:"edit",params:e};this.$refs.tagEdit.show(t)},deleteTag:function(e){var t=this;this.$confirm("此操作将永久删除该标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),Object(o.delTags)({key:e}).then((function(e){e.success&&t.initData()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},onlineCourse:function(){var e=this;this.$confirm("确定要上线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.onlineCourses)([]).then((function(t){t.success&&(e.$message({type:"success",message:"上线成功!"}),e.initData())}))})).catch((function(){e.$message({type:"info",message:"已取消上线"})}))},changeType:function(){}})},u=(s("64c7"),s("8fad"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tags-container"},[s("div",{staticClass:"tags-content"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-input",{attrs:{clearable:"",placeholder:"请输入要查找的key或名称"},on:{input:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),s("el-select",{attrs:{placeholder:"请选择分类"},on:{change:e.search},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("el-option",{attrs:{value:"",label:"全部"}}),e._l(e.tagTypes,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.type}})}))],2)],1),s("div",{staticClass:"right"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.addTags()}}},[e._v("添加")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authorityId,expression:"userInfo.authorityId == '1'"}],staticClass:"btnOnline",staticStyle:{outline:"none"},attrs:{type:"success"},on:{click:e.onlineCourse}},[e._v("上线")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showTableData}},[s("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.$index+(e.pageRequest.pageNum-1)*e.pageRequest.pageSize+1))])]}}])}),s("el-table-column",{attrs:{width:"300",label:"key"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.key,placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.key))])])]}}])}),s("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.name,placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.name))])])]}}])}),s("el-table-column",{attrs:{label:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:e.typeName(t.row.type),placement:"top",effect:"light"}},[s("span",[e._v(e._s(e.typeName(t.row.type)))])])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small"},on:{click:function(s){return e.editTag(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return e.deleteTag(t.row.key)}}},[e._v("删除")])]}}])})],1),s("div",{staticClass:"pagination-box"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageRequest.pageNum,"page-size":e.pageRequest.pageSize,total:e.tagsLists.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),s("edit-comp",{ref:"tagEdit",attrs:{tagTypes:e.tagTypes},on:{addTagItem:e.initData}}),s("cropper-dialog")],1)}),[],!1,null,"da7691e4",null);t.default=d.exports},"4b76":function(e,t,s){e.exports=s.p+"img/pic-preview.e54a29be.png"},"4b80":function(e,t,s){"use strict";var n=s("18fa");s.n(n).a},"4bec":function(e,t,s){},"4c42":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("3e54"),s("053b"),s("e18c"),s("96db"),s("af86"),s("f1a9");var n=s("d8bb"),a=s.n(n),i=s("7873"),o={data:function(){return{recorder:null,isHaveRecorderPermission:!1,isRecording:!1,time:2,recorderUrl:"",showRecorder:!1,headers:{"X-Custom-Header":"some data"}}},mounted:function(){this.recorder=new a.a},computed:{recordedTime:function(){return this.recorder?(this.time&&this.recorder.duration>=60*this.time&&this.stopRecorder(),Object(i.convertTimeMMSS)(this.recorder.duration)):Object(i.convertTimeMMSS)(0)}},methods:{getPermission:function(){var e=this;a.a.getPermission().then((function(){e.isHaveRecorderPermission=!0}),(function(t){e.isHaveRecorderPermission=!1}))},startRecorder:function(){if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;this.isRecording=!0,this.recorder.start().then((function(){}),(function(e){}))},pauseRecorder:function(){if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;this.recorder.pause()},resumeRecorder:function(){if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;this.recorder.resume()},stopRecorder:function(){if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;this.isRecording=!1,this.recorder.stop();var e=this.recorder.getWAVBlob();this.recorderUrl=window.URL.createObjectURL(e)},destroyRecorder:function(){var e=this;if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;this.recorder.destroy().then((function(){e.recorder=null}))},toggle:function(){this.getPermission(),this.showRecorder=!this.showRecorder},resetRecorder:function(){this.destroyRecorder(),this.recorderUrl=""},downloadRecorder:function(){if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;var e=(new Date).getTime();this.recorder.downloadWAV(e)},saveRecorder:function(){var e=this;if(!this.isHaveRecorderPermission)return this.$message({type:"warning",message:"请打开使用你的麦克风"}),!1;var t=new FileReader;t.onload=function(){var s=new DataView(t.result),n=Object(i.convertToMp3)(e.recorder,s);e.$emit("saveRecorder",n)},t.readAsArrayBuffer(this.recorder.getWAVBlob())}},destroyed:function(){this.recorder=null}},r=(s("693a"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showRecorder?s("div",{staticClass:"record-container"},[s("div",{staticClass:"recorder-handler"},[s("el-button",{attrs:{type:"primary",size:"small",disabled:e.isRecording},on:{click:e.startRecorder}},[e._v("开始录音")]),s("el-button",{attrs:{type:"primary",size:"small",disabled:!e.isRecording},on:{click:e.stopRecorder}},[e._v("结束录音")])],1),s("div",{staticClass:"record-duration"},[e._v(e._s(e.recordedTime))]),s("div",{staticClass:"player"},[s("audio-player",{attrs:{src:e.recorderUrl,record:e.recorder}})],1),s("div",{staticClass:"btn-handler"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.resetRecorder}},[e._v("重置")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.downloadRecorder}},[e._v("下载")]),s("el-button",{attrs:{type:"success",size:"small"},on:{click:e.saveRecorder}},[e._v("保存")])],1)]):e._e()}),[],!1,null,null,null);t.default=c.exports},"4dca":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return this.form?{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}:null}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e.sound,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("8953"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form"},[s("div",{staticClass:"correct-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.correct,expression:"correct"}],staticClass:"wrap"},[s("el-image",{attrs:{lazy:"",src:e._f("urlFix")(e.assetsDomain+e.correct.image,"imageView2/1/format/jpg"),fit:"cover"},on:{click:function(t){return e.play(e.correct)}}}),s("div",{staticClass:"text"},[e._v(e._s(e.correct.sentence))])],1)])])}),[],!1,null,"52ca0a58",null);t.default=r.exports},"4ec3":function(e,t,s){"use strict";s.r(t),s.d(t,"getApiList",(function(){return a})),s.d(t,"createApi",(function(){return i})),s.d(t,"getApiById",(function(){return o})),s.d(t,"updataApi",(function(){return r})),s.d(t,"setAuthApi",(function(){return c})),s.d(t,"getAllApis",(function(){return l})),s.d(t,"deleteApi",(function(){return u}));var n=s("b775"),a=function(e){return Object(n.default)({url:"/api/getApiList",method:"post",data:e})},i=function(e){return Object(n.default)({url:"/api/createApi",method:"post",data:e})},o=function(e){return Object(n.default)({url:"/api/getApiById",method:"post",data:e})},r=function(e){return Object(n.default)({url:"/api/updataApi",method:"post",data:e})},c=function(e){return Object(n.default)({url:"/api/setAuthApi",method:"post",data:e})},l=function(e){return Object(n.default)({url:"/api/getAllApis",method:"post",data:e})},u=function(e){return Object(n.default)({url:"/api/deleteApi",method:"post",data:e})}},"4f28":function(e,t,s){},"4f59":function(e,t,s){},5017:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("91c2"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("span",[e._v(e._s(e.form.sentence.replace(e.form.words_choice[0],"_____")))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.words_choice.length,expression:"form.words_choice.length"}],staticClass:"options"},e._l(e.form.words_choice,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)])}),[],!1,null,"dd217222",null);t.default=r.exports},5072:function(e,t,s){},"50cf":function(e,t,s){},5105:function(e,t,s){},"512f":function(e,t,s){},5131:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playAudio:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1,this.$parent.$emit("nextForm")):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1,e.$parent.$emit("nextForm")})}}},o=s("4023"),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["form",this.form.type]},[t("a",{staticClass:"img-box"},[t("img",{attrs:{src:this._f("urlFix")(this.assetsDomain+this.form.image,"imageView2/1/format/jpg"),alt:""}})])])}),[],!1,null,"01080153",null);t.default=r.exports},5154:function(e,t,s){},5155:function(e,t,s){},5157:function(e,t,s){"use strict";var n=s("5999");s.n(n).a},"51d0":function(e,t,s){"use strict";var n=s("898b");s.n(n).a},5296:function(e,t,s){},"52cd":function(e,t,s){"use strict";s.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"big"},[t("div",{staticClass:"inner"},[t("img",{attrs:{src:s("783f")}}),t("p",[this._v("页面被神秘力量吸走了，请联系我们修复")])])])])}],a=(s("457a"),s("4023")),i=Object(a.a)({name:"Login"},(function(){return this.$createElement,this._self._c,this._m(0)}),n,!1,null,null,null);t.default=i.exports},"53bc":function(e,t,s){},"53e8":function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("f983"),i=s("cabd"),o={data:function(){return{dialogVisible:!1,qrcodeInfo:null,flag:"",form:{type:"1",title:"",size:400,website:"",json:{website:""}}}},components:{vueJsonEditor:a.a},methods:{show:function(e){this.flag=e.flag,"add"===e.flag?this.form={type:"1",title:"",website:"",size:400,json:{website:""}}:(this.qrcodeInfo=e.data,this.form.type="1",this.form.title=this.qrcodeInfo.title,this.form.size=this.qrcodeInfo.size,this.qrcodeInfo.info&&this.qrcodeInfo.info.website?(this.form.website=this.qrcodeInfo.info.website,this.form.json=this.qrcodeInfo.info):(this.form.website="",this.form.json={website:""})),this.dialogVisible=!0},onJsonChange:function(e){},save:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=16;break}if("1"===e.form.type&&(e.form.json.website=e.form.website),n="添加成功","add"!==e.flag){t.next=8;break}return t.next=6,Object(i.qrCodeAdd)({title:e.form.title,size:e.form.size,info:JSON.stringify(e.form.json)});case 6:t.next=11;break;case 8:return t.next=10,Object(i.qrCodeUpdate)({title:e.form.title,size:e.form.size,info:JSON.stringify(e.form.json),uuid:e.qrcodeInfo.uuid});case 10:n="更新成功";case 11:e.$message({type:"success",message:n}),e.$emit("loadData"),e.dialogVisible=!1,t.next=18;break;case 16:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},r=(s("3df0"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"创建二维码",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",[s("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-radio",{attrs:{label:"1"}},[e._v("运维专用")]),s("el-radio",{attrs:{label:"2"}},[e._v("技术专用")])],1)],1),s("el-form-item",{attrs:{label:"活动主题",prop:"title",rules:[{required:!0,message:"活动主题不能为空"}]}},[s("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),s("el-form-item",{attrs:{label:"二维码尺寸",prop:"size",rules:[{required:!0,message:"二维码尺寸不能为空"}]}},[s("el-input",{model:{value:e.form.size,callback:function(t){e.$set(e.form,"size",e._n(t))},expression:"form.size"}})],1),"1"==e.form.type?s("el-form-item",{attrs:{label:"跳转网址"}},[s("el-input",{attrs:{placeholder:"https://www.baidu.com"},model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}})],1):s("el-form-item",[s("vue-json-editor",{attrs:{"show-btns":!1,expandedOnStart:!0},on:{"json-change":e.onJsonChange},model:{value:e.form.json,callback:function(t){e.$set(e.form,"json",t)},expression:"form.json"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)}),[],!1,null,"54a34267",null);t.default=c.exports},5444:function(e,t,s){"use strict";var n=s("411d");s.n(n).a},"54b9":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("459e"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.form.title)+" ")])])])])}),[],!1,null,"b3943c6c",null);t.default=r.exports},5510:function(e,t,s){"use strict";var n=s("b647");s.n(n).a},5577:function(e,t,s){},"55d7":function(e,t,s){},"562c":function(e,t,s){"use strict";var n=s("c8be");s.n(n).a},5637:function(e,t,s){},"56ad":function(e,t,s){"use strict";var n=s("3c1d");s.n(n).a},"56b6":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("a133"),s("ed0d"),s("f09c"),s("e117");var n=s("0261"),a=s("3dfd"),i=(s("ddb8"),s("a18c")),o=s("4360"),r=(s("223d"),s("f5ef")),c=s("2095"),l=s("7f08"),u=s("bcff"),d=s("b705"),f=s.n(d),m=(s("3880"),s("82ae")),h=s.n(m),p=s("9535"),v=s.n(p);s("1733"),n.default.use(v.a),n.default.use(f.a),n.default.use(u.default),n.default.use(r.default),n.default.filter("formatDate",c.formatDate),n.default.filter("urlFix",l.urlfix),n.default.config.productionTip=!1,n.default.prototype.$http=h.a,new n.default({render:function(e){return e(a.default)},router:i.default,store:o.store}).$mount("#app")},5745:function(e,t,s){},"574d":function(e,t,s){"use strict";s.r(t),s("9302"),s("77ad"),s("053b"),s("fe8a"),s("e18c"),s("e35a"),s("96db"),s("0d7a"),s("af86"),s("f1a9"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("ae8c"),r=s("0470"),c={props:["courseTypes"],data:function(){return{showEdit:!1,lang:"",form:{codePend:"",code:"",course_type:"",cover:[],desc:{},flag:[],is_show:!0,lan_code:"",tags:[],name:"",title:{}},bigImgUrl:"",bigFileRaw:{},smlImgUrl:"",smlFileRaw:{},type:""}},components:{},created:function(){},computed:Object(a.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain},langInfos:function(e){return e.course.langInfos}})),mounted:function(){},methods:{show:function(e){if(this.type=e.type,this.showEdit=!0,"add"===this.type){this.lang=e.selLang;var t={code:"",codePend:"",course_type:"",cover:[],desc:{},flag:[],is_show:!0,lan_code:e.selLang,tags:[],name:"",title:{}};this.form=t,this.bigImgUrl="",this.smlImgUrl=""}else"edit"===this.type&&(this.lang=e.form.code.split("-")[0],this.form=e.form,this.form.codePend=e.form.code.split("-").slice(1).join("-"),this.bigImgUrl=this.assetsDomain+"/"+e.form.cover[0],this.smlImgUrl=this.assetsDomain+"/"+e.form.flag[0])},close:function(){this.showEdit=!1},uploadBig:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.bigFileRaw).length){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,Object(i.getInfoToken)();case 4:return s=t.sent,n=s.data.token,a=e.bigFileRaw.name.split("."),o=e.bigFileRaw.uid+"."+a[1],c="course/coversV2/"+o,t.next=11,Object(r.uploadQiniu)(e.bigFileRaw.raw,n,c);case 11:l=t.sent,e.form.cover=[l.key];case 13:case"end":return t.stop()}}),t)})))()},bigFileChange:function(e,t){this.bigImgUrl=URL.createObjectURL(e.raw),this.bigFileRaw=e,this.uploadBig()},handleBigSuccess:function(e,t){this.bigImgUrl=URL.createObjectURL(t.raw)},uploadSml:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.smlFileRaw).length){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,Object(i.getInfoToken)();case 4:return s=t.sent,n=s.data.token,a=e.smlFileRaw.name.split("."),o=e.smlFileRaw.uid+"."+a[1],c="course/icons/"+o,t.next=11,Object(r.uploadQiniu)(e.smlFileRaw.raw,n,c);case 11:l=t.sent,e.form.flag=[l.key];case 14:case"end":return t.stop()}}),t)})))()},smlFileChange:function(e,t){this.smlImgUrl=URL.createObjectURL(e.raw),this.smlFileRaw=e,this.uploadSml()},handleSmlSuccess:function(e,t){this.smlImgUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("add"===e.type){var s={code:e.lang+"-"+e.form.codePend,course_type:e.form.course_type,cover:e.form.cover,desc:e.form.desc,flag:e.form.flag,is_show:e.form.is_show,lan_code:e.form.lan_code,tags:e.form.tags,name:e.form.name,title:e.form.title};Object(i.addCourse)(s).then((function(t){t.success&&(e.close(),e.$emit("addNewCourse"))}))}else{var n={editInfo:{course_type:e.form.course_type,cover:e.form.cover,desc:e.form.desc,flag:e.form.flag,is_show:e.form.is_show,tags:[],name:e.form.name,title:e.form.title},uuid:e.form.uuid};Object(i.courseEdit)(n).then((function(t){t.success&&(e.close(),e.$emit("addNewCourse"))}))}}))},changeType:function(){}}},l=(s("9520"),s("262f"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showEdit?s("div",{staticClass:"edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"course-content"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"编码：",prop:"codePend",rules:[{required:!0,message:"编码不能为空",trigger:"blur"},{pattern:/^[a-zA-Z-]+$/,message:"只允许输入字母！"}]}},[s("el-input",{attrs:{maxlength:"20",placeholder:"AAA","show-word-limit":"",disabled:"edit"==e.type},model:{value:e.form.codePend,callback:function(t){e.$set(e.form,"codePend",t)},expression:"form.codePend"}},[s("template",{slot:"prepend"},[e._v(e._s(e.lang+"-"))])],2)],1),s("el-form-item",{attrs:{label:"名称：",prop:"name",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{maxlength:"100","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"分类：",prop:"course_type",rules:[{required:!0,message:"请选择分类",trigger:"blur"}]}},[s("el-select",{attrs:{placeholder:"请选择课程分类"},on:{change:e.changeType},model:{value:e.form.course_type,callback:function(t){e.$set(e.form,"course_type",t)},expression:"form.course_type"}},e._l(e.courseTypes,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.type,disabled:!!e.disabled&&e.disabled}})})),1)],1),s("el-form-item",{staticClass:"desc",attrs:{label:"标题：",required:""}},e._l(e.langInfos,(function(t){return s("el-row",{key:"title"+t.langKey},[s("el-form-item",{staticClass:"input-box",attrs:{prop:"title."+t.langKey,rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{type:"textarea",maxlength:"100","show-word-limit":""},model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}),s("span",[e._v(e._s("("+t.name+")"))])],1)],1)})),1),s("el-form-item",{staticClass:"desc",attrs:{label:"描述："}},e._l(e.langInfos,(function(t){return s("div",{key:"desc"+t.langKey,staticClass:"input-box"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}}),s("span",[e._v(e._s("("+t.name+")"))])],1)})),0),s("el-form-item",{attrs:{label:"大图：",prop:"flag[0]",rules:[{required:!0,message:"大图标不能为空",trigger:"change"}]}},[s("div",{staticClass:"img-box big-img-box"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.bigImgUrl,alt:""}})]),s("el-upload",{attrs:{action:"#","http-request":e.uploadBig,accept:"image/png,image/jpg,image/jpeg","on-change":e.bigFileChange,"on-success":e.handleBigSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)]),s("el-form-item",{attrs:{label:"小图：",prop:"flag[0]",rules:[{required:!0,message:"小图标不能为空",trigger:"change"}]}},[s("div",{staticClass:"img-box small-img-box"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.smlImgUrl,alt:""}})]),s("el-upload",{attrs:{action:"#","http-request":e.uploadSml,accept:"image/png,image/jpg,image/jpeg","on-change":e.smlFileChange,"on-success":e.handleSmlSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)]),s("el-form-item",{staticClass:"flex-class",attrs:{label:"是否显示："}},[s("el-radio-group",{model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:function(t){return e.determine()}}},[e._v("确定")])],1)],1)])]):e._e()])}),[],!1,null,"e1596346",null);t.default=u.exports},5775:function(e,t,s){"use strict";s.r(t),s("3466"),s("fe59"),s("9302"),s("ea69"),s("08ba");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("ae8c"),r={props:["form"],data:function(){return{isPlay:!1,options:[],words:[],audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.resetAll(),e.playVoice()})),this.$on("break",(function(){e.resetAll()}))},computed:Object(n.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},makeSentence:function(e){this.$parent.$emit("setSwiperMousewheel",!1);var t=this.words[e];this.words.splice(e,1);var s=i.a.findIndex(this.options,(function(e){return""===e}));this.options[s]=t,this.options.join(" ")===this.form.sentence&&(this.$parent.$emit("setSwiperMousewheel",!0),this.$parent.$emit("nextForm"))},reset:function(e){var t=this.options[e];this.options[e]="",this.words.push(t)},resetAll:function(){var e=this;this.audio.pause(),this.isPlay=!1;var t=this.form.options;this.words=t,this.options=[],this.words.forEach((function(t){e.options.push("")}))}}},c=(s("bd2f"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.type]},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""},on:{click:e.playVoice}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"make-sentence"},[s("span",{staticClass:"sentence"},e._l(e.options,(function(t,n){return s("i",{key:n,domProps:{textContent:e._s(t)},on:{click:function(t){return e.reset(n)}}})})),0),s("div",{staticClass:"words"},e._l(e.words,(function(t,n){return s("a",{key:"word"+n,on:{click:function(t){return e.makeSentence(n)}}},[s("span",{domProps:{textContent:e._s(t)}})])})),0)])])])}),[],!1,null,"5cadc6e9",null);t.default=l.exports},5782:function(e,t,s){"use strict";var n=s("2a21");s.n(n).a},"57bd":function(e,t,s){"use strict";s.r(t),s("4194");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},methods:{playAudio:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sentence_audio,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.desc),s}}},a=(s("851c"),s("231a"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"trumpet-box"},[s("div",{staticClass:"trumpet",on:{click:e.playAudio}},[s("i")])]),s("span",{staticClass:"sentence"},[e._v(e._s(e.form.sentence))]),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"record"},[t("i")])}],!1,null,"2f3736be",null);t.default=i.exports},"590f":function(e,t,s){},5919:function(e,t,s){"use strict";var n=s("93fb");s.n(n).a},5999:function(e,t,s){},"59d7":function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("cabd"),i=s("2480"),o={data:function(){return{showSortLang:!1,allLangs:[],assetsUrl:""}},created:function(){},mounted:function(){var e=this,t=document.getElementById("langs-lists");new i.a(t,{swapThreshold:1,animation:0,onEnd:function(t){var s,n=e.allLangs[t.oldIndex];s=e.allLangs[t.newIndex].list_order>e.allLangs[t.oldIndex].list_order?e.allLangs[t.newIndex].list_order+1:e.allLangs[t.newIndex].list_order>=1?e.allLangs[t.newIndex].list_order-1:0;var i={lang_info:{}};i.lan_code=n.lan_code,i.lang_info.desc=n.desc?n.desc:{},i.lang_info.flag=n.flag?n.flag:[],i.lang_info.is_hot=n.is_hot,i.lang_info.is_show=n.is_show,i.lang_info.list_order=s,i.lang_info.title=n.title?n.title:{},i.lang_info.word_direction=n.word_direction,Object(a.editLang)(i).then((function(t){t.success&&e.initData()}))}})},methods:{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getLangList)({pageNo:0,pageSize:999});case 2:(s=t.sent).success&&(n=s.data.langs.sort((function(e,t){return e.list_order-t.list_order})),e.allLangs=n,e.assetsUrl=s.data.assetsUrl);case 4:case"end":return t.stop()}}),t)})))()},show:function(e){this.initData(),this.showSortLang=!0},close:function(){this.showSortLang=!1,this.$emit("sortLang")}}},r=(s("5e1b"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showSortLang,expression:"showSortLang"}],staticClass:"sort-lang"},[s("div",{staticClass:"sort-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("h1",[e._v("语种排序")]),s("div",{staticClass:"langs-lists",attrs:{id:"langs-lists"}},e._l(e.allLangs,(function(t){return s("div",{key:t.lan_code,staticClass:"lang-item"},[s("a",{attrs:{href:"javascript:;"}},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:t.flag?e.assetsUrl+t.flag[0]:"",alt:""}}),s("p",{staticClass:"list-order"},[e._v(e._s(t.list_order))])]),s("el-tooltip",{attrs:{content:t.title["zh-CN"],width:"300",placement:"top",effect:"light"}},[s("p",{staticClass:"title"},[e._v(e._s(t.title?t.title["zh-CN"]:""))])])],1)])})),0)])])])}),[],!1,null,"245e325e",null);t.default=c.exports},"59f3":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("ae8c"),r={props:["form","slideForms"],data:function(){return{isPlay:!1,sentences:[],current:0,addCorrect:!1,addWrong:!1,audio:new Audio}},computed:Object(n.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain}})),created:function(){var e=this;this.$on("init",(function(){e.sentences=e.getSentences(),e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},mounted:function(){},methods:{check:function(e,t){var s=this;this.current=t,e.sentence===this.form.sentence?(this.addCorrect=!0,setTimeout((function(){s.addCorrect=!1}),500),this.$parent.$emit("nextForm")):(this.addWrong=!0,setTimeout((function(){s.addWrong=!1}),1e3))},playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},playSentence:function(e){var t=this,s=new Audio;this.isPlay?(s.pause(),this.isPlay=!1):(s.src=this.assetsDomain+e.sound,s.oncanplay=function(){s.play(),t.isPlay=!0},s.onended=function(){t.isPlay=!1})},getSentences:function(){var e=this.form,t=[e],s=this.slideForms.filter((function(t){return t.sentence!==e.sentence}));return t=t.concat(i.a.sampleSize(s,2)),i.a.shuffle(t)}}},c=(s("c589"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.type]},[s("div",{staticClass:"img-box"},[s("a",{on:{click:e.playVoice}},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""}})])]),s("div",{staticClass:"content"},e._l(e.sentences,(function(t,n){return s("div",{key:t.uuid+n,staticClass:"choice-item sentences",class:[{correct:e.current==n&&t.sentence==e.form.sentence&&e.addCorrect},{wrong:e.current==n&&t.sentence!==e.form.sentence&&e.addWrong}],attrs:{id:"sentences"+n}},[s("a",{on:{click:function(s){return e.playSentence(t)}}},[s("i")]),s("span",{staticClass:"line"}),s("span",{staticClass:"sentence",on:{click:function(s){return e.check(t,n)}}},[e._v(e._s(t.sentence))])])})),0)])}),[],!1,null,"3f70e1de",null);t.default=l.exports},"5a75":function(e,t,s){"use strict";s.r(t);var n=s("90c6"),a=s("71f7"),i=s("b744"),o={data:function(){return{}},components:{Process1:n.default,Process3:i.default,Process2:a.default},methods:{}},r=(s("a509"),s("4023")),c=Object(r.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"new-version"},[t("div",{staticClass:"version-content"},[t("div",{staticClass:"processes"},[t("process1",{ref:"process1"}),t("process2",{ref:"process2"}),t("process3",{ref:"process3"})],1)])])}),[],!1,null,"72c49012",null);t.default=c.exports},"5a86":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("70ee"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},["listening_choice"==e.form.type?s("div",{staticClass:"form-wrap chapter"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sound)}}})])]),s("div",{staticClass:"options"},[s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.form.text?e.form.text.replace(new RegExp(/\n/,"g"),"<br />"):"")}})])]):e._e(),"listeningChoice_question"==e.form.type?s("div",{staticClass:"form-wrap question"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sound_question)}}}),s("span",[e._v(e._s(e.form.question))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.options.length,expression:"form.options.length"}],staticClass:"options"},e._l(e.form.options,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)]):e._e()])])}),[],!1,null,"06fb3e23",null);t.default=r.exports},"5a9f":function(e,t,s){},"5ac7":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("e18c"),s("34d9"),s("96db"),s("08ba"),s("af86");var n=s("c52d"),a=s("cabd"),i=s("de52"),o=s.n(i),r={data:function(){return{uuid:"",comments:[],copyComments:[],searchKey:"",multipleSelection:[],userIds:[],dialogTableVisible:!1}},methods:{show:function(e){this.uuid=e.uuid,this.searchKey="",this.multipleSelection=[],this.userIds=[],this.initData(),this.dialogTableVisible=!0},initData:function(){var e=this;Object(a.getChartroomComments)({uuid:this.uuid}).then((function(t){e.copyComments=t.data.comments,e.searchKey?e.comments=e.copyComments.filter((function(t){return t.nickname.indexOf(e.searchKey)>-1||t.comment.indexOf(e.searchKey)>-1})):e.comments=e.copyComments}))},formatDate:function(e,t,s,n){var a;return a=19===(s+"").length?s/1e6:1e3*s,o()(new Date(a)).format("YYYY-MM-DD HH:mm:ss")},filterTag:function(e,t){return t.isMajia===e},search:function(){var e=this;this.searchKey?this.comments=this.copyComments.filter((function(t){return t.nickname.indexOf(e.searchKey)>-1||t.comment.indexOf(e.searchKey)>-1})):this.comments=this.copyComments},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,this.userIds=[],e.forEach((function(e){t.userIds.push(e.user_id)})),this.userIds=Object(n.a)(new Set(this.userIds))},addGag:function(){var e=this;if(0===this.userIds.length)return this.$message({type:"warning",message:"请选择评论列表"}),!1;Object(a.addLiveGag)({courseUUID:this.uuid,userIds:this.userIds}).then((function(t){t.success&&(e.$message({type:"success",message:"设置成功"}),e.initData())}))},removeGag:function(){var e=this;if(0===this.userIds.length)return this.$message({type:"warning",message:"请选择评论列表"}),!1;Object(a.removeLiveGag)({courseUUID:this.uuid,userIds:this.userIds}).then((function(t){t.success&&(e.$message({type:"success",message:"设置成功"}),e.initData())}))}}},c=s("4023"),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"评论列表",visible:e.dialogTableVisible,width:"70%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-input",{attrs:{placeholder:"请输入要查找的内容","prefix-icon":"el-icon-search"},on:{change:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),s("el-col",{attrs:{span:9,offset:3}},[s("el-button",{attrs:{type:"primary"},on:{click:e.addGag}},[e._v("添加禁言")]),s("el-button",{attrs:{type:"primary"},on:{click:e.removeGag}},[e._v("移除禁言")])],1)],1),s("el-table",{attrs:{data:e.comments,height:"500"},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{type:"index"}}),s("el-table-column",{attrs:{label:"用户头像",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("el-image",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.row.photo.indexOf("http")>-1?e.row.photo:"https://uploadfile1.talkmate.com/"+e.row.photo,fit:"cover"}})]}}])}),s("el-table-column",{attrs:{prop:"nickname",label:"姓名"}}),s("el-table-column",{attrs:{prop:"comment",label:"评论内容",width:"250"}}),s("el-table-column",{attrs:{prop:"comment_time",formatter:e.formatDate,label:"评论时间",width:"180"}}),s("el-table-column",{attrs:{prop:"role",label:"角色"}}),s("el-table-column",{attrs:{prop:"isMajia",label:"是否马甲",width:"90",filters:[{text:"是",value:!0},{text:"否",value:!1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:t.row.isMajia?"primary":"success","disable-transitions":""}},[e._v(e._s(t.row.isMajia?"是":"否"))])]}}])}),s("el-table-column",{attrs:{prop:"isGag",label:"是否禁言"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:t.row.isGag?"warning":"success","disable-transitions":""}},[e._v(e._s(t.row.isGag?"是":"否"))])]}}])}),s("el-table-column",{attrs:{prop:"coins",label:"打赏金币"}})],1)],1)}),[],!1,null,null,null);t.default=l.exports},"5b1e":function(e,t,s){"use strict";s.r(t),s("053b"),s("e35a"),s("0d7a"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("de52"),o=s.n(i),r=s("cabd"),c=s("0470"),l=s("ae8c"),u={data:function(){return{dialogFormVisible:!1,dialogVisible:!1,uploadField:"",title:"",token:"",state:0,date:new Date,times:[new Date,new Date],form:{uuid:"",videoUrl:"",videoTime:"",videoCover:"",finishTitle:"",finishInfo:"",weixinNo:"",date:"",startTime:"",EndTime:""},rules:{}}},mounted:function(){var e=this;Object(r.getInfoTokenUploadFile)().then((function(t){e.token=t.data.token}))},computed:Object(a.a)({},Object(l.e)({uploadfileDomain:function(e){return e.course.uploadfileDomain}})),methods:{show:function(e){this.resetForm(),this.title=e.title,this.state=e.state,this.form.videoUrl=e.videoUrl,this.form.videoCover=e.videoCover,this.form.finishTitle=e.finishTitle,this.form.finishInfo=e.finishInfo,this.form.weixinNo=e.weixinNo,this.form.uuid=e.uuid,this.date=e.date;var t=-1===e.state?e.realStartTime:e.startTime,s=-1===e.state?e.realEndTime:e.EndTime;this.times=[new Date(1e3*t),new Date(1e3*s)],this.dialogFormVisible=!0},resetForm:function(){this.form={videoUrl:"",videoCover:"",videoTime:"",finishTitle:"",finishInfo:"",weixinNo:"",date:"",startTime:"",EndTime:""}},uploadOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,a,i,r,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.uploadField.split(","),a=n[0],i=n[1],r=o()(new Date).format("YYYY/MM/DD"),l=e.name.split(".")[1],u="","audio"===a?u="live/sounds/"+r+"/"+e.uid+"."+l:"image"===a?u="live/images/"+r+"/"+e.uid+"."+l:"video"===a&&(u="live/videos/"+r+"/"+e.uid+"."+l),t.next=9,Object(c.uploadQiniu)(e.raw,s.token,u);case 9:d=t.sent,s.$set(s.form,i,s.uploadfileDomain+d.key);case 11:case"end":return t.stop()}}),t)})))()},setUploadField:function(e){this.uploadField=e},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(t){var s=new Date(e.date+" "+o()(e.times[0]).format("HH:mm:ss")).getTime()/1e3,n=new Date(e.date+" "+o()(e.times[1]).format("HH:mm:ss")).getTime()/1e3;e.form.date=o()(e.date).format("YYYY-MM-DD"),e.form.startTime=s,e.form.EndTime=n,e.form.videoTime=parseInt(e.$refs.video.duration),Object(r.editLiveCourse)(e.form).then((function(t){t.success&&e.$message({type:"success",message:"发表成功"})}))}}))},close:function(){this.$emit("initData")}}},d=(s("3aa80"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{width:"70%",title:"课程编辑",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"标题"}},[s("label",[e._v(e._s(e.title))])]),s("el-form-item",{attrs:{label:"视频地址",prop:"videoUrl"}},[s("el-input",{attrs:{placeholder:"https://"},model:{value:e.form.videoUrl,callback:function(t){e.$set(e.form,"videoUrl",t)},expression:"form.videoUrl"}},[s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"video/mp4","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{type:"text"},on:{click:function(t){return e.setUploadField("video,videoUrl")}}},[e._v("上传")])],1)],1)],1),e.form.videoUrl?s("el-form-item",[s("video",{ref:"video",staticStyle:{width:"200px"},attrs:{src:e.form.videoUrl,controls:""}})]):e._e(),s("el-form-item",{attrs:{label:"视频封面",prop:"videoCover"}},[s("el-input",{attrs:{placeholder:"https://"},model:{value:e.form.videoCover,callback:function(t){e.$set(e.form,"videoCover",t)},expression:"form.videoCover"}},[s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"image/png,image/jpg,image/jpeg,image/webp","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{type:"text"},on:{click:function(t){return e.setUploadField("image,videoCover")}}},[e._v("上传")])],1)],1)],1),s("el-form-item",{attrs:{label:"微信号"}},[s("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.form.weixinNo,callback:function(t){e.$set(e.form,"weixinNo",t)},expression:"form.weixinNo"}})],1),s("el-form-item",{attrs:{label:"结束标题"}},[s("el-input",{attrs:{maxlength:"12","show-word-limit":""},model:{value:e.form.finishTitle,callback:function(t){e.$set(e.form,"finishTitle",t)},expression:"form.finishTitle"}})],1),s("el-form-item",{attrs:{label:"结束通知"}},[s("el-input",{attrs:{type:"textarea",maxlength:"90","show-word-limit":""},model:{value:e.form.finishInfo,callback:function(t){e.$set(e.form,"finishInfo",t)},expression:"form.finishInfo"}})],1),s("el-form-item",{attrs:{label:"直播时间"}},[s("el-date-picker",{attrs:{disabled:-1==e.state,type:"date",placeholder:"选择日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),s("el-time-picker",{staticClass:"time-picker",attrs:{disabled:-1==e.state,"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)}),[],!1,null,"54e3a926",null);t.default=f.exports},"5b59":function(e,t,s){},"5b5d":function(e,t,s){},"5b8f":function(e,t,s){"use strict";s.r(t),s("e18c"),s("96db"),s("af86"),s("f1a9");var n={data:function(){return{showChangImg:!1,nativeImg:"",fileRaw:{}}},methods:{show:function(){this.showChangImg=!0},close:function(){this.showChangImg=!1},fileNative:function(e,t){this.nativeImg=URL.createObjectURL(e.raw),this.fileRaw=e},nativeSuccess:function(e,t){this.nativeImg=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){}}},a=(s("70de"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showChangImg?s("div",{staticClass:"change-part-img"},[s("div",{staticClass:"change-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("h1",[e._v("更换图片")]),s("div",{staticClass:"head"},[s("div",{staticClass:"left"},[s("span",{staticClass:"text url"},[e._v("图片地址：")]),s("input",{attrs:{type:"text"}}),s("a",{attrs:{href:"javascript:;"}},[e._v("确定")])]),s("div",{staticClass:"right"},[s("a",{attrs:{href:"http://files.200h.com/",target:"_blank"}},[e._v("图库")]),s("a",{attrs:{href:"javascript:;"}},[e._v("编辑器内查找")]),s("a",{attrs:{href:"javascript:;"}},[s("el-upload",{staticClass:"upload-img",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.fileNative,"on-success":e.nativeSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-text"}},[s("span",[e._v("+本地上传")])])])],1)])]),s("div",{staticClass:"img"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e.nativeImg,alt:""}})])]),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.close()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])]):e._e()])}),[],!1,null,"1d965854",null);t.default=i.exports},"5c09":function(e,t,s){"use strict";s.r(t);var n=s("5a75"),a=s("12ae"),i={data:function(){return{isChange:!1,isActive:-1,isShow:!1,version:"V3"}},created:function(){var e=this;this.$bus.on("closeAdd",(function(){e.close()}))},components:{NewVersion:n.default,CopyVersion:a.default},methods:{show:function(e){this.version=e.version,this.isShow=!0},close:function(){this.isShow=!1,this.isActive=-1,this.isChange=!1,this.version="V3"},addVersion:function(e){this.isActive=e,e&&this.$refs.copyVer.showCopy()},changeVer:function(){this.version="",this.isChange=!0},determine:function(){this.version||(this.version="V3"),this.isChange=!1}},beforeDestroy:function(){this.$bus.off("closeAdd")}},o=(s("73eb"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.isShow?s("div",{staticClass:"add-version-container"},[s("div",{staticClass:"add-version-wrap"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("h1",[e._v("创建新版本")]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"version-num"},[s("span",[e._v("版本号：")]),e.isChange?s("input",{directives:[{name:"model",rawName:"v-model",value:e.version,expression:"version"}],attrs:{type:"text",id:"input",autofocus:""},domProps:{value:e.version},on:{input:function(t){t.target.composing||(e.version=t.target.value)}}}):s("span",{staticClass:"text-ver"},[e._v(e._s(e.version))]),e.isChange?s("a",{staticClass:"determine",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")]):s("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.changeVer()}}},[e._v("修改")])]),s("div",{staticClass:"course-content"},[s("span",[e._v("课程内容：")]),s("div",{staticClass:"buttons"},[s("a",{staticClass:"copy",class:{active:1==e.isActive},on:{click:function(t){return e.addVersion(!0)}}},[e._v("复制现有版本"),s("small",[e._v("（适用于现有版本基础上的修改）")])]),s("a",{staticClass:"add-new",class:{active:0==e.isActive},on:{click:function(t){return e.addVersion(!1)}}},[e._v("重新编写内容"),s("small",[e._v("（适用于重建或较大的修改）")])])])])]),s("copy-version",{directives:[{name:"show",rawName:"v-show",value:1==e.isActive,expression:"isActive == true"}],ref:"copyVer"}),s("new-version",{directives:[{name:"show",rawName:"v-show",value:0==e.isActive,expression:"isActive == false"}]})],1)])]):e._e()])}),[],!1,null,"770b5f14",null);t.default=r.exports},"5c0b":function(e,t,s){"use strict";var n=s("aa69");s.n(n).a},"5c27":function(e,t,s){},"5c4d":function(e,t,s){"use strict";var n=s("bbbe");s.n(n).a},"5d05":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("3466"),s("fe59"),s("08ba");var n=s("0eaa"),a=s("de52"),i=s.n(a),o=s("f348"),r=s.n(o),c=s("2f35"),l=s("acd6"),u=s("5ac7"),d=s("5b1e"),f=s("0f52"),m=s("e39f"),h=s("0ab1"),p=s("cabd"),v=s("ae8c"),g={data:function(){return{rooms:[],search:"",liveRate:{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",0:"日"},getRowKey:function(e){return e.room.code},expandRowKeys:[]}},components:{Share:c.default,Comment:l.default,CommentList:u.default,EditCourse:d.default,Subscribe:f.default,OnlinePersons:m.default,CourseFiles:h.default},mounted:function(){this.getMajia(),this.initData()},computed:Object(n.a)(Object(n.a)({},Object(v.e)({uploadfileDomain:function(e){return e.course.uploadfileDomain},userInfo:function(e){return e.user.userInfo}})),{},{isEditor:function(){return"131"===this.userInfo.authorityId}}),methods:Object(n.a)(Object(n.a)({},Object(v.b)({getMajia:"course/getMajia"})),{},{initData:function(){var e=this;Object(p.getLiveList)({pageNo:0,pageSize:9999}).then((function(t){e.rooms=t.data.rooms}))},add:function(){this.$router.push({name:"live-edit",query:{flag:"add"}})},handleEdit:function(e,t){localStorage.setItem("storage_liveRooms",JSON.stringify(t)),this.$router.push({name:"live-edit",query:{flag:"edit"}})},handleDelete:function(e,t){var s=this;this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(p.delLive)({code:t.room.code}).then((function(e){e.success&&(s.$message({type:"success",message:e.msg}),s.initData())}))})).catch((function(){s.$message({type:"info",message:"已取消删除"})}))},handleOnline:function(e,t){var s=this;this.$confirm("确认要上架吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(p.onlineLive)({code:t.room.code}).then((function(e){e.success&&(s.$message({type:"success",message:e.msg}),s.initData())}))})).catch((function(){s.$message({type:"info",message:"已取消上架"})}))},handleOffline:function(e,t){var s=this;this.$confirm("确认要下架吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(p.offlineLive)({code:t.room.code}).then((function(e){e.success&&(s.$message({type:"success",message:e.msg}),s.initData())}))})).catch((function(){s.$message({type:"info",message:"已取消下架"})}))},handleShare:function(e,t){this.$refs.share.show(t)},formatCourseDate:function(e){var t="";-1===e.state?t+="上课时间":t+="开始时间",0===e.state?t+=i()(new Date(e.date)).format("MM月DD日")+" ":t+=i()(new Date(1e3*e.realStartTime)).format("MM月DD日")+" ";var s=i()(new Date(1e3*e.startTime)).format("HH:mm"),n=i()(new Date(1e3*e.EndTime)).format("HH:mm");return 1!==e.state&&-1!==e.state||(s=i()(new Date(1e3*e.realStartTime)).format("HH:mm")),-1===e.state&&(n=i()(new Date(1e3*e.realEndTime)).format("HH:mm")),t+(s+"—")+n},changeCourseState:function(e,t,s,n){var a=this;switch(e.state){case 1:var i=this.rooms.findIndex((function(t){return t.room.code===e.courseCode}));if(t.filter((function(e){return 1===e.state})).length>=2)return this.$message({type:"warning",message:"请先设置该直播间其他课程为已下课状态，再设置该课程"}),this.rooms[i].courses[n].state=0,!1;Object(p.onlineLiveCourse)({uuid:e.uuid}).then((function(e){e.success&&(a.$message({type:"success",message:"设置成功"}),a.initData())}));break;case-1:Object(p.offlineLiveCourse)({uuid:e.uuid}).then((function(e){e.success&&(a.$message({type:"success",message:"设置成功"}),a.initData())}))}},expandChange:function(e,t){var s=this;this.expandChange=[],t.forEach((function(e){s.expandChange.push(e.room.code)}))},refreshLink:function(e){var t=this;Object(p.getLivePushUrl)({uuid:e.uuid}).then((function(e){e.success&&t.initData()}))},copyLink:function(e){var t=this,s=e.livePushUrl,n=new r.a(".btnPushLink",{text:function(){return s}});n.on("success",(function(e){t.$message({type:"success",message:"复制成功"})})),n.on("error",(function(e){t.$message({type:"error",message:"复制失败"}),n.destroy()}))},publishComment:function(e){this.$refs.comment.show(e)},getComments:function(e){this.$refs.commentList.show(e)},editLiveCourse:function(e){this.$refs.editCourse.show(e)},handleSubscribe:function(e,t){this.$refs.subscribe.show(t)},onlinePerson:function(e){this.$refs.onlinePersons.show(e)},changeModuleOrder:function(e){var t=this;Object(p.sortLiveModule)({code:e.code,list_order:e.list_order}).then((function(e){e.success&&t.initData()}))},courseFiles:function(e){this.$refs.courseFiles.show(e)}})},b=(s("ed16"),s("4023")),w=Object(b.a)(g,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"live-container"},[s("div",{staticClass:"top-bar"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("添加直播间")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rooms.filter((function(t){return!e.search||t.room.module_name.toLowerCase().includes(e.search.toLowerCase())})),"row-key":e.getRowKey,"expand-row-keys":e.expandRowKeys},on:{"expand-change":e.expandChange}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"live-courses"},e._l(t.row.courses,(function(n,a){return s("el-row",{key:n.uuid,class:["course",{notStarted:0==t.row.courses[a].state,inClass:1==t.row.courses[a].state}],attrs:{gutter:5}},[s("el-col",{staticClass:"course-column",attrs:{span:2}},[e._v(e._s("第"+(a+1)+"课"))]),s("el-col",{staticClass:"course-column",attrs:{span:4}},[e._v(e._s(n.title))]),s("el-col",{staticClass:"course-column",attrs:{span:5}},[e._v(e._s(e.formatCourseDate(n)))]),s("el-col",{staticClass:"course-column",attrs:{span:1}},[e._v(e._s(" ("+n.online_number+") "))]),s("el-col",{staticClass:"course-column",attrs:{span:4}},[s("el-select",{attrs:{size:"small",disabled:-1==t.row.courses[a].state||e.isEditor,placeholder:"请选择..."},on:{change:function(s){return e.changeCourseState(n,t.row.courses,t.row,a)}},model:{value:t.row.courses[a].state,callback:function(s){e.$set(t.row.courses[a],"state",s)},expression:"props.row.courses[index].state"}},[s("el-option",{attrs:{label:"未开始",disabled:1==t.row.courses[a].state,value:0}}),s("el-option",{attrs:{label:"上课中",value:1}}),s("el-option",{attrs:{label:"已下课",disabled:0==t.row.courses[a].state,value:-1}})],1)],1),s("el-col",{staticClass:"course-column",attrs:{span:8}},[s("el-row",[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.publishComment(n)}}},[e._v("发表评论")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getComments(n)}}},[e._v("评论列表")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small",disabled:-1==t.row.courses[a].state},on:{click:function(t){return e.refreshLink(n)}}},[e._v("刷新推流")]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.livePushUrl,placement:"top"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small",disabled:""==n.livePushUrl||-1==t.row.courses[a].state},on:{click:function(t){return e.copyLink(n)}}},[e._v("复制推流")])],1),s("el-button",{staticClass:"btnPushLink",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.editLiveCourse(n)}}},[e._v("编辑")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.onlinePerson(n)}}},[e._v("在线统计")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],staticClass:"btnPushLink",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.courseFiles(n)}}},[e._v("课件")])],1)],1)],1)})),1)]}}])}),s("el-table-column",{attrs:{type:"index"}}),s("el-table-column",{attrs:{label:"排序号",width:"74"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:e.isEditor,max:"3",size:"small"},on:{change:function(s){return e.changeModuleOrder(t.row.room)}},model:{value:t.row.room.list_order,callback:function(s){e.$set(t.row.room,"list_order",e._n(s))},expression:"scope.row.room.list_order"}})]}}])}),s("el-table-column",{attrs:{width:"450",label:"直播间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"room-info"},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:t.row.room.cover_v2,expression:"scope.row.room.cover_v2"}],staticStyle:{width:"157px",height:"88px","border-radius":"5px"},attrs:{src:e.uploadfileDomain+t.row.room.cover_v2,lazy:"",fit:"cover"}}),s("div",{staticClass:"right"},[s("div",{staticClass:"title"},[e._v(" "+e._s(t.row.room.module_name)+" ")]),s("div",{staticClass:"date"},[e._v(" "+e._s(t.row.room.liveInfo.startDate+" 至 "+t.row.room.liveInfo.endDate+" 共 "+t.row.courses.length+" 课")+" ")]),t.row.room.liveInfo.dateNotice?s("div",{staticClass:"time"},[s("span",[e._v(e._s(t.row.room.liveInfo.dateNotice))])]):s("div",{staticClass:"time"},[s("span",[e._v("每周")]),e._l(t.row.room.liveInfo.weekDays,(function(n,a){return s("span",{key:n},[e._v(e._s(e.liveRate[n]+(a!=t.row.room.liveInfo.weekDays.length-1?"、":"")))])})),s("span",[e._v(e._s(" "+t.row.room.liveInfo.startTime.slice(0,5)+" - "+t.row.room.liveInfo.endTime.slice(0,5)))])],2)])],1)]}}])}),s("el-table-column",{attrs:{label:"进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.courses.filter((function(e){return-1==e.state})).length+"课/"+t.row.courses.length+"课")+" ")]}}])}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"N"===t.row.room.published?"primary":"success"}},[e._v(" "+e._s("N"===t.row.room.published?"未上架":"已上架")+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作",width:"280",fixed:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索","data-scope":t},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"success"},on:{click:function(s){return e.handleOnline(t.$index,t.row)}}},[e._v("上架")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"warning"},on:{click:function(s){return e.handleOffline(t.$index,t.row)}}},[e._v("下架")]),s("br"),s("br"),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.handleShare(t.$index,t.row)}}},[e._v("分享海报")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditor,expression:"!isEditor"}],attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.handleSubscribe(t.$index,t.row)}}},[e._v("订阅")])]}}])})],1),s("share",{ref:"share",on:{initData:e.initData}}),s("comment",{ref:"comment",on:{initData:e.initData}}),s("comment-list",{ref:"commentList"}),s("edit-course",{ref:"editCourse",on:{initData:e.initData}}),s("subscribe",{ref:"subscribe"}),s("online-persons",{ref:"onlinePersons"}),s("course-files",{ref:"courseFiles"})],1)}),[],!1,null,"d9f82a78",null);t.default=w.exports},"5d24":function(e,t,s){"use strict";s.r(t),s("e18c"),s("96db"),s("af86"),s("f1a9");var n={data:function(){return{isActive:-1,showChangVoice:!1,audioUrl:"",fileRaw:{}}},components:{EditorInComp:s("77d0").default},methods:{show:function(){this.showChangVoice=!0},close:function(){this.showChangVoice=!1,this.isActive=-1},fileAudio:function(e,t){this.audioUrl=URL.createObjectURL(e.raw),this.fileRaw=e},audioSuccess:function(e,t){this.audioUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("audio/mp3"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},playAudio:function(){var e=document.getElementById("audio");e.src=this.audioUrl,e.play()},changeBanner:function(e){this.isActive=e,1===e&&this.$refs.editorIn.showStepOne()}}},a=(s("ed23"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showChangVoice?s("div",{staticClass:"change-voice"},[s("div",{staticClass:"change-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"top-box"},[s("div",{staticClass:"play",on:{click:function(t){return e.playAudio()}}},[s("audio",{attrs:{id:"audio",src:e.audioUrl}}),s("i",{staticClass:"font_family icon-play"})]),s("div",{staticClass:"right"},[s("h1",[e._v("更换声音")]),s("div",{staticClass:"banner"},[s("a",{class:{active:1==e.isActive},attrs:{href:"javascript:;"},on:{click:function(t){return e.changeBanner(1)}}},[e._v("编辑器内查找")]),s("a",{class:{active:2==e.isActive},attrs:{href:"javascript:;"},on:{click:function(t){return e.changeBanner(2)}}},[s("el-upload",{attrs:{id:"audioUpload",action:"#",accept:"audio/mp3","on-change":e.fileAudio,"on-success":e.audioSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-text"}},[s("span",[e._v("+本地上传")])])])],1)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isActive,expression:"isActive == 1"}]},[s("editor-in-comp",{ref:"editorIn",on:{closeEditorModel:e.close}})],1)])]):e._e()])}),[],!1,null,"ab4c6b62",null);t.default=i.exports},"5d29":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAACx1BMVEVHcEyKioqJiYmJiYmKioqJiYmKioqKioqJiYmJiYmKioqKioqJiYmJiYmJiYmJiYmJiYmKioqKioqKioqKioqJiYmFhYWNjY2KioqJiYmJiYmJiYmKioqJiYmJiYmJiYmJiYmKioqKioqHh4eHh4eJiYmIiIiKioqLi4uKioqKioqJiYmJiYl/f3+JiYmKioqKioqJiYmHh4eKioqKioqKioqJiYmIiIiKioqJiYmJiYmKioqMjIyJiYmLi4uKioqIiIiKioqKiop/f3+JiYmJiYmJiYmKioqJiYl/f3+JiYmJiYmKioqJiYmKioqKioqJiYmKioqJiYmJiYmKioqJiYmKioqIiIiJiYmKioqKioqIiIiJiYmKioqMjIyKioqLi4uJiYmJiYmFhYWJiYmJiYmKioqKioqKioqJiYmKioqLi4uIiIiKioqKioqKioqKioqJiYmJiYmKioqIiIiJiYmKioqIiIiKioqKiopqamqKioqJiYmLi4uJiYmJiYmJiYmIiIiKioqRkZGKioqKioqJiYmJiYmMjIyJiYmKioqJiYmJiYmKioqJiYmLi4uKioqJiYmJiYmKioqHh4eKioqKioqOjo6KioqKioqIiIiJiYmLi4uJiYmKioqLi4uJiYmIiIiJiYmenp6KioqJiYmLi4uMjIyKioqMjIwAAACKioqLi4uKioqKioqKioqKioqKioqJiYmJiYmMjIyJiYmLi4uKioqQkJCHh4eJiYmKioqKioqJiYmIiIiKioqKioqKioqLi4uKioqLi4uIiIiJiYmLi4uKioqHh4eKioqKioqJiYmIiIiJiYmKioqJiYmKioqRkZH///+Li4uJiYmJiYmKioqMjIyKioqKioqLi4uPj4+KioqJiYmfn5+Hh4eJiYmOjo6Li4uKioqJiYmNjY2KioqJiYmKioqKioqIiIiKioqD/e7ZAAAA7HRSTlMAm/hM1sDz+9RmwjmsavXolLVgdr1dFQmQo1d8LuDcxLJPfyARQVIYQq/OnrcEJz5VmEAjG6ZbNtrti9kz6jBrD/FGDEnR/oUyBmh9Xk6Wq95pgqn+7/djSrltJIfdHUgqHiwSzFqZ6rKh7CFfoUNwjrtxcjyA5Yl4pAKR11inK8hFzAeKyW91PM90ZOTAem5LNObvIvXUItDjeXNjmoF5x2waBbqSCyiuNwGXhKjivmf6UI0U2TU7Fy/8sd/iR1PFkxaeQDp3YZ0xUXtYVA2q84gOAVTKpW0654yDEFzbCD6EGXe0jy3DYsfSZwAk+VsAAAmwSURBVBgZxcFlcxZmGgXgE0+IOyEKFCjBKU6Q4F7cgqc4BAvuXtzdobgUq7sbbepT9+52d8+P2A/bmS3wnpn7Ted5uC7cLaPFqDnF0U16tcffs3puvfDi5Pnv4wGJz+P/tI7H39C5gn+q3xQPQgT/b/F0VFYv/kWbS/BuNP8qOgeV04N3iWsAz3rxbk+1R2WsTeTd6q6FV2/xXv2fRiUk8V5TzsGnJrxPbiyCVsL71f8UHn3B+20tR7A+ZAAjHoI3DaIYQOKbCNK3DCQtA77sYkDTyhCcKQxoWx148gsD2zMWQXmNgeU3gycvMrDIMAQjncLJ8fDjUQpDqyMIOVTW74UX86lEvYIgpFEpLIEXEVQGV4PdV6FUDp6HD02ptYDdRkrRK+FDDWp9YFdBadlz8CGb2h+wW0GpVQ/4cIJaDOwWUxr9NHxIpRYPu6mUcmPhwxFqI2FXj9LWcvgwi9pc2IVQSmwEH0ZS2wi7JpQmPwwf4qkdhl0SpT2d4MN1atmwO0upuAt82EJtPux+p5QQBh/eofYz7NpQGnoTPvShthB2n1CKegU+tKDWBnbdKXVrDB+WU5sNu2+p3YEPjQdTeg12Nailw4faUZQuwy6bWgp8qB5KaRLsTlA7Ch/C9lF6A3ap1P4DH7pEUpoJuyPU4uFDpyGUmsNuFrWR8KFsGqWKz2A2ktos+PBmO0oXzsAsntpm+FC+m9ILmTC7Tu1t+PDWIUrJH8FsC7Xt8OFiLqUR38HsHWq94cOu0ZTSbsOsD7Xj8OG9VpS21YFZC2o/w4ecZZTym8FsObVR8GHcfkqrxsOscTdKbeBDw66U1jwCs9pRlGbDh5JNlDY1hFn1UEpL4cP0NZSiV8IsbB+lJPgwfhWlZTkw6xJJqQl8aJZPqVUPmHUaQikEPtSpQql/S5iVTaP0BnzIiKD00lswa9qOUhZ8KJ1DaXc5zB7fTelL+NBxBKV2tWAWe4jSVfjQOZlS69Uwa5lL6dEl8CBzCqXiLjAr6k+pbk940LMupYQwmLVvRakgEx4siaMUehNmE5ZRSv4IPlRQev5DmI3bT2nEd/ChObXlMGvYlVJaKXzIovY9zEo2UYp4HT7MpNYHZtPXUKpyGj68S+0ozMavonRyDHw4Ru06zJrlU1pfEz5cptYBZnWqUFpTAh+SqO2AWcaTlLo2hA9Lqc2DWekcStHj4MNsaqkw6ziCUvg/4EMbatthdi6ZUtv34MMn1HrD7McplPrvgg/dqR2H2Zm6lHIvwoeB1LrDbEkcpUPPwIca1BbCroJS4k/wIZvaN7BrTmlyLfhwmFpV2GVRal0GH1KpJcFuJqXisfBhHrUmsHuXUsJO+LCBWgjsjlEa2hc+dKBWD3aXKd2oDR8GUMuCXRKlwY3hQwy1FbA7S205fDhKLW4JzGZTawEfUqhd6AmzNtRmwId0agWZMFtI7Q/4MJFa/Y9gdoXaFvhQjdqch2B2nNoA+PBhN0ppGTDrTe0UfHg/ilJEHZh9QG0DfOgbSunVZjBbRG0efNiZQGl9TZhtpJYKH8YWU1pTArN51A7Dh9V7KB1sCLMN1LLhQ612lPbvhdkpajXgQ6OvKV2F3QBqw+HDMwsoxcMuhlLhWvgQ+xKVvAzYDaO0CF48/SKVXghCCpVl8KNHHoUsBCOdyiPw47mnGFgEgjKRQlN4MiGcAUUgONUYWFN4MiGcAUUgONUYWFP4kdOWgUUgKBMpNIUX7/1AIQTBSKdSEz4UjaaSgiCkUPk3fGiZSyUvA3bDKC2CBxevUYqHXQylwrVw75kFlK7CbgC14XDvp0RK+/fC7BS1+XDvzcmUup6H2QZqveFeWWtKhSUwm0dtO9xbPYTSYwdgtpHa23BvbCSl9TVhtojaZrg3PIHSyTEw+4DaXLgXNpTSP0/DrDe1HXCv+g1K256F2XFqp+Be7ecppd2G2RVqA+De54MpzSmF2ShqMXCvGrX6HWG2jtpRuHeHWnJnmN2ilgL3vqdWkAmzqtTS4d4ManV7wuw1ai3g3jvU4hrArB+15XBvC7WKSzA7RqlbY7gXQ20F7N6lFFUb7g2gthh2UymFVod7HahNhV0WpYQwuLeB2huwa07p4+Fwbxa1ENgNolT8Mtw7Qm0SzJbEUWpdBvc2U+sHszN1KU2uBfcWUUuC2Y8FlBIbwb3t1KrC7FwypQXlcK83tVsw+3QEpZdi4d58autgVjqH0ost4d5AagthlvEkpbwiuNedWneY1Ymg1LY93BtFbSDMmuVTCs+Bewup1YDZ+H9Ril4J976hlg2z6V9Q6noe7v1O7QTMSgopbSqBe0upvQ2zhgcprTkA95KobYbZuGhKq2rCvX7U5sJsQjilV8fAvUnUdsCsfVtK+afhXgi1DjAryqO07Vm4V49aL5i1zKWUdhvuzaQWA7PYQ5SeKIV7WdSGwezx3ZTqd4R7zamlwKxRO0q/dYZ7V6mlw+zhaZQKMuHcZ3HUJsJs9RBKdXvCuQYXqN2B2dhISnEN4NyZAkrdGsNs5z5Kgy7BucwCSlG1YdY3lFJzuNc5mVJodZi9H0UpC+59Wp/SvjCYfd6N0lS499ATlCKHw+wOtXpwrzSN0p6XYdaCWgjcez2CUusymPWh1gTu1alCqV0tmP1BrR/ca5ZPKbERzLZQOwv3xpyktLUcZtepVYV7NddTuhYLs3hqt+Degcco9W8Js5HU1sG9kkJKeUUwm0VtFNxr2JXSU+1hdoTaFbg3LppSeA7MUqkNhHsTwilFr4TZYWo14N5zbSkdPA+zbGrZcK/HD5QKS2BWg9oJuLdrNKU1B2A2kFoq3LuYS2lVTZh1p7YZ7sVeo/TqGJh9Qm0u3CtfQKnKaZi1obYD7jVKpBTxLMxmU+sA92pNppR2G2ZLqfWCe2WtKc0phVkStRi412kIpfodYXaZ2jC41yWS0m+dYRZCLQXu7Uyg9EImzOpRS4d7fYdSutATZlOpTYR7N29QimsAs8XU7sC9V56nNOgSzFZQGtwY7t0cTKk57Coo3agN916PppQFu42UhlaHB5MozYTdV6FUEsLgwQxK9RCENCqRw+HDCiohCEIRlSEvw4s8Ck0QjBgK08rgxS8U+iEokxhYu1rwowcDO4vgFDCgrxvBkwY3GEhVBOkDBrK1HN7kM4BbCFYYA7gWC3/68X7rELTpvF//lvCojPcZhUr4kvdqVQSvZvMeV1AZ54p5t7bt4Vlb3mUgKqcv7xKeA++m8P8WjERl3eFfDFqJB6DLY/zTsb2ovLXr+KfwPngwOs6oWuXjVoN+7YS/p9Ovg1p9XKXqjFL48l/Jdc27ECy8BwAAAABJRU5ErkJggg=="},"5d62":function(e,t,s){"use strict";var n=s("4bec");s.n(n).a},"5e1b":function(e,t,s){"use strict";var n=s("bc5d");s.n(n).a},"5e47":function(e,t,s){"use strict";var n=s("5154");s.n(n).a},"5ed0":function(e,t,s){"use strict";s.r(t),s("e18c"),s("96db"),s("af86"),s("f1a9");var n={data:function(){return{isShowAddLang:!1,lang:{langIndex:"",langCode:"",langZhName:"",langEnName:"",isHot:""},imageUrl:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg",fileRaw:{}}},created:function(){var e=this;this.$bus.on("addLangBox",(function(){e.isShowAddLang=!0}))},methods:{fileChange:function(e,t){this.imageUrl=URL.createObjectURL(e.raw),this.fileRaw=e},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){this.isShowAddLang=!1},cancel:function(){this.isShowAddLang=!1,this.fileRaw={},this.imageUrl="http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"}},beforeDestroy:function(){this.$bus.off("addLangBox")}},a=(s("b02d"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.isShowAddLang?s("div",{staticClass:"add-lang-container"},[s("div",{staticClass:"add-lang-content"},[s("div",{staticClass:"table-box"},[s("table",[s("tr",[s("th",[e._v("序号")]),s("th",[e._v("编码")]),s("th",[e._v("名称"),s("b",[e._v("(中文)")])]),s("th",[e._v("名称"),s("b",[e._v("(英文)")])]),s("th",[e._v("是否热门")]),s("th",[e._v("图标")])]),s("tr",[s("td",{staticClass:"langIndex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langIndex,expression:"lang.langIndex"}],attrs:{type:"text"},domProps:{value:e.lang.langIndex},on:{input:function(t){t.target.composing||e.$set(e.lang,"langIndex",t.target.value)}}})]),s("td",{staticClass:"langCode"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langCode,expression:"lang.langCode"}],attrs:{type:"text"},domProps:{value:e.lang.langCode},on:{input:function(t){t.target.composing||e.$set(e.lang,"langCode",t.target.value)}}})]),s("td",{staticClass:"langZhName"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langZhName,expression:"lang.langZhName"}],attrs:{type:"text"},domProps:{value:e.lang.langZhName},on:{input:function(t){t.target.composing||e.$set(e.lang,"langZhName",t.target.value)}}})]),s("td",{staticClass:"langEnName"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langEnName,expression:"lang.langEnName"}],attrs:{type:"text"},domProps:{value:e.lang.langEnName},on:{input:function(t){t.target.composing||e.$set(e.lang,"langEnName",t.target.value)}}})]),s("td",{staticClass:"isHot"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.isHot,expression:"lang.isHot"}],attrs:{type:"text"},domProps:{value:e.lang.isHot},on:{input:function(t){t.target.composing||e.$set(e.lang,"isHot",t.target.value)}}})]),s("td",{staticClass:"upload"},[s("el-upload",{attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChange,"on-success":e.handleAvatarSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)])])]),s("div",{staticClass:"bottom-content"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e.imageUrl,alt:""}}),s("span",[e._v("图标")])])]),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])]):e._e()])}),[],!1,null,"65390ebd",null);t.default=i.exports},"5f62":function(e,t,s){"use strict";var n=s("15b3");s.n(n).a},"5fbd":function(e,t,s){},6026:function(e,t,s){},6192:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e.sound,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("4104"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.correct,expression:"correct"}],staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.correct)}}}),s("span",[e._v(e._s(e.correct.sentence))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.options.length,expression:"options.length"}],staticClass:"options"},e._l(e.options,(function(t,n){return s("div",{key:n,staticClass:"option",on:{click:function(s){return e.play(t)}}},[s("el-image",{attrs:{lazy:"",src:e._f("urlFix")(e.assetsDomain+t.image,"imageView2/1/format/jpg"),fit:"cover"}})],1)})),0)])}),[],!1,null,"1185b6cc",null);t.default=r.exports},"635a":function(e,t,s){"use strict";var n=s("b0e7");s.n(n).a},"63c6":function(e,t,s){"use strict";s.r(t),s("053b");var n=s("0eaa"),a=s("ae8c"),i=s("cabd"),o=null,r={props:["folder","trackNum","name"],data:function(){return{isShow:!0,offline:this.folder.is_show,baseOffline:this.folder.is_show,title:this.name,timer:null}},watch:{name:function(e,t){this.title=e}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain},userInfo:function(e){return e.user.userInfo},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{folderFlagUrl:function(){var e="";return this.folder&&this.folder.flag&&this.folder.flag.length&&(e=this.assetsDomain+this.folder.flag[0]),e}}),methods:{clickFolder:function(){var e=this;clearTimeout(o),o=setTimeout((function(){e.$emit("clickFolder",{trackNum:e.trackNum,folder:e.folder})}),300)},dblclickFolder:function(){var e=this;clearTimeout(o),this.title=this.name,this.isShow=!1,setTimeout((function(){e.$refs.input.focus()}),100)},blurFolder:function(){var e=this,t={name:this.title,uuid:this.folder.uuid};Object(i.renameCatalog)(t).then((function(t){e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.isShow=!0}))},contentmenu:function(e){this.$emit("contentMenu",{event:e,folder:this.folder,trackNum:this.trackNum})},updateOffline:function(){var e=this,t=!this.folder.is_show;this.offline=t,this.baseOffline=t;var s={catalog_info:{cover:this.folder.cover,desc:this.folder.desc,flag:this.folder.flag,is_show:t,has_changed:!0,list_order:this.folder.list_order,name:this.title,tags:this.folder.tags,title:this.folder.title},uuid:this.folder.uuid};Object(i.editCatalog)(s).then((function(t){e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.isShow=!0}))}}},c=(s("1126"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["folder",{"cur-active":!e.isShow}],on:{mouseenter:function(t){e.offline=!1},mouseleave:function(t){e.offline=e.baseOffline},contextmenu:e.contentmenu,dblclick:e.dblclickFolder,click:e.clickFolder}},[s("div",{staticClass:"name"},[s("div",{staticClass:"icon"},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.folderFlagUrl,expression:"folderFlagUrl"}],attrs:{src:e.folderFlagUrl,fit:"cover"}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!e.folderFlagUrl&&"content"==e.folder.type,expression:"!folderFlagUrl && folder.type == 'content'"}],staticClass:"el-icon-document"})],1),s("div",{class:["title",{warning:e.folder.has_changed,"auth-state1":e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid}))&&1==e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid})).examin_state,"auth-state3":e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid}))&&3==e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid})).examin_state,"auth-state2":e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid}))&&2==e.folder.authorities.find((function(t){return t.user_uuid&&e.userInfo.uuid})).examin_state}]},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[e._v(e._s(e.title))]),s("input",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"},{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"input",attrs:{type:"text"},domProps:{value:e.title},on:{blur:e.blurFolder,input:function(t){t.target.composing||(e.title=t.target.value)}}})])]),s("div",{staticClass:"arror"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.folder.is_show,expression:"!folder.is_show"}],staticClass:"isShow"}),s("i",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"icon-offline",on:{click:e.updateOffline}}),s("i",{directives:[{name:"show",rawName:"v-show",value:"catalog"==e.folder.type,expression:"folder.type == 'catalog'"}],staticClass:"el-icon-caret-right"})])])}),[],!1,null,"236868ec",null);t.default=l.exports},"63ff":function(e,t,s){},"64c7":function(e,t,s){"use strict";var n=s("5b59");s.n(n).a},"66c6":function(e,t,s){e.exports=s.p+"img/icon-follow-read.ea9ec9cb.png"},"672a":function(e,t,s){},"672d":function(e,t,s){"use strict";s.r(t),s("4194"),s("fe59"),s("053b"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("ae8c"),r={data:function(){return{dialogVisible:!1,operateDesc:"",mold:"",reverseOL:[],operateLogs:[],newData:[],oldData:[]}},computed:Object(a.a)({},Object(o.e)({assetsDomian:function(e){return e.course.assetsDomain},contentTypes:function(e){return e.course.contentTypes},langInfos:function(e){return e.course.langInfos},courseOperateLogs:function(e){return e.course.courseOperateLogs}})),methods:{show:function(e){var t=this;this.mold=e.mold;var s=this.formatMold(e);s&&(this.operateDesc=" ("+s+")"),this.operateLogs=[];var n={parent_uuid:e.parent_uuid,user_id:e.user_id,uuid:e.uuid,pattern:e.pattern};Object(i.findOperateLogDetails)(n).then((function(e){e.data.operate_log.forEach((function(e){})),t.reverseOL=e.data.operate_log,t.newData=JSON.parse(t.reverseOL[0].content),t.newData&&(t.newData.sign="更新后"),t.operateLogs.push(t.newData),2===e.data.operate_log.length&&(t.oldData=JSON.parse(t.reverseOL[1].content),t.oldData&&(t.oldData.sign="更新前"),t.operateLogs.push(t.oldData))})),this.dialogVisible=!0},typeDesc:function(e){var t=e.type,s="",n=this.contentTypes.find((function(e){return e.type===t}));return n&&(s=n.name,e.has_del&&(s+=" (已删除)")),s},formatMold:function(e){var t="",s=this.courseOperateLogs.find((function(t){return t.key===e.mold}));return s&&(t=s.name),t},formatterIndex:function(e,t,s,n){var a="更新后";return 1===n&&(a="更新前"),a},rollback:function(){var e=this,t=this.reverseOL[1];this.$confirm("确认要回滚吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(i.rollbackOperateLog)({uuid:t.uuid});case 2:s.sent.success&&e.$message({type:"success",message:"回滚成功"});case 4:case"end":return s.stop()}}),s)})))).catch((function(){e.$message({type:"info",message:"已取消回滚"})}))}}},c=(s("a475"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"详情"+e.operateDesc,visible:e.dialogVisible,width:"85%"},on:{"update:visible":function(t){e.dialogVisible=t}}},["11"==e.mold||"12"==e.mold||"13"==e.mold?s("div",{staticClass:"content"},[s("div",{staticClass:"data"},[s("div",{staticClass:"title"},[e._v("更新后")]),e.newData&&e.newData.length>0?s("div",{staticClass:"list"},e._l(e.newData,(function(t){return s("el-card",{key:"new"+t.uuid,staticClass:"form",attrs:{"body-style":{padding:"10px"}}},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"type"},[e._v(" "+e._s(e.typeDesc(t))+" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.sound,expression:"form.sound"}],on:{click:function(s){return e.playAudio(t.sound)}}})]),s("div",{staticClass:"form-img"},[t.image?s("el-image",{attrs:{src:e._f("urlFix")(e.assetsDomian+t.image,"imageView2/1/format/jpg"),fit:"cover"}}):e._e()],1),s("div",{staticClass:"text"},[e._v(" "+e._s(t.sentence)+" ")])])])})),1):s("div",{staticClass:"list"},[e._v(" 无 ")])]),s("div",{staticClass:"data"},[s("div",{staticClass:"title"},[e._v("更新前")]),e.oldData&&e.oldData.length>0?s("div",{staticClass:"list"},e._l(e.oldData,(function(t){return s("el-card",{key:"old"+t.uuid,staticClass:"form",attrs:{"body-style":{padding:"10px"}}},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"type"},[e._v(" "+e._s(e.typeDesc(t))+" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.sound,expression:"form.sound"}],on:{click:function(s){return e.playAudio(t.sound)}}})]),s("div",{staticClass:"form-img"},[t.image?s("el-image",{attrs:{src:e._f("urlFix")(e.assetsDomian+t.image,"imageView2/1/format/jpg"),fit:"cover"}}):e._e()],1),s("div",{staticClass:"text"},[e._v(" "+e._s(t.sentence)+" ")])])])})),1):s("div",{staticClass:"list"},[e._v(" 无 ")])])]):s("div",{staticClass:"catalog"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.operateLogs,border:""}},[s("el-table-column",{attrs:{width:"80px",prop:"sign"}}),s("el-table-column",{attrs:{label:"分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:"content"==t.row.type?"el-icon-document":"el-icon-folder"}),t.row.has_del?s("span",[e._v(e._s(" (已删除)"))]):e._e()]}}])}),s("el-table-column",{attrs:{prop:"name",label:"目录名"}}),s("el-table-column",{attrs:{prop:"list_order",label:"目录序号"}}),s("el-table-column",{attrs:{width:"150px",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[t.row.title&&t.row.title[""+n.langKey]?s("span",{domProps:{textContent:e._s(n.name+": "+t.row.title[""+n.langKey])}}):e._e()])}))}}])}),s("el-table-column",{attrs:{width:"200px",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[t.row.desc&&t.row.desc[""+n.langKey]?s("span",{domProps:{textContent:e._s(n.name+": "+t.row.desc[""+n.langKey])}}):e._e()])}))}}])}),s("el-table-column",{attrs:{label:"小图"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.flag,(function(t,n){return s("div",{key:"flag"+n},[t?s("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{lazy:!0,src:e.assetsDomian+t,fit:"cover"}}):e._e()],1)}))}}])}),s("el-table-column",{attrs:{width:"240px",label:"大图"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"cover-list"},e._l(t.row.cover,(function(t,n){return s("el-image",{key:"cover"+n,staticClass:"cover",staticStyle:{width:"100px",height:"50px"},attrs:{lazy:!0,src:e.assetsDomian+t,fit:"cover"}})})),1)]}}])})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")]),s("el-button",{attrs:{type:"primary"},on:{click:e.rollback}},[e._v("回滚")])],1)])}),[],!1,null,"026558ec",null);t.default=l.exports},"67b6":function(e,t,s){},"67d2":function(e,t,s){"use strict";var n=s("f7fc");s.n(n).a},6817:function(e,t,s){e.exports=s.p+"img/icon-checked.ed366c8f.svg"},"688c":function(e,t,s){"use strict";s.r(t),s("053b");var n=s("0eaa"),a=s("cabd"),i=s("ae8c"),o={data:function(){return{showEdit:!1,flag:"",form:{type:"",name:"",desc:"",list_order:0,model_key:"",model_keys:[]}}},computed:Object(n.a)({},Object(i.e)({modelList:function(e){return e.course.modelList}})),methods:{show:function(e){if(this.flag=e.flag,"edit"===e.flag){var t=e.data;this.form={type:t.type,name:t.name,desc:t.desc,model_key:t.model_key,model_keys:t.model_keys?t.model_keys:[],list_order:t.list_order}}this.showEdit=!0},close:function(){this.showEdit=!1,this.form.type="",this.form.name="",this.form.desc="",this.form.model_key="",this.form.model_keys=[],this.$refs.form.resetFields(),this.$emit("addContentType")},determine:function(){var e=this;this.$refs.form.validate((function(t){t&&("add"===e.flag?Object(a.addContentType)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"添加成功"}),e.close())})):Object(a.editContentType)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"修改成功"}),e.close())})))}))}}},r=(s("b382"),s("9b1b"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdit,expression:"showEdit"}],staticClass:"edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"key: ",prop:"type",rules:[{required:!0,message:"key不能为空",trigger:"blur"},{pattern:/^[1-9a-zA-Z_]{1,}$/,message:"只允许输入字母或下划线！"}]}},[s("el-input",{attrs:{disabled:"edit"==e.flag,maxlength:"30","show-word-limit":""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),s("el-form-item",{attrs:{label:"名称: ",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"blur"}}},[s("el-input",{attrs:{maxlength:"25","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"文件类型: "}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.model_key,callback:function(t){e.$set(e.form,"model_key",t)},expression:"form.model_key"}},e._l(e.modelList,(function(e){return s("el-option",{key:e.model_key,attrs:{label:e.name,value:e.model_key}})})),1)],1),s("el-form-item",{attrs:{label:"文件类型: ",prop:"model_keys",rules:{required:!0,message:"请选择文件类型",trigger:"blur"}}},[s("el-checkbox-group",{model:{value:e.form.model_keys,callback:function(t){e.$set(e.form,"model_keys",t)},expression:"form.model_keys"}},e._l(e.modelList,(function(t){return s("el-checkbox",{key:t.model_key,attrs:{label:t.model_key}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{attrs:{label:"描述: ",prop:"desc",rules:{required:!0,message:"描述不能为空",trigger:"blur"}}},[s("el-input",{attrs:{type:"textarea",rows:"4",maxlength:"350","show-word-limit":""},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:function(t){return e.determine()}}},[e._v("确定")])],1)],1)])])])}),[],!1,null,"8a9b3484",null);t.default=c.exports},"693a":function(e,t,s){"use strict";var n=s("2686");s.n(n).a},6963:function(e,t,s){"use strict";s.r(t);var n=(s("2516"),s("4023")),a=Object(n.a)({data:function(){return{dbEnv:"test",params:{},dialogVisible:!1}},methods:{show:function(e){e&&(this.params=e),this.dbEnv="test",this.dialogVisible=!0},confirm:function(){this.params.dbEnv=this.dbEnv,this.$emit("confirm",this.params),this.dialogVisible=!1}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"请确定要上线的环境",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-radio-group",{model:{value:e.dbEnv,callback:function(t){e.dbEnv=t},expression:"dbEnv"}},[s("el-radio",{attrs:{label:"test"}},[e._v("测试环境")]),s("el-radio",{attrs:{label:"online"}},[e._v("线上环境")])],1),s("el-tag",{attrs:{type:"warning"}},[e._v("注：测试环境地址选择这两个无效，都上线的是测试，仅线上环境做区分。")]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)}),[],!1,null,"20b03eac",null);t.default=a.exports},"69bc":function(e,t,s){"use strict";var n=s("ce28");s.n(n).a},"69c0":function(e,t,s){"use strict";s.r(t),s("e35a"),s("0d7a");var n=(s("3d3b"),s("4023")),a=Object(n.a)({data:function(){return{lists:[{letter:"热",courses:[{code:"ENG-Basic",flag:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4",name:"英语"},{code:"KOR-Basic",flag:"http://course-assets.talkmate.com/course/icons/KOR-3x.webp?v=4",name:"韩语"},{code:"JPN-Basic",flag:"http://course-assets.talkmate.com/course/icons/JPN-3x.webp?v=4",name:"日语"},{code:"FRE-Basic",flag:"http://course-assets.talkmate.com/course/icons/FRE-3x.webp?v=4",name:"法语"},{code:"SPA-Basic",flag:"http://course-assets.talkmate.com/course/icons/SPA-3x.webp?v=4",name:"西班牙语"},{code:"CAN-Basic",flag:"http://course-assets.talkmate.com/course/icons/CAN-3x.webp?v=4",name:"粤语"},{code:"GER-Basic",flag:"http://course-assets.talkmate.com/course/icons/GER-3x.webp?v=4",name:"德语"},{code:"CHI-Basic",flag:"http://course-assets.talkmate.com/course/icons/CHI-3x.webp?v=4",name:"汉语"},{code:"RUS-Basic",flag:"http://course-assets.talkmate.com/course/icons/RUS-3x.webp?v=4",name:"俄语"},{code:"ARA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ARA-3x.webp?v=4",name:"阿拉伯语"},{code:"THA-Basic",flag:"http://course-assets.talkmate.com/course/icons/THA-3x.webp?v=4",name:"泰国语"},{code:"FIN-Basic",flag:"http://course-assets.talkmate.com/course/icons/FIN-3x.webp?v=4",name:"芬兰语"},{code:"ITA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ITA-3x.webp?v=4",name:"意大利语"},{code:"ESP-Basic",flag:"http://course-assets.talkmate.com/course/icons/ESP-3x.webp?v=4",name:"世界语"}]},{letter:"A",courses:[{code:"ENG-Basic",flag:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4",name:"英语"},{code:"KOR-Basic",flag:"http://course-assets.talkmate.com/course/icons/KOR-3x.webp?v=4",name:"韩语"},{code:"JPN-Basic",flag:"http://course-assets.talkmate.com/course/icons/JPN-3x.webp?v=4",name:"日语"},{code:"FRE-Basic",flag:"http://course-assets.talkmate.com/course/icons/FRE-3x.webp?v=4",name:"法语"},{code:"SPA-Basic",flag:"http://course-assets.talkmate.com/course/icons/SPA-3x.webp?v=4",name:"西班牙语"},{code:"CAN-Basic",flag:"http://course-assets.talkmate.com/course/icons/CAN-3x.webp?v=4",name:"粤语"},{code:"GER-Basic",flag:"http://course-assets.talkmate.com/course/icons/GER-3x.webp?v=4",name:"德语"},{code:"CHI-Basic",flag:"http://course-assets.talkmate.com/course/icons/CHI-3x.webp?v=4",name:"汉语"},{code:"RUS-Basic",flag:"http://course-assets.talkmate.com/course/icons/RUS-3x.webp?v=4",name:"俄语"},{code:"ARA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ARA-3x.webp?v=4",name:"阿拉伯语"},{code:"THA-Basic",flag:"http://course-assets.talkmate.com/course/icons/THA-3x.webp?v=4",name:"泰国语"},{code:"FIN-Basic",flag:"http://course-assets.talkmate.com/course/icons/FIN-3x.webp?v=4",name:"芬兰语"},{code:"ITA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ITA-3x.webp?v=4",name:"意大利语"},{code:"ESP-Basic",flag:"http://course-assets.talkmate.com/course/icons/ESP-3x.webp?v=4",name:"世界语"}]},{letter:"B",courses:[{code:"ENG-Basic",flag:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4",name:"英语"},{code:"KOR-Basic",flag:"http://course-assets.talkmate.com/course/icons/KOR-3x.webp?v=4",name:"韩语"},{code:"JPN-Basic",flag:"http://course-assets.talkmate.com/course/icons/JPN-3x.webp?v=4",name:"日语"},{code:"FRE-Basic",flag:"http://course-assets.talkmate.com/course/icons/FRE-3x.webp?v=4",name:"法语"},{code:"SPA-Basic",flag:"http://course-assets.talkmate.com/course/icons/SPA-3x.webp?v=4",name:"西班牙语"},{code:"CAN-Basic",flag:"http://course-assets.talkmate.com/course/icons/CAN-3x.webp?v=4",name:"粤语"},{code:"GER-Basic",flag:"http://course-assets.talkmate.com/course/icons/GER-3x.webp?v=4",name:"德语"},{code:"CHI-Basic",flag:"http://course-assets.talkmate.com/course/icons/CHI-3x.webp?v=4",name:"汉语"},{code:"RUS-Basic",flag:"http://course-assets.talkmate.com/course/icons/RUS-3x.webp?v=4",name:"俄语"},{code:"ARA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ARA-3x.webp?v=4",name:"阿拉伯语"},{code:"THA-Basic",flag:"http://course-assets.talkmate.com/course/icons/THA-3x.webp?v=4",name:"泰国语"},{code:"FIN-Basic",flag:"http://course-assets.talkmate.com/course/icons/FIN-3x.webp?v=4",name:"芬兰语"},{code:"ITA-Basic",flag:"http://course-assets.talkmate.com/course/icons/ITA-3x.webp?v=4",name:"意大利语"},{code:"ESP-Basic",flag:"http://course-assets.talkmate.com/course/icons/ESP-3x.webp?v=4",name:"世界语"}]}]}},components:{},methods:{qnUrl:function(e){return e.split("?")[0]+"?imageView2/2/w/120/h/120/format/jpg/q/100!/interlace/1"}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"langs-head"},[s("h1",[e._v("选择课程语种 "),s("router-link",{attrs:{to:{path:"/lang/lang-setting"},href:"javascript:;"}},[e._v("设置")])],1),e._m(0)]),s("div",{staticClass:"langs-lists",attrs:{id:"langs-lists"}},e._l(e.lists,(function(t,n){return s("div",{key:"lang-"+n,staticClass:"langs-classify"},[s("h2",{attrs:{id:"letter-"+t.letter}},[e._v(e._s(t.letter))]),s("div",{staticClass:"classify-lists"},e._l(t.courses,(function(t){return s("div",{key:t.name+"-"+t.code,staticClass:"classify-item"},[s("a",{attrs:{href:"javascript:;"}},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e.qnUrl(t.flag),alt:""}})]),s("p",[e._v(e._s(t.name))])])])})),0)])})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"lang-search"},[t("input",{attrs:{type:"text",placeholder:"输入内容关键字"}}),t("a",{attrs:{href:"javascript:;"}},[this._v("搜索")])])}],!1,null,"68fe6f0a",null);t.default=a.exports},"69db":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain},selfSigns:function(e){return e.course.selfSigns},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s?this.formIndex+1+". "+t.name:this.formIndex+1},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(){this.form.sound&&(this.myAudio.src=this.assetsDomain+this.form.sound,this.myAudio.play())},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("b674"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.form.self_sign,expression:"form.self_sign"}],attrs:{size:"small",effect:"dark",type:e.tagType}},[e._v(e._s(e.typeName))]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.form.self_sign,expression:"!form.self_sign"}]},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form-img"},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.imgUrl,expression:"imgUrl"}],attrs:{src:e._f("urlFix")(e.imgUrl,"imageView2/1/format/jpg"),fit:"cover"},on:{click:e.play}})],1),"pictureSentence"==e.form.type?s("div",{class:["text",e.form.type]},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.options.length,expression:"form.options.length"}],staticClass:"options"},e._l(e.form.options,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)]):s("div",{staticClass:"text"},[s("span",{domProps:{textContent:e._s("fillGap"==e.form.type&&e.form.options?e.form.sentence.replace(e.form.options[0],"______"):e.form.sentence)}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.form.sound,expression:"form.sound"}],on:{click:e.play}})])])}),[],!1,null,"037a1f1b",null);t.default=r.exports},"6a45":function(e,t,s){var n={"./af":"85b3","./af.js":"85b3","./ar":"4a53","./ar-dz":"29ef","./ar-dz.js":"29ef","./ar-kw":"5245","./ar-kw.js":"5245","./ar-ly":"c4eb","./ar-ly.js":"c4eb","./ar-ma":"6810","./ar-ma.js":"6810","./ar-sa":"3f2e","./ar-sa.js":"3f2e","./ar-tn":"1c8b7","./ar-tn.js":"1c8b7","./ar.js":"4a53","./az":"93f9","./az.js":"93f9","./be":"56ba","./be.js":"56ba","./bg":"5d18","./bg.js":"5d18","./bm":"3593","./bm.js":"3593","./bn":"39eb","./bn.js":"39eb","./bo":"df03","./bo.js":"df03","./br":"1b7a","./br.js":"1b7a","./bs":"9346","./bs.js":"9346","./ca":"e311","./ca.js":"e311","./cs":"159e","./cs.js":"159e","./cv":"bb10","./cv.js":"bb10","./cy":"3343","./cy.js":"3343","./da":"576e","./da.js":"576e","./de":"486a","./de-at":"3320","./de-at.js":"3320","./de-ch":"b0df","./de-ch.js":"b0df","./de.js":"486a","./dv":"93b9","./dv.js":"93b9","./el":"1c79","./el.js":"1c79","./en-au":"a781","./en-au.js":"a781","./en-ca":"71e8","./en-ca.js":"71e8","./en-gb":"6339","./en-gb.js":"6339","./en-ie":"e424","./en-ie.js":"e424","./en-il":"0bdf","./en-il.js":"0bdf","./en-in":"2880","./en-in.js":"2880","./en-nz":"c2cc","./en-nz.js":"c2cc","./en-sg":"9af2","./en-sg.js":"9af2","./eo":"2b43","./eo.js":"2b43","./es":"3938","./es-do":"a31f","./es-do.js":"a31f","./es-us":"8adc","./es-us.js":"8adc","./es.js":"3938","./et":"0661","./et.js":"0661","./eu":"7a06","./eu.js":"7a06","./fa":"19df","./fa.js":"19df","./fi":"1450","./fi.js":"1450","./fil":"4d32","./fil.js":"4d32","./fo":"021d","./fo.js":"021d","./fr":"e625","./fr-ca":"404f","./fr-ca.js":"404f","./fr-ch":"08b7","./fr-ch.js":"08b7","./fr.js":"e625","./fy":"4bd8","./fy.js":"4bd8","./ga":"5b5d0","./ga.js":"5b5d0","./gd":"3ca3","./gd.js":"3ca3","./gl":"c707","./gl.js":"c707","./gom-deva":"e5b6","./gom-deva.js":"e5b6","./gom-latn":"972b","./gom-latn.js":"972b","./gu":"7c2c","./gu.js":"7c2c","./he":"2215","./he.js":"2215","./hi":"c522","./hi.js":"c522","./hr":"4422","./hr.js":"4422","./hu":"2c97","./hu.js":"2c97","./hy-am":"a2ce","./hy-am.js":"a2ce","./id":"1991","./id.js":"1991","./is":"0195","./is.js":"0195","./it":"cdd2","./it-ch":"3726","./it-ch.js":"3726","./it.js":"cdd2","./ja":"bf43","./ja.js":"bf43","./jv":"b950","./jv.js":"b950","./ka":"9296","./ka.js":"9296","./kk":"c9c9","./kk.js":"c9c9","./km":"012d","./km.js":"012d","./kn":"d792","./kn.js":"d792","./ko":"7bf3","./ko.js":"7bf3","./ku":"c51f","./ku.js":"c51f","./ky":"4d6d","./ky.js":"4d6d","./lb":"ed21","./lb.js":"ed21","./lo":"a378","./lo.js":"a378","./lt":"a520","./lt.js":"a520","./lv":"8570","./lv.js":"8570","./me":"bf95","./me.js":"bf95","./mi":"fdc8","./mi.js":"fdc8","./mk":"a5ab","./mk.js":"a5ab","./ml":"d732","./ml.js":"d732","./mn":"4724","./mn.js":"4724","./mr":"ba33","./mr.js":"ba33","./ms":"3daf","./ms-my":"c67b","./ms-my.js":"c67b","./ms.js":"3daf","./mt":"683a","./mt.js":"683a","./my":"1966","./my.js":"1966","./nb":"efc5","./nb.js":"efc5","./ne":"19a7","./ne.js":"19a7","./nl":"9d26","./nl-be":"edd0","./nl-be.js":"edd0","./nl.js":"9d26","./nn":"97f6","./nn.js":"97f6","./oc-lnc":"6e30","./oc-lnc.js":"6e30","./pa-in":"7118","./pa-in.js":"7118","./pl":"95f0","./pl.js":"95f0","./pt":"8283","./pt-br":"903b","./pt-br.js":"903b","./pt.js":"8283","./ro":"450f","./ro.js":"450f","./ru":"8b94","./ru.js":"8b94","./sd":"fce8","./sd.js":"fce8","./se":"bb6a","./se.js":"bb6a","./si":"3b14","./si.js":"3b14","./sk":"1a7e","./sk.js":"1a7e","./sl":"a0cf","./sl.js":"a0cf","./sq":"c2ec","./sq.js":"c2ec","./sr":"9115","./sr-cyrl":"9c9d","./sr-cyrl.js":"9c9d","./sr.js":"9115","./ss":"f51a","./ss.js":"f51a","./sv":"862e","./sv.js":"862e","./sw":"da25","./sw.js":"da25","./ta":"77ea","./ta.js":"77ea","./te":"9ad4","./te.js":"9ad4","./tet":"f5c5","./tet.js":"f5c5","./tg":"1b39","./tg.js":"1b39","./th":"b38f","./th.js":"b38f","./tl-ph":"106d","./tl-ph.js":"106d","./tlh":"60d3","./tlh.js":"60d3","./tr":"a05a","./tr.js":"a05a","./tzl":"0f1a","./tzl.js":"0f1a","./tzm":"c862","./tzm-latn":"7fc3","./tzm-latn.js":"7fc3","./tzm.js":"c862","./ug-cn":"1b2f","./ug-cn.js":"1b2f","./uk":"2236","./uk.js":"2236","./ur":"1b7d","./ur.js":"1b7d","./uz":"9937","./uz-latn":"43fd","./uz-latn.js":"43fd","./uz.js":"9937","./vi":"608c","./vi.js":"608c","./x-pseudo":"0d00","./x-pseudo.js":"0d00","./yo":"4bb7","./yo.js":"4bb7","./zh-cn":"3268","./zh-cn.js":"3268","./zh-hk":"ab00","./zh-hk.js":"ab00","./zh-mo":"8043","./zh-mo.js":"8043","./zh-tw":"e689","./zh-tw.js":"e689"};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="6a45"},"6aa6":function(e,t,s){},"6ace":function(e,t,s){},"6c41":function(e,t,s){},"6cb5":function(e,t,s){"use strict";s.r(t),s.d(t,"casbinPUpdata",(function(){return a})),s.d(t,"getPolicyPathByAuthorityId",(function(){return i}));var n=s("b775"),a=function(e){return Object(n.default)({url:"/casbin/casbinPUpdata",method:"post",data:e})},i=function(e){return Object(n.default)({url:"/casbin/getPolicyPathByAuthorityId",method:"post",data:e})}},"6d0d":function(e,t,s){},"6d75":function(e,t,s){"use strict";s.r(t);var n=(s("85c8"),s("4023")),a=Object(n.a)({data:function(){return{isSavePwd:!1,addNameCls:!1,addPwdCls:!1,registerForm:{username:"",password:""}}},methods:{goLogin:function(){this.$emit("haveGoLogin")},register:function(){},onFocusName:function(){this.addNameCls=!0},onFocusPwd:function(){this.addPwdCls=!0},blurTextFn:function(){""!==this.registerForm.username?this.addNameCls=!0:this.addNameCls=!1,""!==this.registerForm.password?this.addPwdCls=!0:this.addPwdCls=!1}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-main",{staticClass:"login-box"},[s("h1",[e._v("注册")]),s("form",[s("div",{staticClass:"form-group text-group",class:{active:1==e.addNameCls},attrs:{id:"text-icon"}},[s("i",{staticClass:"font_family icon-accout"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.username,expression:"registerForm.username"}],attrs:{type:"text",id:"username",placeholder:"请输入邮箱"},domProps:{value:e.registerForm.username},on:{focus:function(t){return e.onFocusName()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.registerForm,"username",t.target.value)}}})]),s("div",{staticClass:"form-group password-group",class:{active:1==e.addPwdCls},attrs:{id:"pwd-icon"}},[s("i",{staticClass:"font_family icon-password"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.password,expression:"registerForm.password"}],attrs:{type:"password",id:"password",placeholder:"请输入密码"},domProps:{value:e.registerForm.password},on:{focus:function(t){return e.onFocusPwd()},blur:function(t){return t.preventDefault(),e.blurTextFn()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register()},input:function(t){t.target.composing||e.$set(e.registerForm,"password",t.target.value)}}})]),s("div",{staticClass:"btn_login"},[s("button",{staticClass:"login-btn-panel",attrs:{type:"button"},on:{click:function(t){return e.register()}}},[e._v("立即注册")]),s("i",{staticClass:"box-shadow"})])]),s("a",{staticClass:"go-login",attrs:{href:"javascript:;"},on:{click:function(t){return e.goLogin()}}},[s("span",[e._v("已有账号，去登录")])])])}),[],!1,null,"979bc390",null);t.default=a.exports},"6dee":function(e,t,s){"use strict";var n=s("455b");s.n(n).a},"6dfd":function(e,t,s){},"6ea4":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("4194"),s("fe59"),s("6ae3"),s("ea69"),s("053b"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("bdc9"),l=s.n(c),u=s("cabd"),d=s("0470"),f={data:function(){return{flag:"add",dialogVisible:!1,selLang:"",toLang:"",uploadIndex:"",token:"",dialogImageUrl:"",dialogImageVisible:!1,disabled:!1,ruleForm:{uuid:"",courseInfos:null,images:[],source:"",mold:0,sentence:"",soundInfos:[],contentTr:[],parent:"",tags:[]},rules:{sentence:[{required:!0,message:"请输入句子",trigger:"blur"}]}}},computed:Object(a.a)({},Object(i.e)({partOfSpeech:function(e){return e.course.partOfSpeech},assetsDomain:function(e){return e.course.assetsDomain},dictTags:function(e){return e.course.dictTags}})),methods:{show:function(e){var t=this;Object(u.getInfoToken)().then((function(e){t.token=e.data.token})),this.flag=e.type,this.selLang=e.fromLang,this.toLang=e.toLang,this.ruleForm.uuid="",this.ruleForm.courseInfos=null,this.ruleForm.contentTr="",this.ruleForm.parent="",this.ruleForm.mold=0,this.ruleForm.source="",this.ruleForm.sentence="",this.ruleForm.tags=[],this.ruleForm.soundInfos=[{sound:"",gender:""}],this.ruleForm.images=[],"edit"===this.flag&&(this.ruleForm.uuid=e.form.uuid,this.ruleForm.mold=e.form.mold,this.ruleForm.source=e.form.source,this.ruleForm.courseInfos=e.form.courseInfos,this.ruleForm.sentence=e.form.sentence,this.ruleForm.sentenceTr=e.form.sentenceTr,e.form.sentenceTr&&(e.form.sentenceTr.tags&&e.form.sentenceTr.tags.forEach((function(e){t.ruleForm.tags.push(e.key)})),this.ruleForm.contentTr=e.form.sentenceTr.contentTr,this.ruleForm.parent=e.form.sentenceTr.parent),e.form.soundInfos&&(this.ruleForm.soundInfos=e.form.soundInfos),e.form.image&&e.form.image.length>0&&e.form.image.forEach((function(e){t.ruleForm.images.push({name:e,url:t.assetsDomain+e})}))),this.dialogVisible=!0},plusSoundInfo:function(){this.ruleForm.soundInfos.push({ct:"",ps:"",sound:"",gender:""})},minusSoundInfo:function(e){1===this.ruleForm.soundInfos.length?this.ruleForm.soundInfos=[{sound:"",gender:""}]:this.ruleForm.soundInfos.splice(e,1)},handleRemove:function(e){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogImageVisible=!0},handleDownload:function(e){},upload:function(e,t,s){this.uploadIndex=e+","+t+","+s},uploadOnchange:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,c,u,f,m,h,p,v;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=t.uploadIndex.split(","),a=n[0],i=n[1],o=n[2],c=r()(new Date).format("YYYY/MM/DD"),u=parseInt((new Date).getTime()/1e3),f=e.name.lastIndexOf("."),m=e.name.substring(f+1),h=e.name.substring(0,f),p="","audio"!==a){s.next=17;break}if(t.ruleForm.soundInfos[o].gender){s.next=14;break}return t.$message({type:"waring",message:"请选择男女声"}),s.abrupt("return");case 14:p="dict/".concat(t.selLang.toLowerCase(),"/sentence/").concat(t.ruleForm.soundInfos[o].gender,"/").concat(l()(u),".").concat(m),s.next=18;break;case 17:"image"===a?(p="dict/images/"+c+"/"+e.uid+"."+m,t.saveImages([p],[h])):"video"===a&&(p="dict/videos/"+c+"/"+e.uid+"."+m);case 18:return s.next=21,Object(d.uploadQiniu)(e.raw,t.token,p);case 21:v=s.sent,"soundInfos"===i&&t.$set(t.ruleForm.soundInfos[o],"sound",v.key);case 24:case"end":return s.stop()}}),s)})))()},playAudio:function(e){if(e){var t=new Audio;t.src=this.assetsDomain+e,t.oncanplay=function(){t.play()}}},onChangeImage:function(e,t){this.ruleForm.images=t},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(s){var n,a,i,o,c,l,f,m,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=25;break}n=[],t.ruleForm.tags.forEach((function(e){var s=t.dictTags.find((function(t){return t.key===e}));n.push(s)})),a=[],i=0;case 5:if(!(i<t.ruleForm.images.length)){e.next=22;break}if(!(o=t.ruleForm.images[i]).raw){e.next=18;break}return c=r()(new Date).format("YYYY/MM/DD"),l=o.name.lastIndexOf("."),f=o.name.substring(l+1),m="dict/images/"+c+"/"+o.uid+"."+f,e.next=14,Object(d.uploadQiniu)(o.raw,t.token,m);case 14:h=e.sent,a.push(h.key),e.next=19;break;case 18:a.push(o.url);case 19:i++,e.next=5;break;case 22:"edit"===t.flag&&(p={courseInfos:t.ruleForm.courseInfos,from:t.selLang,image:a,mold:t.ruleForm.mold,sentence:t.ruleForm.sentence,sentenceTr:{contentTr:t.ruleForm.contentTr,from:t.selLang,parent:t.ruleForm.parent,tags:n,to:t.toLang},soundInfos:t.ruleForm.soundInfos,source:t.ruleForm.source,to:t.toLang,uuid:t.ruleForm.uuid},Object(u.updateDictSentence)(p).then((function(e){e.success&&(t.$message({type:"success",message:"更新成功"}),t.dialogVisible=!1)}))),e.next=27;break;case 25:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}}},m=(s("ff7c"),s("ee1b"),s("4023")),h=Object(m.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"",visible:e.dialogVisible,center:"center",width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"句子：",prop:"sentence"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.sentence,callback:function(t){e.$set(e.ruleForm,"sentence",t)},expression:"ruleForm.sentence"}})],1),s("el-form-item",{attrs:{label:"翻译："}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.contentTr,callback:function(t){e.$set(e.ruleForm,"contentTr",t)},expression:"ruleForm.contentTr"}})],1),s("el-form-item",{attrs:{label:"声音："}},[s("div",{staticClass:"soundInfos"},e._l(e.ruleForm.soundInfos,(function(t,n){return s("div",{key:"si"+n,staticClass:"sound-info-item"},[s("div",{staticClass:"left"},[s("div",{staticClass:"row"},[s("el-select",{attrs:{size:"small",placeholder:"请选择男女声"},model:{value:e.ruleForm.soundInfos[n].gender,callback:function(t){e.$set(e.ruleForm.soundInfos[n],"gender",t)},expression:"ruleForm.soundInfos[index]['gender']"}},[s("el-option",{attrs:{label:"男",value:"male"}}),s("el-option",{attrs:{label:"女",value:"female"}})],1)],1),s("div",{staticClass:"row"},[s("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"请上传声音"},model:{value:e.ruleForm.soundInfos[n].sound,callback:function(t){e.$set(e.ruleForm.soundInfos[n],"sound",t)},expression:"ruleForm.soundInfos[index]['sound']"}},[s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"audio/mp3","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:function(t){return e.upload("audio","soundInfos",n)}}})],1),s("el-button",{attrs:{slot:"append",icon:"el-icon-video-play"},on:{click:function(t){return e.playAudio(e.ruleForm.soundInfos[n].sound)}},slot:"append"})],1)],1)]),s("div",{staticClass:"right"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusSoundInfo(n)}}}),e.ruleForm.soundInfos.length==n+1?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.plusSoundInfo}}):e._e()],1)])})),0)]),s("el-form-item",{attrs:{label:"标签：",prop:"type"}},[s("el-checkbox-group",{model:{value:e.ruleForm.tags,callback:function(t){e.$set(e.ruleForm,"tags",t)},expression:"ruleForm.tags"}},e._l(e.dictTags,(function(t){return s("el-checkbox",{key:t.key,attrs:{label:t.key,name:"type"}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{attrs:{label:"配图："}},[s("el-upload",{attrs:{action:"#",accept:"image/webp","list-type":"picture-card","file-list":e.ruleForm.images,"on-change":e.onChangeImage,"auto-upload":!1}},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"}),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传webp文件")])]),s("el-dialog",{attrs:{visible:e.dialogImageVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)}),[],!1,null,"b0a5e5b8",null);t.default=h.exports},"6f70":function(e,t,s){"use strict";s.r(t),s("4194"),s("fe59"),s("9302"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i=s("014f"),o=s("cabd"),r={props:["langs"],data:function(){return{dialogVisible:!1,content:"",form:{user_id:"",photo:"",nickname:"",phonenumber:"",real_name:"",certificate_type:"1",identity_card:"",nationality:"",gender:"",birth_date:"",address:"",live_nickname:"",lan_code:"",introduction:"",certificate_front:"",certificate_back:""}}},computed:Object(n.a)({},Object(a.e)({uploadfileDomain:function(e){return e.course.uploadfileDomain}})),methods:{show:function(e){var t=this;this.dialogVisible=!0,this.content="",this.form.user_id=e.user_id,this.form.photo=e.photo,this.form.nickname=e.nickname,this.form.phonenumber=e.phonenumber,this.form.real_name=e.real_name,this.form.certificate_type=e.certificate_type?e.certificate_type:"1",this.form.identity_card=e.identity_card,this.form.nationality=e.nationality,this.form.gender=1===e.gender?"男":"女",this.form.birth_date=Object(i.getAge)(e.birth_date),this.form.address=e.address,this.form.live_nickname=e.live_nickname;var s=[];e.lan_code.length&&this.langs.length&&e.lan_code.forEach((function(e){var n=t.langs.find((function(t){return t.lan_code===e}));s.push(n.title["zh-CN"])})),this.form.lan_code=s.length?s.join("、"):"",this.form.introduction=e.introduction,this.form.certificate_front=e.certificate_front,this.form.certificate_back=e.certificate_back},handleApprove:function(e){var t=this;if(2===e&&!this.content)return this.$message({type:"warning",message:"请填写审核意见！"}),!1;Object(o.approveTeacher)({content:this.content,status:e,user_id:this.form.user_id}).then((function(e){e.success?(t.$message({type:"success",message:e.msg}),t.dialogVisible=!1):t.$message({type:"warning",message:e.msg})}))},close:function(){this.$emit("loadData")}}},c=(s("b601"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"审核信息",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[s("el-form",{ref:"form",attrs:{model:e.form,size:"small","label-width":"84px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"真实姓名："}},[e._v(" "+e._s(e.form.real_name)+" ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"1"==e.form.certificate_type?"身份证号：":"护照编号"}},[e._v(" "+e._s(e.form.identity_card)+" ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",[s("label",{attrs:{slot:"label",for:"nationality"},slot:"label"},[e._v("昵 称：")]),e._v(" "+e._s(e.form.nickname)+" ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",[s("label",{attrs:{slot:"label",for:"nationality"},slot:"label"},[e._v("手机号：")]),e._v(" "+e._s(e.form.phonenumber)+" ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",[s("label",{attrs:{slot:"label",for:"nationality"},slot:"label"},[e._v("国 籍：")]),e._v(" "+e._s(e.form.nationality)+" ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",[s("label",{attrs:{slot:"label",for:"nationality"},slot:"label"},[e._v("性 别：")]),e._v(" "+e._s(e.form.gender)+" ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",[s("label",{attrs:{slot:"label",for:"nationality"},slot:"label"},[e._v("年 龄：")]),e._v(" "+e._s(e.form.birth_date)+" ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"现居住地："}},[e._v(" "+e._s(e.form.address)+" ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"直播昵称："}},[e._v(" "+e._s(e.form.live_nickname)+" ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"直播语种："}},[e._v(" "+e._s(e.form.lan_code)+" ")])],1)],1),s("el-form-item",{attrs:{label:"个人简介："}},[e._v(" "+e._s(e.form.introduction)+" ")]),s("el-form-item",{staticClass:"identify-photo",attrs:{label:"证件照："}},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.form.certificate_front,expression:"form.certificate_front"}],attrs:{src:e.uploadfileDomain+e.form.certificate_front,fit:"cover"}}),s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.form.certificate_back,expression:"form.certificate_back"}],attrs:{src:e.uploadfileDomain+e.form.certificate_back,fit:"cover"}})],1),s("el-form-item",{attrs:{label:"审核意见："}},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入审核意见"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.handleApprove(2)}}},[e._v("审核不通过")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleApprove(3)}}},[e._v("审核通过")])],1)],1)}),[],!1,null,"79951c1a",null);t.default=l.exports},"6f98":function(e,t,s){},7031:function(e,t,s){"use strict";s.r(t);var n=s("18f5"),a=s("ed65"),i={data:function(){return{volume:.8}},components:{IconButton:n.default,LineControl:a.default},methods:{onChangeLinehead:function(e){this.$emit("change-volume",e),this.volume=e}}},o=(s("8c73"),s("4023")),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ar-volume"},[t("icon-button",{staticClass:"ar-volume__icon",attrs:{name:"volume"}}),t("line-control",{staticClass:"ar-volume-bar",attrs:{"ref-id":"volume",percentage:this.volume},on:{"change-linehead":this.onChangeLinehead}})],1)}),[],!1,null,null,null);t.default=r.exports},"70da":function(e,t,s){},"70de":function(e,t,s){"use strict";var n=s("454f");s.n(n).a},"70ee":function(e,t,s){"use strict";var n=s("3aa7");s.n(n).a},7134:function(e,t,s){"use strict";var n=s("50cf");s.n(n).a},7178:function(e,t,s){"use strict";var n=s("48e2");s.n(n).a},7194:function(e,t,s){"use strict";var n=s("4714");s.n(n).a},"71a0":function(e,t,s){"use strict";var n=s("7261");s.n(n).a},"71ca":function(e,t,s){},"71f7":function(e,t,s){"use strict";s.r(t);var n=(s("562c"),s("4023")),a=Object(n.a)({data:function(){return{showProcess2:!1,levelLists:[{text:"零基础发音",chapter:""},{text:"零基础发音",chapter:""},{text:"零基础发音",chapter:""},{text:"零基础发音",chapter:""},{text:"零基础发音",chapter:""}]}},created:function(){var e=this;this.$bus.on("showProcess2",(function(){e.showProcess2=!0}))},methods:{cancel:function(){this.$bus.emit("closeAdd")},back:function(){this.showProcess2=!1,this.$bus.emit("showProcess1")},nextBtn:function(){this.showProcess2=!1,this.$bus.emit("showProcess3")}},beforeDestroy:function(){this.$bus.off("showProcess2")}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showProcess2,expression:"showProcess2"}],staticClass:"process2"},[s("div",{staticClass:"process-header"},[s("span",{staticClass:"el-icon-arrow-left back",on:{click:function(t){return e.back()}}}),s("span",{staticClass:"title"},[e._v("第2步：创建Level")])]),s("div",{staticClass:"level-lists"},e._l(e.levelLists,(function(t,n){return s("div",{key:n,staticClass:"level-item"},[s("div",{staticClass:"item-left"},[s("span",[e._v(e._s("level "+(n+1))+": ")]),s("span",[e._v(e._s(t.text))])]),s("div",{staticClass:"item-right"},[s("span",[e._v(e._s("level "+(n+1))+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.chapter,expression:"item.chapter"}],attrs:{type:"text"},domProps:{value:t.chapter},on:{input:function(s){s.target.composing||e.$set(t,"chapter",s.target.value)}}})])])})),0),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.nextBtn()}}},[e._v("下一步")])])])}),[],!1,null,"1971e21c",null);t.default=a.exports},7261:function(e,t,s){},"73a0":function(e,t,s){"use strict";var n=s("c3af");s.n(n).a},"73eb":function(e,t,s){"use strict";var n=s("f8f1");s.n(n).a},7461:function(e,t,s){},7570:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myVideo:null}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain},version:function(e){return e.course.version}})),{},{coverUrl:function(){var e="";return this.form&&this.form.cover&&(e=this.assetsDomain+this.form.cover),e},videoUrl:function(){var e="";return this.form&&this.form.video&&(e=this.assetsDomain+this.form.video),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("a78a"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-handler"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1),s("div",{staticClass:"form"},[s("video",{attrs:{id:"form-video-"+e.formIndex,src:e.videoUrl,controls:"",poster:e.coverUrl}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.content,expression:"form.content"}],staticClass:"text"},[s("span",{domProps:{textContent:e._s(e.form.content)}})])])}),[],!1,null,"95ee3e4a",null);t.default=r.exports},"75cd":function(e,t,s){},7678:function(e,t,s){"use strict";var n=s("7d04");s.n(n).a},"77d0":function(e,t,s){"use strict";s.r(t);var n=s("7b00"),a=s("2a3d"),i={data:function(){return{showEditorIn:!0,isCourse:!0,stepOne:!0}},components:{StepOne:n.default,StepTwo:a.default},mounted:function(){},methods:{showStepOne:function(){this.$refs.stepOne.initSwiper()},clickNextBtn:function(){this.stepOne=!this.stepOne},closeModel:function(){this.$emit("closeEditorModel")}}},o=(s("f7a8"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditorIn,expression:"showEditorIn"}],staticClass:"editor-in"},[s("div",{staticClass:"top-banner"},[s("a",{class:{active:e.isCourse}},[e._v("Pro")]),s("a",{class:{active:!e.isCourse}},[e._v("Mini")])]),s("div",{staticClass:"editor-in-content"},[s("step-one",{directives:[{name:"show",rawName:"v-show",value:e.stepOne,expression:"stepOne"}],ref:"stepOne",on:{closeModel:e.closeModel,clickNextBtn:e.clickNextBtn}}),s("step-two",{directives:[{name:"show",rawName:"v-show",value:!e.stepOne,expression:"!stepOne"}],ref:"stepTwo",on:{stepTeoBack:e.clickNextBtn}})],1)])}),[],!1,null,"04749bc8",null);t.default=r.exports},"783f":function(e,t,s){e.exports=s.p+"img/notFound.a40c89a2.png"},7873:function(e,t,s){"use strict";s.r(t),s.d(t,"calculateLineHeadPosition",(function(){return i})),s.d(t,"convertTimeMMSS",(function(){return o})),s.d(t,"convertToMp3",(function(){return r})),s("3e54"),s("e18c"),s("e35a"),s("f4e3"),s("d01a"),s("ab6e"),s("927c"),s("3c51"),s("db0a"),s("1cc1"),s("ab0f"),s("fc6e"),s("f30b"),s("cfd1"),s("d104"),s("f74a"),s("3598"),s("b497"),s("2909"),s("a7ef"),s("b523"),s("e671"),s("4140"),s("83db"),s("829d"),s("939f"),s("1bb1"),s("c3ba");var n=s("56ab"),a=s.n(n);function i(e,t){var s=t.getBoundingClientRect().width,n=e.target.getBoundingClientRect().left,a=(e.clientX-n)/s;try{if(!e.target.className.match(/^ar\-line\-control/))return}catch(e){return}return(a=a<0?0:a)>1?1:a}function o(e){return new Date(1e3*e).toISOString().substr(14,5)}function r(e,t){for(var s=a.a.WavHeader.readHeader(t),n=s.channels,i=s.sampleRate,o=new a.a.Mp3Encoder(n,i,128),r=e.getChannelData(),c=[],l=r.left&&new Int16Array(r.left.buffer,0,r.left.byteLength/2),u=r.right&&new Int16Array(r.right.buffer,0,r.right.byteLength/2),d=l.length+(u?u.length:0),f=0;f<d;f+=1152){var m=l.subarray(f,f+1152),h=null,p=null;2===n?(h=u.subarray(f,f+1152),p=o.encodeBuffer(m,h)):p=o.encodeBuffer(m),p.length>0&&c.push(p)}var v=o.flush();return v.length>0&&c.push(v),new Blob(c,{type:"audio/mp3"})}},"78d8":function(e,t,s){"use strict";var n=s("388c");s.n(n).a},7925:function(e,t,s){},7934:function(e,t,s){"use strict";s.r(t);var n=(s("337f"),s("4023")),a=Object(n.a)({data:function(){return{addEmailCls:!1,addEmailSms:!1,forgetForm:{email:""}}},methods:{onFocusName:function(){this.addEmailCls=!0},onFocusSms:function(){this.addEmailSms=!0},blurTextFn:function(){""!==this.forgetForm.email?this.addEmailCls=!0:this.addEmailCls=!1},backLogin:function(){this.$emit("goBack")},sendEmail:function(){}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"forget-form"},[s("section",{staticClass:"forget_content"},[s("el-main",{staticClass:"forget-box"},[s("div",{staticClass:"forget-head"},[s("i",{staticClass:"font_family icon-fanhui",on:{click:function(t){return e.backLogin()}}}),s("h1",[e._v("找回密码")])]),s("form",[s("div",{staticClass:"form-group",class:{active:1==e.addEmailCls}},[s("i",{staticClass:"font_family icon-email1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.forgetForm.email,expression:"forgetForm.email"}],attrs:{type:"text",id:"email",placeholder:"请输入邮箱"},domProps:{value:e.forgetForm.email},on:{focus:function(t){return e.onFocusName()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.forgetForm,"email",t.target.value)}}})]),s("div",{staticClass:"form-group",class:{active:1==e.addEmailSms}},[s("i",{staticClass:"font_family icon-CAPTCHA"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.forgetForm.email,expression:"forgetForm.email"}],attrs:{type:"text",id:"email",placeholder:"请输入邮箱验证码"},domProps:{value:e.forgetForm.email},on:{focus:function(t){return e.onFocusSms()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.forgetForm,"email",t.target.value)}}})]),s("div",{staticClass:"btn_login"},[s("button",{staticClass:"login-btn-panel",attrs:{type:"button"},on:{click:function(t){return e.sendEmail()}}},[e._v("发送验证邮件")]),s("i",{staticClass:"box-shadow"})])]),s("a",{staticClass:"go-login",attrs:{href:"javascript:;"},on:{click:function(t){return e.backLogin()}}},[s("span",[e._v("去登录")])])])],1)])}),[],!1,null,"52e4be35",null);t.default=a.exports},"79c4":function(e,t,s){},"7a8e":function(e,t,s){},"7abc":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("fe59"),s("ecb4"),s("ea69"),s("053b"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("c52d"),o=s("cabd"),r=s("0470"),c=s("ae8c"),l={data:function(){return{height:0,token:"",trackNum:0,title:"",drawer:!1,handler:"",pathDesc:"",attr_tag:"",tags:[],folder:{},form:{parent_uuid:"",uuid:"",name:"",title:{},goalTitle:"",onlineState:0,desc:{},is_show:!0,flag:[],cover:[],list_order:0,content_model:"",type:"",num:1},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){var e=this;this.$bus.$on("uploadCopperImages",(function(t){e.form.cover=[].concat(Object(i.a)(e.form.cover),Object(i.a)(t))}))},computed:Object(a.a)(Object(a.a)({},Object(c.e)({langInfos:function(e){return e.course.langInfos},assetsDomain:function(e){return e.course.assetsDomain},modelList:function(e){return e.course.modelList},contentTags:function(e){return e.course.contentTags},version:function(e){return e.course.version},userInfo:function(e){return e.user.userInfo}})),{},{flagUrl:function(){var e="";return this.form.flag&&this.form.flag.length>0&&(e=this.form.flag[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e},coverUrl:function(){var e="";return this.form.cover&&this.form.cover.length>0&&(e=this.form.cover[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e},catalogAttr:function(){var e=[];return this.version&&this.contentTags&&(e=this.contentTags.filter((function(e){return"kid"!==e.type.toLowerCase()&&"pro"!==e.type.toLowerCase()}))),e.length&&(e=e.sort((function(e,t){return e.list_order-t.list_order}))),e},selfContentTags:function(){var e=[];return this.contentTags&&(e=this.contentTags.filter((function(e){return"kid"===e.type.toLowerCase()||"pro"===e.type.toLowerCase()}))),e}}),methods:{show:function(e){var t=this;if(this.resetFormData(),Object(o.getInfoToken)().then((function(e){t.token=e.data.token})),this.pathDesc=e.pathDesc,this.handler=e.handler,this.trackNum=e.trackNum,"add"===e.handler&&"catalog"===e.type&&(this.title="添加目录"),"add"===e.handler&&"content"===e.type&&(this.form.content_model="content_model_pro_sound",this.title="添加文件"),"edit"===e.handler&&"catalog"===e.type&&(this.title="编辑目录"),"edit"===e.handler&&"content"===e.type&&(this.title="编辑文件"),this.form.type=e.type,"add"===e.handler&&(this.tags=[],this.form.parent_uuid=e.uuid,this.form.list_order=e.maxOrder+10),"edit"===e.handler){this.form.parent_uuid=e.folder.parent_uuid,this.folder=e.folder;var s=e.folder;this.form.uuid=s.uuid,this.attr_tag=s.attr_tag,this.tags=s.tags?s.tags:[],this.form.name=s.name,this.form.title=s.title,this.form.goalTitle=s.goalTitle,this.form.onlineState=s.onlineState,this.form.desc=s.desc,this.form.flag=s.flag,this.form.cover=s.cover,this.form.is_show=s.is_show,this.form.content_model=s.content_model,this.form.type=s.type,this.form.list_order=s.list_order,this.changeAttrTag()}this.drawer=!0},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("add"===e.handler){var s={catalogsInfo:{content_model:e.form.content_model,attr_tag:e.attr_tag,cover:e.form.cover,desc:e.form.desc,flag:e.form.flag,tags:e.tags,has_changed:!0,is_show:e.form.is_show,list_order:e.form.list_order,name:e.form.name,parent_uuid:e.form.parent_uuid,title:e.form.title,goalTitle:e.form.goalTitle,onlineState:e.form.onlineState,type:e.form.type},num:e.form.num};Object(o.addCatalog)(s).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),0===e.trackNum&&t.data&&t.data.catalog.length?t.data.catalog.forEach((function(t){var s={authorities:[{authority:"rw",user_uuid:e.userInfo.uuid}],type:"catalog",uuid:t.uuid};Object(o.setAuthority)(s).then((function(t){e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum})}))})):e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum,curUUID:t.data.catalog[0].uuid}),e.drawer=!1)}))}else{var n={catalog_info:{cover:e.form.cover,attr_tag:e.attr_tag,desc:e.form.desc,flag:e.form.flag,has_changed:!0,list_order:e.form.list_order,name:e.form.name,tags:e.tags,title:e.form.title,goalTitle:e.form.goalTitle,onlineState:e.form.onlineState,is_show:e.form.is_show},uuid:e.form.uuid};Object(o.editCatalog)(n).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum}),e.drawer=!1)}))}}))},resetFormData:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.height=e-2,this.pathDesc="",this.attr_tag="",this.form={parent_uuid:"",uuid:"",name:"",title:{},goalTitle:"",onlineState:0,desc:{},is_show:!0,flag:[],cover:[],list_order:0,content_model:"",num:1},this.form.cover.length=0},uploadFlagOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.form.flag=[],n=e.raw.name.split(".")[1],a="course/content/catalog/flag/"+e.uid+"."+n,t.next=5,Object(r.uploadQiniu)(e.raw,s.token,a);case 5:i=t.sent,s.form.flag.push(i.key);case 7:case"end":return t.stop()}}),t)})))()},uploadCoverOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FileReader).onload=function(t){var n=t.target.result,a=new Image;a.onload=function(){var t=a.width,n=a.height,i=e.raw.name.split(".")[1],o="course/images/icon/"+t+"*"+n+"/"+e.uid+"."+i;Object(r.uploadQiniu)(e.raw,s.token,o).then((function(e){s.form.cover.push(e.key)}))},a.src=n},n.readAsDataURL(e.raw);case 4:case"end":return t.stop()}}),t)})))()},close:function(){this.drawer=!1},cropperImage:function(e){this.$bus.$emit("showCropperDialog",{url:e,token:this.token})},delImage:function(e,t){this.form[e].splice(t,1)},changeAttrTag:function(){var e=this;if(this.attr_tag){var t=this.catalogAttr.find((function(t){return t.key===e.attr_tag}));t?(this.form.title=t.title?t.title:{},this.form.desc=t.desc?t.desc:{},this.form.cover=t.cover,this.form.flag=t.flag):(this.form.title={},this.form.desc={},this.form.cover="",this.form.flag="")}else"edit"===this.handler?(this.form.title=this.folder.title,this.form.desc=this.folder.desc,this.form.cover=this.folder.cover,this.form.flag=this.folder.flag):(this.form.title={},this.form.desc={},this.form.cover=[],this.form.flag=[])}},destroyed:function(){this.$bus.$off("uploadCopperImages")}},u=(s("5510"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-drawer",{attrs:{visible:e.drawer,"with-header":!1,size:"50%",direction:"rtl"},on:{"update:visible":function(t){e.drawer=t}}},[s("div",{staticClass:"edit-catalog-container",style:{height:e.height+"px"}},[s("div",{staticClass:"path"},[e._v(e._s("路径: "+e.pathDesc))]),s("div",{staticClass:"title",domProps:{textContent:e._s(e.title)}}),s("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"目录属性"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.changeAttrTag()}},model:{value:e.attr_tag,callback:function(t){e.attr_tag=t},expression:"attr_tag"}},[s("el-option",{attrs:{value:"",label:"无"}}),e._l(e.catalogAttr,(function(e){return s("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],2)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"add"==e.handler,expression:"handler == 'add'"}],attrs:{label:"个数"}},[s("el-input-number",{attrs:{min:1},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"content"===e.form.type,expression:"form.type === 'content'"}],attrs:{label:"模型"}},[s("el-select",{attrs:{placeholder:"请选择模型"},model:{value:e.form.content_model,callback:function(t){e.$set(e.form,"content_model",t)},expression:"form.content_model"}},e._l(e.modelList,(function(e){return s("el-option",{key:e.model_key,attrs:{label:e.name,value:e.model_key}})})),1)],1),s("el-form-item",{attrs:{label:"目标语"}},[s("el-input",{model:{value:e.form.goalTitle,callback:function(t){e.$set(e.form,"goalTitle",t)},expression:"form.goalTitle"}})],1),s("el-form-item",{attrs:{label:"标题"}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[s("el-input",{attrs:{disabled:""!=e.attr_tag},model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"描述"}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[s("el-input",{attrs:{type:"textarea",disabled:""!=e.attr_tag},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}}),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"图标"}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片")]),s("div",{staticClass:"img-box small-img-box"},[s("div",{staticClass:"img"},[e.flagUrl?s("img",{attrs:{src:e.flagUrl,fit:"cover"}}):e._e()]),s("el-upload",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],attrs:{action:"#",accept:"image/webp","on-change":e.uploadFlagOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)],1),s("el-form-item",{attrs:{label:"封面"}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片")]),s("div",{staticClass:"img-box big-img-box"},[e.form.cover.length?s("div",{staticClass:"img"},[e._l(e.form.cover,(function(t,n){return s("div",{key:"cover"+n,staticClass:"block"},[s("span",[e._v(e._s(t.split("/")[t.split("/").length-2]))]),s("el-image",{attrs:{lazy:"",src:e.assetsDomain+t,"preview-src-list":[e.assetsDomain+t],fit:"cover"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],staticClass:"btn-handler"},[s("el-button",{attrs:{round:"",size:"small"},on:{click:function(s){return e.cropperImage(e.assetsDomain+t)}}},[e._v("裁剪")]),s("el-button",{attrs:{round:"",plain:"",type:"danger",size:"small"},on:{click:function(t){return e.delImage("cover",n)}}},[e._v("删除")])],1)],1)})),s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],staticClass:"block"},[s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)],2):s("div",{staticClass:"img"},[s("div",{staticClass:"block"},[s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)])])],1),s("el-form-item",{attrs:{label:"选择标签"}},[s("el-checkbox-group",{model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},e._l(e.selfContentTags,(function(t){return s("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{attrs:{label:"展示状态"}},[s("el-radio-group",{model:{value:e.form.onlineState,callback:function(t){e.$set(e.form,"onlineState",t)},expression:"form.onlineState"}},[s("el-radio",{attrs:{label:1}},[e._v("即将上线")]),s("el-radio",{attrs:{label:0}},[e._v("已上线")])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.handler&&!1,expression:"handler === 'edit' && false"}],attrs:{label:"是否展示"}},[s("el-radio-group",{model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),s("el-form-item",[s("div",{staticClass:"handler"},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),s("el-button",{on:{click:e.close}},[e._v("取消")])],1)])],1)],1)])}),[],!1,null,"116199d6",null);t.default=d.exports},"7b00":function(e,t,s){"use strict";s.r(t);var n=s("72f9"),a=(s("8102"),{data:function(){return{radioVal:"版本V2"}},mounted:function(){this.initSwiper()},methods:{initSwiper:function(){this.$nextTick((function(){new n.a("#editor-in-container",{loop:!1,autoplay:!1,speed:500,slidesPerView:"auto",slidesOffsetAfter:30,navigation:{prevEl:".el-icon-arrow-left",nextEl:".el-icon-arrow-right"}})}))},cancel:function(){this.$emit("closeModel")},nextBtn:function(){this.$emit("clickNextBtn")},getRadioVal:function(){}}}),i=(s("69bc"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"step-one"},[e._m(0),s("div",{staticClass:"swiper-container swiper-no-swiping",attrs:{id:"editor-in-container"}},[s("div",{staticClass:"swiper-wrapper"},[s("div",{staticClass:"swiper-slide"},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:e.radioVal,expression:"radioVal"}],staticClass:"radio",attrs:{type:"radio",value:"版本V2"},domProps:{checked:e._q(e.radioVal,"版本V2")},on:{change:[function(t){e.radioVal="版本V2"},e.getRadioVal]}}),e._m(2)]),e._m(3),e._m(4)])]),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.nextBtn()}}},[e._v("下一步")])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"swiper-btn"},[t("div",{staticClass:"icon el-icon-arrow-left"}),t("div",{staticClass:"icon el-icon-arrow-right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"online-flag"},[t("span",[this._v("线上")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[this._v("版本V2")]),t("ul",[t("li",[this._v("创建时间：2018年6月1日")]),t("li",[this._v("最后修改时间：2020年1月1日")]),t("li",[this._v("Level：6")]),t("li",[this._v("Chapter：24")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"swiper-slide"},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[this._v("版本V2")]),t("ul",[t("li",[this._v("创建时间：2018年6月1日")]),t("li",[this._v("最后修改时间：2020年1月1日")]),t("li",[this._v("Level：6")]),t("li",[this._v("Chapter：24")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"swiper-slide"},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[this._v("版本V2")]),t("ul",[t("li",[this._v("创建时间：2018年6月1日")]),t("li",[this._v("最后修改时间：2020年1月1日")]),t("li",[this._v("Level：6")]),t("li",[this._v("Chapter：24")])])])])}],!1,null,"0c02077e",null);t.default=o.exports},"7b3b":function(e,t,s){"use strict";s.r(t),s("e18c"),s("96db"),s("af86"),s("f1a9");var n={data:function(){return{isSowUpImg:!1,imageUrl:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg",fileRaw:{}}},created:function(){var e=this;this.$bus.on("showUpCourseImg",(function(){e.isSowUpImg=!0}))},methods:{fileChange:function(e,t){this.imageUrl=URL.createObjectURL(e.raw),this.fileRaw=e},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){this.isSowUpImg=!1},cancel:function(){this.isSowUpImg=!1,this.fileRaw={},this.imageUrl="http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"}},beforeDestroy:function(){this.$bus.off("showUpCourseImg")}},a=(s("dbff"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.isSowUpImg?s("div",{staticClass:"update-course-img"},[s("div",{staticClass:"update-content"},[s("h1",[e._v("更改图标")]),s("div",{attrs:{id:"upload"}},[s("el-upload",{attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChange,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.handleBeforeUpload,"auto-upload":!1}},[s("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}),s("div",{attrs:{id:"upload-btn"}},[s("a",{attrs:{href:"javascript:;"}},[e._v("+本地上传")])])])],1),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])]):e._e()])}),[],!1,null,"ec5622a2",null);t.default=i.exports},"7c1b":function(e,t,s){},"7cee":function(e,t,s){"use strict";var n=s("1fa4");s.n(n).a},"7d04":function(e,t,s){},"7d1a":function(e,t,s){"use strict";var n=s("0634");s.n(n).a},"7da3":function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("cabd"),i={data:function(){return{dialogVisible:!1,innerVisible:!1,flag:"",title:"",classWXList:[],ruleForm:{id:"",courseCode:"",weixinNo:"",isShow:!0,weixinCode:""},rules:{weixinNo:[{required:!0,message:"请输入微信号",trigger:"blur"}],weixinCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{show:function(e){this.ruleForm.courseCode=e.code,this.loadClassWXList(),this.dialogVisible=!0},loadClassWXList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getClassWXList)({courseCode:e.ruleForm.courseCode,pageNo:0,pageSize:0});case 2:(s=t.sent).success&&(e.classWXList=s.data.class_weixin);case 5:case"end":return t.stop()}}),t)})))()},formatterIsShow:function(e){return e.isShow?"是":"否"},add:function(){this.title="添加",this.flag="add";var e=this.ruleForm.courseCode;this.ruleForm={id:"",courseCode:e,weixinNo:"",isShow:!0,weixinCode:""},this.innerVisible=!0},edit:function(e){this.title="编辑",this.flag="edit",this.ruleForm.courseCode=e.courseCode,this.ruleForm.id=e.id,this.ruleForm.weixinNo=e.weixinNo,this.ruleForm.weixinCode=e.weixinCode,this.ruleForm.isShow=e.isShow,this.innerVisible=!0},del:function(e){var t=this;this.$confirm("此操作将永久删除该微信群, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a.delClassWX)({id:e.id}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.loadClassWXList())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if("add"===t.flag){var s={courseCode:t.ruleForm.courseCode,weixinNo:t.ruleForm.weixinNo,isShow:t.ruleForm.isShow,weixinCode:t.ruleForm.weixinCode};Object(a.addClassWX)(s).then((function(e){e.success&&(t.$message({type:"success",message:"添加成功"}),t.innerVisible=!1,t.loadClassWXList())}))}else Object(a.editClassWX)(t.ruleForm).then((function(e){e.success&&(t.$message({type:"success",message:"编辑成功"}),t.innerVisible=!1,t.loadClassWXList())}))}))}}},o=(s("3357"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"班级群",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.classWXList}},[s("el-table-column",{attrs:{prop:"weixinNo",label:"微信号",width:"180"}}),s("el-table-column",{attrs:{prop:"weixinCode",label:"验证码"}}),s("el-table-column",{attrs:{prop:"isShow",formatter:e.formatterIsShow,label:"是否展示"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.edit(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.del(t.row)}}},[e._v("删除")])]}}])})],1),s("el-dialog",{attrs:{width:"30%",title:e.title,visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"微信号",prop:"weixinNo"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.ruleForm.weixinNo,callback:function(t){e.$set(e.ruleForm,"weixinNo",t)},expression:"ruleForm.weixinNo"}})],1),s("el-form-item",{attrs:{label:"验证码",prop:"weixinCode"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.ruleForm.weixinCode,callback:function(t){e.$set(e.ruleForm,"weixinCode",t)},expression:"ruleForm.weixinCode"}})],1),s("el-form-item",{attrs:{label:"是否展示",prop:"isShow"}},[s("el-radio-group",{model:{value:e.ruleForm.isShow,callback:function(t){e.$set(e.ruleForm,"isShow",t)},expression:"ruleForm.isShow"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)],1)}),[],!1,null,"57451ca6",null);t.default=r.exports},"7dbb":function(e,t,s){"use strict";var n=s("88b1");s.n(n).a},"7e01":function(e,t,s){"use strict";var n=s("7925");s.n(n).a},"7f08":function(e,t,s){"use strict";s.r(t),s.d(t,"urlfix",(function(){return n}));var n=function(e,t){return e?/\?/.test(e)?e+"&"+t:e+"?"+t:""}},"7fa2":function(e,t,s){"use strict";s.r(t),s.d(t,"user",(function(){return c})),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("c24f"),o=s("a18c"),r=s("0cc2"),c={namespaced:!0,state:{userInfo:{uuid:"",nickName:"",headerImg:"",authority:""},lowerRoleUser:!1,token:"",expiresAt:""},mutations:{setUserInfo:function(e,t){"111"===t.authorityId||"121"===t.authorityId||"131"===t.authorityId?e.lowerRoleUser=!0:e.lowerRoleUser=!1,e.userInfo=t},setToken:function(e,t){e.token=t},setExpiresAt:function(e,t){e.expiresAt=t},LoginOut:function(e){e.userInfo={},e.token="",e.expiresAt="",o.default.push({name:"login",replace:!0}),window.location.reload()},ResetUserInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.userInfo=Object(a.a)(Object(a.a)({},e.userInfo),t)}},actions:{LoginIn:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,a,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(i.login)(t);case 3:a=s.sent,n("setUserInfo",a.data.user),n("setToken",a.data.token),n("setExpiresAt",a.data.expiresAt),a.success&&((r=o.default.history.current.query.redirect)?o.default.push({path:r}):o.default.push({path:"layout/dashbord"}));case 8:case"end":return s.stop()}}),s)})))()},LoginOut:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.commit,t.next=3,Object(r.jsonInBlacklist)();case 3:t.sent.success&&s("LoginOut");case 5:case"end":return t.stop()}}),t)})))()}},getters:{userInfo:function(e){return e.userInfo},token:function(e){return e.token},expiresAt:function(e){return e.expiresAt}}}},"801f":function(e,t,s){"use strict";var n=s("9ff2");s.n(n).a},"80b6":function(e,t,s){"use strict";var n=s("47bf");s.n(n).a},"80dd":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form","index"],computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{coverUrl:function(){var e="";return this.form&&this.form.cover&&(e=this.assetsDomain+this.form.cover),e},videoUrl:function(){var e="";return this.form&&this.form.video&&(e=this.assetsDomain+this.form.video),e}})},o=(s("0a96"),s("4023")),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"video-box"},[t("video",{attrs:{id:"form-video-"+this.index,src:this.videoUrl,controls:"",poster:this.coverUrl,autoplay:"autoplay"}})])}),[],!1,null,"28e92f07",null);t.default=r.exports},"81f9":function(e,t,s){"use strict";var n=s("94e3");s.n(n).a},8244:function(e,t,s){"use strict";s.r(t),s.d(t,"asyncRouterHandle",(function(){return n})),s("2eeb"),s("e35a"),s("5e9f");var n=function e(t){t.map((function(t){if(t.component)try{t.component=s("a8ec")("./"+t.component.replace(/(^\s*)|(\s*$)/g,"")).default}catch(e){delete t.component}else delete t.component;t.children&&e(t.children)}))}},"824d":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b"),s("e35a"),s("5e9f");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{aadActive:!1,word:"",currIndex:"",sentence:""}},created:function(){var e=this;this.$on("init",(function(){e.initWords()})),this.$on("break",(function(){}))},methods:{typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.name),s},initWords:function(){this.word=this.form.words_choice[0],this.sentence=this.form.sentence.replace(this.word," ______ ")},choiceSentence:function(e,t){var s=this;e===this.word&&(this.currIndex=t,this.aadActive=!0,setTimeout((function(){s.close()}),1e3))},close:function(){this.currIndex="",this.aadActive=!1}}},a=(s("1359"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"fillGap-box"},[s("span",{staticClass:"sentence"},[e._v(e._s(e.sentence))])]),e.form.imgs_choice.length>0?s("div",{staticClass:"choice-list img-choice"},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.imgs_choice[0],"imageView2/1/format/jpg"),alt:""}}),e._l(e.form.words_choice,(function(t,n){return s("a",{key:n},[s("span",{class:{active:e.currIndex==n&&e.word==t&&e.aadActive},on:{click:function(s){return e.choiceSentence(t,n)}}},[e._v(" "+e._s(t))])])}))],2):s("div",{staticClass:"choice-list"},[s("ul",e._l(e.form.words_choice,(function(t,n){return s("li",{key:n},[s("span",{class:{active:e.currIndex==n&&e.word==t&&e.aadActive},on:{click:function(s){return e.choiceSentence(t,n)}}},[e._v(" "+e._s(t))])])})),0)])])}),[],!1,null,"90dd4ad0",null);t.default=i.exports},"828b":function(e,t,s){},"82d4":function(e,t,s){"use strict";var n=s("c9ad");s.n(n).a},8386:function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("cabd"),i={data:function(){return{dialogVisible:!1,disabled:!1,course:{},form:{talkmateID:""},rules:{talkmateID:[{required:!0,message:"请输入全球说ID",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.course=e,t.form.talkmateID="",t.dialogVisible=!0;case 4:case"end":return s.stop()}}),s)})))()},onSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=9;break}return n={course_code:e.course.code,talkmate_id:e.form.talkmateID},t.next=5,Object(a.unlockCourse)(n);case 5:t.sent.success&&(e.$message({type:"success",message:"解锁成功"}),e.dialogVisible=!1),t.next=11;break;case 9:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},closed:function(){}}},o=(s("460a"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"解锁课程",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[s("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"全球说ID",prop:"talkmateID"}},[s("el-input",{model:{value:e.form.talkmateID,callback:function(t){e.$set(e.form,"talkmateID",t)},expression:"form.talkmateID"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,"5b6e5415",null);t.default=r.exports},8387:function(e,t,s){"use strict";var n=s("b8260");s.n(n).a},"84cf":function(e,t,s){},"851c":function(e,t,s){"use strict";var n=s("6026");s.n(n).a},"85b7":function(e,t,s){"use strict";var n=s("55d7");s.n(n).a},"85c8":function(e,t,s){"use strict";var n=s("9adb");s.n(n).a},"85c9":function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("c24f"),r={name:"Regist",data:function(){var e=this;return{lock:"lock",registForm:{username:"",password:"",rePassword:""},rules:{username:[{validator:function(e,t,s){if(t.length<5||t.length>12)return s(new Error("请输入正确的用户名"));s()},trigger:"blur"}],password:[{validator:function(e,t,s){if(t.length<6||t.length>12)return s(new Error("请输入正确的密码"));s()},trigger:"blur"}],rePassword:[{validator:function(t,s,n){if(s!==e.registForm.password)return n(new Error("两次密码不同"));n()},trigger:"blur"}]}}},methods:Object(a.a)(Object(a.a)({},Object(i.b)("user",["LoginIn"])),{},{submitForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.registForm.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=10;break}return t.next=3,Object(o.regist)(e.registForm);case 3:if(!t.sent.success){t.next=8;break}return e.$message({type:"success",message:"注册成功",showClose:!0}),t.next=8,e.LoginIn(e.registForm);case 8:t.next=12;break;case 10:return e.$message({type:"error",message:"请正确填写注册信息",showClose:!0}),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},changeLock:function(){"lock"===this.lock?this.lock="unlock":this.lock="lock"}})},c=(s("78d8"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"login-regist-box"},[s("vue-particle-line"),s("el-main",{staticClass:"login-box"},[s("h1",{staticClass:"title-1"},[e._v("GIN-VUE-ADMIN")]),s("el-form",{ref:"registForm",attrs:{model:e.registForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registForm.username,callback:function(t){e.$set(e.registForm,"username",t)},expression:"registForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"lock"===e.lock?"password":"text",placeholder:"请输入密码"},model:{value:e.registForm.password,callback:function(t){e.$set(e.registForm,"password",t)},expression:"registForm.password"}},[s("i",{class:"el-input__icon el-icon-"+e.lock,attrs:{slot:"suffix"},on:{click:e.changeLock},slot:"suffix"})])],1),s("el-form-item",{attrs:{prop:"rePassword"}},[s("el-input",{attrs:{type:"lock"===e.lock?"password":"text",placeholder:"请再次输入密码"},model:{value:e.registForm.rePassword,callback:function(t){e.$set(e.registForm,"rePassword",t)},expression:"registForm.rePassword"}},[s("i",{class:"el-input__icon el-icon-"+e.lock,attrs:{slot:"suffix"},on:{click:e.changeLock},slot:"suffix"})])],1),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},on:{click:e.submitForm}},[e._v("注 册")])],1)],1)],1)],1)}),[],!1,null,"130e2626",null);t.default=l.exports},"85d3":function(e,t,s){},"85ea":function(e,t,s){"use strict";var n=s("c5e0");s.n(n).a},"85f6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAq1BMVEVHcEwSl9oRltwSltoPl9cSldsVlNsRldkPk9sRldoRltsSlNkSlNkSldsSltsRldsRltoSltsPn98PmuASlNoTk9cSldoRltoRldsRltoWkNIRldsSldkSldoSldsSltoSldsPj98Sl9sSltsSltoRldoSl9wTldgQl9oUmeASltsSldoQl94SltsSldsRldoRldwSltwRltoRlNkQl9kRltoRltsQld0SltuPmWBTAAAAOHRSTlMAcUl/IN8kgEC/n2A361Xq294QIWIaRs1XkhePUsOKjbMQe+2ZoGBQWxndpy/40LGFmlplL+flLgW5zMsAAADsSURBVEjH7dXHFoJADAXQUQZBEHvvvfea//8yQQeRIzMmG9yYFYvcAwTyhrF/IStjoCrr9ycAWUkBcliQFwAgbSIqDRAAzJv+CHAjRQK2OwqLAnRveBwP+GPaNuEOltuvUx6Jj6GRjPM7zIlgBHUSWLkTGBDA1BvxEg8WzxXofQPc/5cKYmmqatAEKD4uJq81qyiBI750OdjLjgr0vY4uY6X3TR7KgYiPNquFdn8mA2u/oxUOi01KArayeNlFg4M8kPZR4KSKsOMnODsqcLl9AFNXgasZe5DRwpgc9+QDhWU0LXw4aeoj61/f6g7FcYEZuG6NtgAAAABJRU5ErkJggg=="},8605:function(e,t,s){},"866a":function(e,t,s){},8681:function(e,t,s){"use strict";s.r(t),s("053b"),s("b449");var n=s("ae9a"),a=s("1f27"),i={name:"Menus",mixins:[s("b016").default],data:function(){return{listApi:a.getMenuList,listKey:"list",dialogFormVisible:!1,form:{ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:""}},isEdit:!1}},methods:{handleClose:function(e){this.initForm(),e()},load:function(e,t,s){s([{id:31,date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{id:32,date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"}])},deleteMenu:function(e){var t=this;this.$confirm("此操作将永久删除所有角色下该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.deleteBaseMenu)({ID:e});case 2:s.sent.success&&(t.$message({type:"success",message:"删除成功!"}),t.getTableData());case 4:case"end":return s.stop()}}),s)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initForm:function(){this.form={path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:""}}},closeDialog:function(){this.dialogFormVisible=!1},enterDialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.name=e.form.path,!e.isEdit){t.next=7;break}return t.next=4,Object(a.updataBaseMenu)(e.form);case 4:s=t.sent,t.next=10;break;case 7:return t.next=9,Object(a.addBaseMenu)(e.form);case 9:s=t.sent;case 10:s.success?(e.$message({type:"success",message:"添加成功!"}),e.getTableData()):e.$message({type:"error",message:"添加失败!"}),e.dialogFormVisible=!1;case 12:case"end":return t.stop()}}),t)})))()},addMenu:function(e){this.form.parentId=String(e),this.isEdit=!1,this.dialogFormVisible=!0},editMenu:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.getBaseMenuById)({id:e});case 2:n=s.sent,t.form=n.data.menu,t.dialogFormVisible=!0,t.isEdit=!0;case 6:case"end":return s.stop()}}),s)})))()}},created:function(){this.pageSize=999}},o=(s("cfb7"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"button-box clearflex"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addMenu("0")}}},[e._v("新增根菜单")])],1),s("el-table",{attrs:{data:e.tableData,border:"",stripe:"","row-key":"ID"}},[s("el-table-column",{attrs:{label:"ID","min-width":"100",prop:"ID"}}),s("el-table-column",{attrs:{label:"路由Name","min-width":"160",prop:"name"}}),s("el-table-column",{attrs:{label:"是否隐藏","min-width":"80",prop:"hidden"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.hidden?"隐藏":"显示"))])]}}])}),s("el-table-column",{attrs:{label:"父节点","min-width":"70",prop:"parentId"}}),s("el-table-column",{attrs:{label:"排序","min-width":"70",prop:"sort"}}),s("el-table-column",{attrs:{label:"文件路径","min-width":"400",prop:"component"}}),s("el-table-column",{attrs:{label:"展示名称","min-width":"120",prop:"authorityName"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.meta.title))])]}}])}),s("el-table-column",{attrs:{label:"图标","min-width":"140",prop:"authorityName"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.meta.icon))])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.deleteMenu(t.row.ID)}}},[e._v("删除菜单")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.editMenu(t.row.ID)}}},[e._v("编辑菜单")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.addMenu(t.row.ID)}}},[e._v("添加子菜单")])]}}])})],1),s("el-dialog",{attrs:{"before-close":e.handleClose,visible:e.dialogFormVisible,title:"新增菜单"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{attrs:{inline:!0,model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"路由name"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"唯一英文字符串"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),s("el-form-item",{attrs:{label:"是否隐藏"}},[s("el-select",{attrs:{placeholder:"是否在列表隐藏"},model:{value:e.form.hidden,callback:function(t){e.$set(e.form,"hidden",t)},expression:"form.hidden"}},[s("el-option",{attrs:{value:!1,label:"否"}}),s("el-option",{attrs:{value:!0,label:"是"}})],1)],1),s("el-form-item",{attrs:{label:"父节点Id"}},[s("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),s("el-form-item",{attrs:{label:"文件路径"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1),s("el-form-item",{attrs:{label:"展示名称"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.meta.title,callback:function(t){e.$set(e.form.meta,"title",t)},expression:"form.meta.title"}})],1),s("el-form-item",{attrs:{label:"图标"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.meta.icon,callback:function(t){e.$set(e.form.meta,"icon",t)},expression:"form.meta.icon"}})],1),s("el-form-item",{attrs:{label:"排序标记"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"b62212c0",null);t.default=r.exports},"86fe":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("aa4a"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sound)}}})]),s("div",{staticClass:"word"},[e._v(" "+e._s(e.form.sentence)+" ")])])])])])}),[],!1,null,"0be848d2",null);t.default=r.exports},8717:function(e,t,s){},"88b1":function(e,t,s){},"88ef":function(e,t,s){},8953:function(e,t,s){"use strict";var n=s("b826");s.n(n).a},"898b":function(e,t,s){},"8a6b":function(e,t,s){"use strict";var n=s("a6db");s.n(n).a},"8ab7":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("08b6"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[e.form.image?s("el-image",{attrs:{src:e.assetsDomain+e.form.image,fit:"cover"},on:{click:function(t){return e.play(e.form)}}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.options.length,expression:"form.options.length"}],staticClass:"options"},e._l(e.form.options,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)])])])}),[],!1,null,"0b92714c",null);t.default=r.exports},"8af9":function(e,t,s){"use strict";var n=s("5155");s.n(n).a},"8bfd":function(e,t,s){"use strict";var n=s("828b");s.n(n).a},"8c32":function(e,t,s){"use strict";var n=s("b27e");s.n(n).a},"8c73":function(e,t,s){"use strict";var n=s("e57e");s.n(n).a},"8cd3":function(e,t,s){},"8ce4":function(e,t,s){},"8cfa":function(e,t,s){"use strict";var n=s("6ace");s.n(n).a},"8d5f":function(e,t,s){"use strict";var n=s("36fe");s.n(n).a},"8da1":function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("c24f"),o=s("fd85"),r=s("b016"),c=s("ae8c"),l={name:"Api",mixins:[r.default],data:function(){return{listApi:i.getUserList,listKey:"userList",path:"",authOptions:[],addUserDialog:!1,userInfo:{username:"",password:"",nickName:"",headerImg:"",authorityId:""},value:[],options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]}},computed:Object(a.a)({},Object(c.c)("user",["token"])),methods:{enterAddUserDialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.regist)(e.userInfo);case 2:return t.sent.success&&e.$message({type:"success",message:"创建成功"}),t.next=6,e.getTableData();case 6:e.closeAddUserDialog();case 7:case"end":return t.stop()}}),t)})))()},closeAddUserDialog:function(){this.userInfo={username:"",password:"",nickName:"",headerImg:"",authorityId:""},this.addUserDialog=!1},handleAvatarSuccess:function(e){this.userInfo.headerImg=e.data.file.url},addUser:function(){this.addUserDialog=!0},changeAuthority:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(i.setUserAuthority)({uuid:e.uuid,authorityId:e.authority.authorityId});case 2:s.sent.success&&t.$message({type:"success",message:"角色设置成功"});case 4:case"end":return s.stop()}}),s)})))()},handleChange:function(e){},getAuthOptions:function(e){var t=this;e&&e.length>0&&e.forEach((function(e){var s=e;if(0===s.children.length)delete s.children,t.authOptions.push(s);else{var n=s.children;delete s.children,t.authOptions.push(s),t.getAuthOptions(n)}}))},deleteUser:function(e){var t=this;this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(i.removeUser)({uuid:e.uuid});case 2:if(!s.sent.success){s.next=7;break}return t.$message({type:"success",message:"用户删除成功"}),s.next=7,t.getTableData();case 7:case"end":return s.stop()}}),s)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getAuthorityList)({page:1,pageSize:999});case 2:s=t.sent,n=s.data.list,e.authOptions=[],e.getAuthOptions(n);case 7:case"end":return t.stop()}}),t)})))()}},u=(s("cebf"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"button-box clearflex"},[s("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("新增用户")])],1),s("el-table",{attrs:{data:e.tableData,border:"",stripe:""}},[s("el-table-column",{attrs:{label:"头像","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("div",{style:{textAlign:"center"}},[s("img",{staticClass:"photo",attrs:{src:e.row.headerImg,height:"50",width:"50"}})])]}}])}),s("el-table-column",{attrs:{label:"uuid","min-width":"250",prop:"uuid"}}),s("el-table-column",{attrs:{label:"用户名","min-width":"150",prop:"userName"}}),s("el-table-column",{attrs:{label:"昵称","min-width":"150",prop:"nickName"}}),s("el-table-column",{attrs:{label:"用户角色","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:"请选择"},on:{change:function(s){return e.changeAuthority(t.row)}},model:{value:t.row.authority.authorityId,callback:function(s){e.$set(t.row.authority,"authorityId",s)},expression:"scope.row.authority.authorityId"}},e._l(e.authOptions,(function(e){return s("el-option",{key:e.authorityId,attrs:{label:e.authorityName,value:e.authorityId}})})),1)]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{disabled:"1"==t.row.authorityId,size:"small",type:"text"},on:{click:function(s){return e.deleteUser(t.row)}}},[e._v("删除")])]}}])})],1),s("el-pagination",{style:{float:"right",padding:"20px"},attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[10,30,50,100],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),s("el-dialog",{attrs:{visible:e.addUserDialog,"custom-class":"user-dialog",title:"新增用户"},on:{"update:visible":function(t){e.addUserDialog=t}}},[s("el-form",{attrs:{model:e.userInfo}},[s("el-form-item",{attrs:{label:"用户名","label-width":"80px"}},[s("el-input",{model:{value:e.userInfo.username,callback:function(t){e.$set(e.userInfo,"username",t)},expression:"userInfo.username"}})],1),s("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[s("el-input",{model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}})],1),s("el-form-item",{attrs:{label:"别名","label-width":"80px"}},[s("el-input",{model:{value:e.userInfo.nickName,callback:function(t){e.$set(e.userInfo,"nickName",t)},expression:"userInfo.nickName"}})],1),s("el-form-item",{attrs:{label:"头像","label-width":"80px"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{headers:{"x-token":e.token},"on-success":e.handleAvatarSuccess,"show-file-list":!1,action:e.path+"/fileUploadAndDownload/upload?noSave=1",name:"file"}},[e.userInfo.headerImg?s("img",{staticClass:"avatar",attrs:{src:e.userInfo.headerImg}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",{attrs:{label:"用户角色","label-width":"80px"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userInfo.authorityId,callback:function(t){e.$set(e.userInfo,"authorityId",t)},expression:"userInfo.authorityId"}},e._l(e.authOptions,(function(e){return s("el-option",{key:e.authorityId,attrs:{label:e.authorityName,value:e.authorityId}})})),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeAddUserDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.enterAddUserDialog}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"2c28bd44",null);t.default=d.exports},"8e4f":function(e,t,s){"use strict";s.r(t);var n=s("f348"),a=s.n(n),i=s("cabd"),o={props:["picture","domain"],data:function(){return{currentDate:new Date,isShow:!1,height:0,width:0}},methods:{showEditPicture:function(){this.$emit("showEditPicture",this.picture)},lookPic:function(){this.$emit("lookPic",this.picture)},download:function(){window.location.href=this.domain+this.picture.image_url},delPicture:function(){var e=this;this.$confirm("此操作将永久删除该图片信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i.delEditorImage)({image_id:e.picture.image_id}).then((function(t){t.success&&(e.$message({type:"success",message:"删除成功!"}),e.$emit("loadData"))}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},copyLink:function(){var e=this,t=this.picture.image_url,s=new a.a("#btnLink-"+this.picture._id,{text:function(){return t}});s.on("success",(function(t){e.$message({type:"success",message:"复制成功"})})),s.on("error",(function(t){e.$message({type:"error",message:"复制失败"}),s.destroy()}))},loadImg:function(){var e=this,t=new Image;t.src=this.domain+this.picture.image_url,t.onload=function(){e.height=t.height,e.width=t.width}}}},r=(s("b58b"),s("cee3"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"picture-item",on:{mouseleave:function(t){e.isShow=!1}}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("el-image",{attrs:{src:e._f("urlFix")(e.domain+e.picture.image_url,"imageView2/1/format/jpg"),fit:"cover","preview-src-list":[e.domain+e.picture.image_url]},on:{load:e.loadImg}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])]),s("div",{staticStyle:{padding:"14px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.picture.desc,placement:"top"}},[s("div",{staticClass:"picture-desc",domProps:{innerHTML:e._s(e.picture.desc.replace(/(\r\n)|(\n)/g,"<br>"))}})]),s("div",{staticClass:"bottom clearfix"},[s("div",{staticClass:"size"},[e._v(e._s("宽高: "+e.width+" x "+e.height+" ("+e.picture.image_url.substring(e.picture.image_url.lastIndexOf(".")+1)+")"))]),s("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){return e.showEditPicture()}}},[e._v("编辑")]),s("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){return e.delPicture()}}},[e._v("删除")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"button",attrs:{type:"text"},on:{click:e.download}},[e._v("下载")]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.picture.image_url,placement:"top"}},[s("el-button",{staticClass:"button btnLink",attrs:{type:"text",id:"btnLink-"+e.picture._id},on:{click:e.copyLink}},[e._v("复制链接")])],1)],1)],1)],1)],1)}),[],!1,null,"3ed7ad70",null);t.default=c.exports},"8e8a":function(e,t,s){"use strict";var n=s("1091");s.n(n).a},"8ea4":function(e,t,s){},"8f32":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAACalBMVEVHcEyIiIiIiIiKioqKioqZmZmKioqJiYmKioqKioqJiYmJiYmLi4uLi4uJiYmJiYmJiYmJiYmKioqKioqJiYmKioqJiYmGhoaKioqKioqJiYmKioqJiYmKioqKiop/f3+JiYmKioqJiYmJiYmJiYmKioqJiYmJiYmJiYmKioqJiYmJiYmKioqJiYmJiYmJiYmKioqJiYmKioqKioqLi4uJiYmMjIyKioqKioqIiIiJiYmHh4eKioqJiYl/f3+KioqKioqKioqQkJCJiYmLi4uJiYmJiYmKioqJiYmIiIiJiYmJiYmJiYmKioqHh4eJiYmKioqKioqJiYmIiIiKioqKioqJiYmJiYmRkZGKioqLi4uJiYmJiYl1dXWKioqKioqKioqKioqKioqIiIiGhoaKioqIiIiKioqKioqJiYmJiYmJiYmLi4uJiYmJiYmLi4uIiIiJiYmKioqKioqIiIiJiYmKioqKioqKioqLi4uKioqJiYmKioqJiYmJiYmJiYmJiYmJiYmKioqJiYmLi4uJiYmKioqKioqJiYmJiYmJiYmJiYmNjY2KioqLi4uKioqKioqJiYmKioqKioqEhISQkJCHh4eJiYmKioqJiYmJiYmKioqKioqJiYmJiYmHh4eKioqLi4uJiYmKioqKioqKioqKioqKioqLi4uRkZGJiYmKioqJiYmfn5+JiYmKioqKioqCgoJ/f3+JiYmJiYmOjo6KioqIiIiJiYmKioqMjIyKioqJiYmKioqKioqKioqFhYWJiYmIiIiKioqIiIiJiYmIiIiMjIyIiIiNjY2JiYmJiYmKioqKioo8bRpeAAAAzXRSTlMAbxwuUAUhi7VS6D1dKiXTNOHOF6zkYhNndEHsp9uvCka+mpJ8mUq9PP3GZjBZ5HP5uHj1H4AzyoQ4jUDBugG4kJ0LTjeesGuVD6Nd7/AvtcOBykVUomzqDrEghswEP0g5JtYpCFoU2abRh4kj7r9LeYTGnitj/lW8QuHdcILx3sXPQ8hXapXC1/T3TBKqj/vS5qizGxcz3Kvr1brqfvgR5hb62pNP8o8sB/bUqwiYrfcNApahGXtfJ4tF6P59d98dzlKXS6WiHWEvw8E71a9eRQAAB5hJREFUeNrdnWl7jVcUhrckEonMhJhDIoJIGkIoSkwRUwyVGmpKYo4pZmKeqoYqami0aLVmQdHSUqo6v/+pH1TXavI+59Na+7pW7x9wP9dKznnPOXvtvbZzmiT2XP3ezYFDjer/5fbI4DVFtQb1RPXU4A1pWeb0RHJKQCQUG9MTc9IDTpwtPRFV8p+g4G60JT3RZnfQhMG6+pU6dSwZ1jQoeKmrb1Spo3xLs6DgmK5+uUYdo4qaBwXDdfU3FOq4fiokKLiiq0+Rr+N+17CgYKKu/o58IbdCg4JoXX2meB2dw4PqdPWT8qXrmBkeFMTr6ltI1zEWBL3S1XeVrqMHCKraYEFPHARBXX63oCeyQVBaqgU98TYIKlhoQU+sAEEJrS3oiXUgaNVWC3piIAj6OsuCnngEgj5cY0FPPANBH8VY0BOFICh414KeaIGC+lnQEwdQUKIFPdEXBbWzoCfaoaBMC3piIgoqs6An+qGgegt6YjMK6mBBT8T0BkFrLeiJI2+BoM8s6IkFN0DQDgt6Yu9kELTCgp6Y3wkExVnQE38lgKCRFvTEmAwQNN6CnjjzIwjqaUFPRJ8FQWMt6ImkKhA004KeWHQCBHW2oCdiX4Cgtu8Y0BO/loCgcS0N6ImHdSCoVTcDemLJnyBoeLkBPXGxFwjq3t6Anhg1AgT90caAnqipAEF1UQb0xLxxIOj9WAN6xjkQlJ5sQU+ADnfwaZIFPTEBBC2dYkFPrAdBuwZZ0BOow50xxIKe+AZ1IvMs6AnU4e7U0YKeQB3uyU8s6ImVIGhArgU9MRgEffGVBT0xDQRtiregJ3LQyv5+C3qiv24nUllPdEBBv1nQE7DD3deCnihDQQcs6InMQHVLp7Ke2IiCCi3oiW9RUH8LemIxCsqxoCf2o6BpFvTETz+AoLkW9MRo1OF+bEFPLBgAgq5a0BMzdoKgKxb0REfU4b5jQU+0/h4ElVrQE0MKQNADC3oiNQ0ELbOgJ/K7gKBjFvTEtQ/Q0Z+WBvTEdykg6FSNAT1Rmw6CRswyoCeKp4OgXu0N6InTfUDQsE8M6InLh0BQnygDeuJodxA0fY4BPXFvOAjak2xAT3RrBYJSqg3oiZazUScy2oCeeKctCNp+xoCeEQeCto2xoCeGgqCP8yzoGUXhQRfmm9AT8WD2wAwTekb4IdjDuTb0jNBn/OejjegZl0KCesdb0TMKdJMKvBXSqPu/b/T20srRfTfmeHuzx+g+H2O8PX7RJ9Z5oa05vXT1/8evKNrf6o77+tIY4Xu2zIbCHbp6j798Vnj6YRXht+jNJNUX703pPb1ulvLqwEhPiw8R1mtKZDamH9TVe1xB6+FpgS7CmuYhmTXNsbp6RnGJ7irzBE+L2M7V7tFd9z/pqa3gXDXqxFTIHDlr1NUzlHtj8MyOdOstQrfyloi+pkhVz1HuH8MP3mXilSxEHf1fRPTth6nqOcp7LNrUedrC4VzHVarH+6Ome5oe4NyTnaoDF2LTPc1zcC4X7Qw7LqJflKKq58C9ejJDSTYs9TTzxLl43d2T+ds9bc6MsJ9VZnAP/LjaIV4J3GH8VObj6pKqngP3fK8V0c8/72l2VoRd+DLjxuC0pg7ilSifi4Dzs8QHdbtKVInMSD440axMvJJ63bNDMZs8HU2KcJpLZmzlZl09Zy2KkrkqYbGunvMURcmMdk3U1XPgGVSZYbsbdfWcubqngg/4OnTs3GN0TvtnEX0LXT3nKojamSWiL9TVc5RnGTzzNSrBuZdouoTMGP0cXT2nVHfexzRf40RwV2BXquqjUUjPQV2BL2Vm4sTp6jkndacUHfc1BMk51I5fvkhEP15Xz9Ce5NXT16AwV4Pa8fueqz5QhPSMUagrMFVm2t1MXT1De/5gZ109YwnqbzSUqz5QGsqlK3mI2vEyMzrnzVbVc56j/sZskY7m7QpVPQf2N2Tm2N5rUNVz4GThkyL6o6tV9Zwk1I6fIKJvftesqJ4zBbXj14voo0pU9ZxBaB56DxH9nHRVPWcMascfFNEnn1DVc/LQnQHZum/DbPFK4C0OMsNNppz1NDtF/V6NQdtU9RzYqZG5+HtIhqqes0b37pnWF1T1HHgbkMyQrK2TPM3gUr+fKeuwt4Yp7NTU675468UrgXeYVeq+eCvFK1G+VW6zrp6jfM/fYn8N0zLdjuZEfw1T5bswN/prmCrfTpqpq+egcbdC98VW6uo5qOckdINvoa6eo3yn8jNdPQcN6Ra65fqRrp6zUrejOdBfwxQNss9YqPovF9Jz0CG9tFQRfZyunoMue+iSL6K/qqvnoEN6VRtE9Fd09Rx0IcorGf0ddLZJvBDYPROaV1HqbWcq6p7VCekfgNEL8m8TdI2T1OH1Zd7+Jfe76m6BPeep5eDc9QrVk0fh+xaqFAoJv3yuQe4PFbZvYYBGIa58S/MkwRs/w/YtvFApJKwdL3kU7GJ3DycyX9O8D7hOUn95qv4a/T807QPelZ24cXqfqp7TpA8ofaCtWFfPSebHDROKpfW1y1X1nGp6Ie/aq6CnjQWTjzhVbr/5pdUqVsX/5tdvlzynTWLp7vNns3O19EPHr76Qcaz+mnPO/Q0wY+VGR8Ce/AAAAABJRU5ErkJggg=="},"8f72":function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i=s("c944"),o=s("0d3f"),r=s("5017"),c=s("ea14"),l=s("f016"),u=s("c9d1"),d=s("20cc"),f={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{ListenForImg:i.default,ListenForSentence:o.default,FillGap:r.default,FollowRead:c.default,MakeSentence:l.default,listenAnswerQuestion:u.default,question:d.default},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.content_type})),s="";return t&&(s=t.name),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},m=(s("81f9"),s("4023")),h=Object(m.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("span",[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)]),s("div",{staticClass:"form"},["listenForImg"==e.form.content_type?s("listen-for-img",{attrs:{form:e.form}}):e._e(),"listenForSentence"==e.form.content_type?s("listen-for-sentence",{attrs:{form:e.form}}):e._e(),"fillGap"==e.form.content_type?s("fill-gap",{attrs:{form:e.form}}):e._e(),"followRead"==e.form.content_type?s("follow-read",{attrs:{form:e.form}}):e._e(),"makeSentence"==e.form.content_type?s("make-sentence",{attrs:{form:e.form}}):e._e(),"listenAnswerQuestion"==e.form.content_type?s("listen-answer-question",{attrs:{form:e.form}}):e._e(),"question"==e.form.content_type?s("question",{attrs:{form:e.form}}):e._e()],1)])}),[],!1,null,"424e8252",null);t.default=h.exports},"8fad":function(e,t,s){"use strict";var n=s("30bd");s.n(n).a},"8fc3":function(e,t,s){},"8fc3d":function(e,t,s){"use strict";var n=s("ad94");s.n(n).a},9067:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3");var n=s("0eaa"),a=s("391c"),i=s.n(a),o=s("ae8c"),r={props:["form"],data:function(){return{isPlay:!1,curForm:this.form.data[0],curIndex:0,addCorrect:!1,addWrong:!1,current:0,audio:new Audio}},computed:Object(n.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain}})),created:function(){var e=this;this.$on("init",(function(){e.curForm=e.form.data[0],e.forms=e.getForms(),e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},methods:{check:function(e,t){var s=this;return this.current=t,this.curForm.uuid!==e.uuid?(this.addWrong=!0,setTimeout((function(){s.addWrong=!1}),500),!1):(this.curIndex===this.form.data.length-1?this.curIndex=t:this.curIndex++,this.addCorrect=!0,setTimeout((function(){s.addCorrect=!1}),500),e.uuid!==this.form.data[this.form.data.length-1].uuid&&(this.curForm=this.form.data[this.curIndex],void this.playVoice()))},playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.curForm.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},getForms:function(){var e=this.curForm,t=[e],s=this.form.data.filter((function(t){return t.sentence!==e.sentence}));return t=t.concat(i.a.sampleSize(s,1)),i.a.shuffle(t)}}},c=(s("39bf"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["choice-container",e.form.type]},[s("div",{staticClass:"sentence-box"},[s("a",{staticClass:"text-box",on:{click:e.playVoice}},[e._m(0),s("span",[e._v(e._s(e.curForm.sentence))])])]),s("div",{staticClass:"choice-form-box"},e._l(e.form.data,(function(t,n){return s("div",{key:n,ref:"form"+t.uuid,refInFor:!0,staticClass:"choice-item img-box",class:[{correct:e.current==n&&e.form.sentence==e.curForm.sentence&&e.addCorrect},{wrong:e.current==n&&e.form.sentence!==e.curForm.sentence&&e.addWrong}]},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+t.image,"imageView2/1/format/jpg"),alt:""},on:{click:function(s){return e.check(t,n)}}})])})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"trumpet"},[t("i")])}],!1,null,"200eb21c",null);t.default=l.exports},"90b2":function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("3466"),s("fe59"),s("ecb4"),s("6ae3"),s("ea69"),s("053b"),s("e18c"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("c52d"),o=s("de52"),r=s.n(o),c=s("2480"),l=s("0470"),u=s("cabd"),d=s("c24f"),f=s("ae8c"),m={data:function(){return{flag:"",code:"",roomInfo:{},langList:[],disChannels:[],uploadField:"",token:"",dialogImageUrl:"",dialogVisible:!1,isDoubleHit:!1,published:"N",excludeDates:[],basicCourses:[],teacherList:[],userList:[],form:{moduleName:"",level:0,basicContentLevel:"",basicCourseCode:"",basicChapterCover:"",basicProfilePhoto:"",dateNotice:"",coverV2:"",lanCode:"ALL",money:0,moneyDiscount:0,teacherPhoto:"",selTeacher:"",liveUserUUID:"",teacherName:"",teacherDesc:"",finishTitle:"",finishInfo:"",weixinNo:"",videoUrl:"",videoCoverUrl:"",shareBgUrl:"",shareTitle:"",shareDesc:"",sharePoster:[],posters:[],date:[],exclude_dates:[],time:[new Date,new Date],liveRate:[{id:"1",text:"一",selected:!1},{id:"2",text:"二",selected:!1},{id:"3",text:"三",selected:!1},{id:"4",text:"四",selected:!1},{id:"5",text:"五",selected:!1},{id:"6",text:"六",selected:!1},{id:"0",text:"日",selected:!1}],courses:[],courseSlice:0,tagKeys:["course_listLive"]}}},mounted:function(){var e=this;Object(u.getInfoTokenUploadFile)().then((function(t){e.token=t.data.token})),Object(u.getDisChannelList)().then((function(t){e.disChannels=t.data.channels.filter((function(e){return e.uuid.toLowerCase().indexOf("live")>-1}))})),this.langList=[],Object(u.getLangList)({pageNo:0,pageSize:999}).then((function(t){var s=t.data.langs;s=s.sort((function(e,t){return e.is_hot>t.is_hot?-1:e.is_hot<t.is_hot?1:0})),e.langList.push({lan_code:"ALL",title:{en:"All","zh-CN":"所有语种"}}),e.langList=[].concat(Object(i.a)(e.langList),Object(i.a)(s))})),Object(u.getTeacherList)({page_index:1,page_size:100,status:3}).then((function(t){t.success&&t.data&&(e.teacherList=t.data)})),Object(d.getUserList)({page:1,pageSize:999}).then((function(t){e.userList=t.data.userList.filter((function(e){return"131"===e.authorityId}))})),this.flag=this.$route.query.flag,"edit"===this.flag&&this.initEditInfo()},computed:Object(a.a)({},Object(f.e)({locale:function(e){return e.course.locale},livePrices:function(e){return e.course.livePrices},uploadfileDomain:function(e){return e.course.uploadfileDomain}})),methods:{initEditInfo:function(){var e=this,t=localStorage.getItem("storage_liveRooms");if(t){t=JSON.parse(t),this.roomInfo=t.room,this.published=this.roomInfo.published,this.code=this.roomInfo.code,this.form.moduleName=this.roomInfo.module_name,this.form.lanCode=this.roomInfo.lan_code,this.form.tagKeys=this.roomInfo.tag_keys,this.form.coverV2=this.roomInfo.cover_v2,this.form.money=this.roomInfo.money,this.form.moneyDiscount=this.roomInfo.moneyDiscount,this.form.level=this.roomInfo.liveInfo.level,this.form.basicCourseCode=this.roomInfo.liveInfo.basicCourseCode,this.form.basicContentLevel=this.roomInfo.liveInfo.basicContentLevel,this.form.basicChapterCover=this.roomInfo.liveInfo.basicChapterCover,this.form.basicProfilePhoto=this.roomInfo.liveInfo.basicProfilePhoto,this.form.dateNotice=this.roomInfo.liveInfo.dateNotice,this.form.teacherPhoto=this.roomInfo.liveInfo.tech_photo,this.form.selTeacher=this.roomInfo.user_id,this.form.liveUserUUID=this.roomInfo.liveInfo.liveUserUUID,this.form.teacherName=this.roomInfo.liveInfo.tech_name,this.form.teacherDesc=this.roomInfo.liveInfo.tech_desc,this.form.weixinNo=this.roomInfo.liveInfo.weixinNo,this.form.finishTitle=this.roomInfo.liveInfo.finishTitle,this.form.finishInfo=this.roomInfo.liveInfo.finishInfo,this.form.videoUrl=this.roomInfo.liveInfo.videoUrl,this.form.videoCoverUrl=this.roomInfo.liveInfo.videoCoverUrl,this.form.shareBgUrl=this.roomInfo.liveInfo.shareBgUrl,this.form.shareTitle=this.roomInfo.liveInfo.shareTitle,this.form.shareDesc=this.roomInfo.liveInfo.shareDesc,this.form.sharePoster=this.roomInfo.liveInfo.sharePoster;var s=[];this.roomInfo.liveInfo.posters.forEach((function(t){s.push({name:t,url:e.uploadfileDomain+t})})),this.form.posters=s,this.form.date.push(this.roomInfo.liveInfo.startDate),this.form.date.push(this.roomInfo.liveInfo.endDate),this.excludeDates=[],this.roomInfo.liveInfo.exclude_dates&&this.roomInfo.liveInfo.exclude_dates.length>0&&this.roomInfo.liveInfo.exclude_dates.forEach((function(t){e.excludeDates.push(new Date(t))})),this.form.time=[];var n=new Date(this.roomInfo.liveInfo.startDate+" "+this.roomInfo.liveInfo.startTime);this.form.time[0]=this.isValidDate(n)?n:new Date;var a=new Date(this.roomInfo.liveInfo.startDate+" "+this.roomInfo.liveInfo.endTime);this.form.time[1]=this.isValidDate(a)?a:new Date,this.roomInfo.liveInfo.weekDays&&this.roomInfo.liveInfo.weekDays.length&&this.roomInfo.liveInfo.weekDays.forEach((function(t){var s=e.form.liveRate.findIndex((function(e){return e.id===t}));e.form.liveRate[s].selected=!0})),this.form.courses=[],t.courses.forEach((function(t){var s=t,n=-1===t.state?t.realStartTime:t.startTime,a=-1===t.state?t.realEndTime:t.EndTime;s.times=[new Date(1e3*n),new Date(1e3*a)],s.week=e.form.liveRate.find((function(e){return e.id===r()(new Date(t.date)).day()+""})).text,e.form.courses.push(s),e.form.courses=e.form.courses.sort((function(e,t){return e.listOrder-t.listOrder}))}))}this.loadBasicCourses(),this.sortCourses()},loadBasicCourses:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ALL"===e.form.lanCode){t.next=7;break}return t.next=3,Object(u.getCourseList)({lan_code:e.form.lanCode,pageNo:0,pageSize:0});case 3:(s=t.sent).success&&(e.basicCourses=[],e.basicCourses.push({code:"",title:{en:"NONE","zh-CN":"无"}}),e.basicCourses=[].concat(Object(i.a)(e.basicCourses),Object(i.a)(s.data.courses))),t.next=12;break;case 7:e.form.basicCourseCode="",e.form.basicContentLevel="",e.form.basicChapterCover="",e.form.basicProfilePhoto="",e.basicCourses=[];case 12:case"end":return t.stop()}}),t)})))()},onSubmit:function(){var e=this,t="";if(""===t&&0===this.form.level&&(t="请选择定级"),""!==this.form.basicCourseCode?(""===t&&""===this.form.basicContentLevel&&(t="请选择课程级别"),""===t&&""===this.form.basicChapterCover&&(t="请上传首页封面"),""===t&&""===this.form.basicProfilePhoto&&(t="请上传结束页头像")):(""===t&&0===this.form.date.length&&(t="请选择直播日期"),""===t&&0===this.form.time.length&&(t="请选择直播时间")),""===t&&""!==this.form.videoUrl&&""===this.form.videoCoverUrl&&(t="请上传视频封面"),""===t&&""===this.form.videoUrl&&""!==this.form.videoCoverUrl&&(t="请上传宣传视频"),""===t&&this.form.courses.filter((function(e){return""===e.title})).length>0&&(t="请完善课程信息"),""!==t)return this.$message({type:"warning",message:t}),!1;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){var n,a,i,o,c,d,f,m,h,p,v,g,b,w,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=44;break}"add"===e.flag&&(e.isDoubleHit=!0,setTimeout((function(){e.isDoubleHit=!1}),2e3)),n=[],e.form.courses.forEach((function(t){var s=new Date(r()(t.date).format("YYYY-MM-DD")+" "+r()(t.times[0]).format("HH:mm:ss")).getTime()/1e3,a={EndTime:new Date(r()(t.date).format("YYYY-MM-DD")+" "+r()(t.times[1]).format("HH:mm:ss")).getTime()/1e3,courseCode:e.code,cover:e.form.coverV2,date:r()(t.date).format("YYYY-MM-DD"),lanCode:e.form.lanCode,listOrder:t.listOrder,livePullUrl:t.livePullUrl?t.livePullUrl:"",livePushUrl:t.livePushUrl?t.livePushUrl:"",realEndTime:t.realEndTime?t.realEndTime:0,realStartTime:t.realStartTime?t.realStartTime:0,startTime:s,finishTitle:t.finishTitle?t.finishTitle:"",finishInfo:t.finishInfo?t.finishInfo:"",weixinNo:t.weixinNo?t.weixinNo:"",title:t.title,uuid:t.uuid,state:t.state};n.push(a)})),a=[],e.form.liveRate.forEach((function(e){e.selected&&a.push(e.id)})),i=[],o=0;case 8:if(!(o<e.form.posters.length)){t.next=25;break}if(!(c=e.form.posters[o]).raw){t.next=21;break}return d=r()(new Date).format("YYYY/MM/DD"),f=c.name.lastIndexOf("."),m=c.name.substring(f+1),h="live/images/"+d+"/"+c.uid+"."+m,t.next=17,Object(l.uploadQiniu)(c.raw,e.token,h);case 17:p=t.sent,i.push(p.key),t.next=22;break;case 21:i.push(c.name);case 22:o++,t.next=8;break;case 25:v=0;case 26:if(!(v<i.length)){t.next=37;break}return(g=i[v]).indexOf("?")>-1&&(g=g.split("?")[0]),t.next=31,e.imgOnload(g);case 31:b=t.sent,g+="?w="+b.width+"&h="+b.height,i[v]=g;case 34:v++,t.next=26;break;case 37:w=[],e.excludeDates&&e.excludeDates.length>0&&e.excludeDates.forEach((function(e){w.push(r()(e).format("YYYY-MM-DD HH:mm:ss"))})),y={courses:n,room:{code:e.code,course_type:6,cover:e.form.teacherPhoto,cover_v2:e.form.coverV2,lan_code:e.form.lanCode,liveInfo:{endDate:r()(e.form.date[1]).format("YYYY-MM-DD"),endTime:r()(e.form.time[1]).format("HH:mm:ss"),posters:i,startDate:r()(e.form.date[0]).format("YYYY-MM-DD"),startTime:r()(e.form.time[0]).format("HH:mm:ss"),exclude_dates:w,tech_desc:e.form.teacherDesc,tech_name:e.form.teacherName,tech_photo:e.form.teacherPhoto,weixinNo:e.form.weixinNo,finishTitle:e.form.finishTitle,finishInfo:e.form.finishInfo,videoUrl:e.form.videoUrl,videoCoverUrl:e.form.videoCoverUrl,shareBgUrl:e.form.shareBgUrl,shareTitle:e.form.shareTitle,shareDesc:e.form.shareDesc,sharePoster:e.form.sharePoster,weekDays:a,level:e.form.level,basicCourseCode:e.form.basicCourseCode,basicContentLevel:e.form.basicContentLevel,basicChapterCover:e.form.basicChapterCover,basicProfilePhoto:e.form.basicProfilePhoto,dateNotice:e.form.dateNotice,liveUserUUID:e.form.liveUserUUID},module_name:e.form.moduleName,money:e.form.money,moneyDiscount:e.form.moneyDiscount,money_type:"CNY",tag_keys:e.form.tagKeys,user_id:e.form.selTeacher}},"add"===e.flag?(e.isDoubleHit=!0,setTimeout((function(){e.isDoubleHit=!1}),2e3),Object(u.addLive)(y).then((function(t){t.success&&(e.$message({type:"success",message:"添加成功!"}),e.$router.push({name:"live-list"}))}))):Object(u.editLive)(y).then((function(t){t.success&&(e.$message({type:"success",message:"修改成功!"}),e.$router.push({name:"live-list"}))})),t.next=46;break;case 44:return t.abrupt("return",!1);case 46:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},selLiveRate:function(e){if(this.form.courses.length&&this.form.courses.filter((function(e){return 1===e.state||-1===e.state})).length)return this.$message({type:"warning",message:"直播课程已经开始，不能调整直播频率！"}),!1;var t=parseInt(e.id),s=e.selected;0===t&&(t=7),this.form.liveRate[t-1].selected=!s},changeDate:function(){},generateCourses:function(){var e=this;if(this.form.date.length&&this.form.liveRate.filter((function(e){return e.selected})).length){var t=new Date(this.form.date[0]).getTime(),s=new Date(this.form.date[1]).getTime(),n=0,a="";this.excludeDates&&this.excludeDates.length>0&&this.excludeDates.forEach((function(t,s){a+=r()(t).format("YYYY-MM-DD"),e.excludeDates.length-1!==s&&(a+=",")}));for(var i=function(t){if(e.form.liveRate.filter((function(e){return o=t,e.selected&&e.id===r()(t).day()+""})).length)if(e.form.courses.length>n)if(a&&a.indexOf(r()(t).format("YYYY-MM-DD"))>-1){var s=e.form.courses.findIndex((function(e){return e.date===r()(t).format("YYYY-MM-DD")}));s>-1&&e.form.courses.splice(s,1)}else e.form.courses[n].date=r()(t).format("YYYY-MM-DD"),e.form.courses[n].week=r()(t).day(),n++;else{var i={date:r()(t).format("YYYY-MM-DD"),week:r()(t).day(),title:"",uuid:""};""!==a&&-1!==a.indexOf(r()(t).format("YYYY-MM-DD"))||(e.form.courses.push(i),n++)}o=t+=864e5},o=t;o<=s;)i(o);this.form.courseSlice=n}},setUploadField:function(e){this.uploadField=e},uploadOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var a,i,o,c,u,d,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=s.uploadField.split(","),i=a[0],o=a[1],c=r()(new Date).format("YYYY/MM/DD"),u=e.name.lastIndexOf("."),d=e.name.substring(u+1),f="","audio"===i?f="live/sounds/"+c+"/"+e.uid+"."+d:"image"===i?f="live/images/"+c+"/"+e.uid+"."+d:"video"===i&&(f="live/videos/"+c+"/"+e.uid+"."+d),"posters"!==o){n.next=11;break}return s.form.posters=t,n.abrupt("return",!1);case 11:return n.next=13,Object(l.uploadQiniu)(e.raw,s.token,f);case 13:m=n.sent,s.$set(s.form,o,m.key);case 15:case"end":return n.stop()}}),n)})))()},isValidDate:function(e){return e instanceof Date&&!isNaN(e.getTime())},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove:function(e,t){this.form.posters=this.form.posters.filter((function(t){return t.name!==e.name}))},imgOnload:function(e){var t=this;return new Promise((function(s,n){var a=new Image;a.src=t.uploadfileDomain+e,a.onload=function(){s(a)},a.onerror=function(){n(new Error("图片加载失败"))}}))},changeExcludeDates:function(){},changeLangCode:function(){this.loadBasicCourses()},changeBasicCourse:function(){""===this.form.basicCourseCode&&(this.form.basicContentLevel="",this.form.basicChapterCover="",this.form.basicProfilePhoto="")},minusCourse:function(e){this.form.courses.splice(e,1)},plusCourse:function(){var e="add"===this.flag?r()(new Date).format("YYYY-MM-DD")+" "+r()(this.form.time[0]).format("HH:mm:ss"):r()(new Date).format("YYYY-MM-DD")+" "+this.roomInfo.liveInfo.startTime,t="add"===this.flag?r()(new Date).format("YYYY-MM-DD")+" "+r()(this.form.time[1]).format("HH:mm:ss"):r()(new Date).format("YYYY-MM-DD")+" "+this.roomInfo.liveInfo.endTime,s={EndTime:new Date(t).getTime()/1e3,date:r()(new Date).format("YYYY-MM-DD"),startTime:new Date(e).getTime()/1e3,listOrder:this.form.courses.length+1,state:0,title:"",uuid:""};s.times=[new Date(e),new Date(t)],this.form.courses.push(s)},sortCourses:function(){var e=this,t=document.getElementById("course-list"),s=new c.a(t,{animation:0,onEnd:function(t){var n=[],a=e.form.courses;s.toArray().forEach((function(e,t){var s=a[parseInt(e)];s.listOrder=t+1,n.push(s)})),e.form.courses=[],setTimeout((function(){e.$set(e.form,"courses",n)}),0)}})}}},h=(s("8a6b"),s("e785"),s("4023")),p=Object(h.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-container"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[s("div",{staticClass:"basic-info"},[s("div",{staticClass:"title"},[e._v("基础信息")]),s("el-form-item",{attrs:{label:"专辑名称",prop:"moduleName",rules:[{required:!0,message:"专辑名称不能为空"}]}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.form.moduleName,callback:function(t){e.$set(e.form,"moduleName",t)},expression:"form.moduleName"}})],1),s("el-form-item",{attrs:{label:"定级",prop:"level",rules:[{required:!0,message:"请选择定级"}]}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择定级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[s("el-option",{attrs:{label:"无",value:0}}),s("el-option",{attrs:{label:"1级",value:1}}),s("el-option",{attrs:{label:"2级",value:2}}),s("el-option",{attrs:{label:"3级",value:3}})],1),s("br"),s("el-tag",{attrs:{type:"warning"}},[e._v("1级（全球说官方、签约大V、知名学者等）、2级（网红小V、兼职教师等）、3级（其他）")])],1),s("el-form-item",{attrs:{label:"所属语种"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择所属语种"},on:{change:e.changeLangCode},model:{value:e.form.lanCode,callback:function(t){e.$set(e.form,"lanCode",t)},expression:"form.lanCode"}},e._l(e.langList,(function(t){return s("el-option",{key:t.lan_key,attrs:{label:t.title[""+e.locale],value:t.lan_code}})})),1)],1),s("el-form-item",{attrs:{label:"官方课程"}},[s("el-select",{attrs:{filterable:""},on:{change:e.changeBasicCourse},model:{value:e.form.basicCourseCode,callback:function(t){e.$set(e.form,"basicCourseCode",t)},expression:"form.basicCourseCode"}},e._l(e.basicCourses,(function(t){return s("el-option",{key:t.code,attrs:{label:t.title[""+e.locale],value:t.code}})})),1)],1),s("el-form-item",{attrs:{label:"课程级别"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择课程级别"},model:{value:e.form.basicContentLevel,callback:function(t){e.$set(e.form,"basicContentLevel",t)},expression:"form.basicContentLevel"}},[s("el-option",{attrs:{label:"无",value:""}}),s("el-option",{attrs:{label:"L1",value:"L1"}}),s("el-option",{attrs:{label:"L2",value:"L2"}}),s("el-option",{attrs:{label:"L3",value:"L3"}}),s("el-option",{attrs:{label:"L4",value:"L4"}}),s("el-option",{attrs:{label:"L5",value:"L5"}}),s("el-option",{attrs:{label:"L6",value:"L6"}})],1)],1),s("el-form-item",{attrs:{label:"首页封面"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,basicChapterCover")}}},[e.form.basicChapterCover?s("img",{staticClass:"cover",attrs:{src:e.uploadfileDomain+e.form.basicChapterCover}}):s("i",{staticClass:"el-icon-plus cover-uploader-icon"})])]),s("el-tag",{attrs:{type:"warning"}},[e._v("注：直播跟官方课程相关，需要在学习首页展示")])],1),s("el-form-item",{attrs:{label:"学习结束页头像"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,basicProfilePhoto")}}},[e.form.basicProfilePhoto?s("img",{staticClass:"cover",attrs:{src:e.uploadfileDomain+e.form.basicProfilePhoto}}):s("i",{staticClass:"el-icon-plus cover-uploader-icon"})])]),s("el-tag",{attrs:{type:"warning"}},[e._v("注：直播跟官方课程相关，需要在学习结束页展示")])],1),s("el-form-item",{attrs:{label:"发现频道",prop:"tagKeys",rules:[{type:"array",required:!0,message:"频道至少选择一个",trigger:"change"}]}},[s("el-checkbox-group",{model:{value:e.form.tagKeys,callback:function(t){e.$set(e.form,"tagKeys",t)},expression:"form.tagKeys"}},e._l(e.disChannels,(function(t,n){return s("el-checkbox",{key:t.uuid+n,attrs:{label:t.uuid,name:"tagKeys"}},[e._v(e._s(t.title["zh-CN"]+" ("+("index"==t.showPos?"发现首页":"列表页")+")"))])})),1)],1),s("el-form-item",{attrs:{label:"专辑封面",prop:"coverV2",rules:[{required:!0,message:"专辑封面不能为空"}]}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,coverV2")}}},[e.form.coverV2?s("img",{staticClass:"cover",attrs:{src:e.uploadfileDomain+e.form.coverV2}}):s("i",{staticClass:"el-icon-plus cover-uploader-icon"})])]),s("el-tag",{attrs:{type:"warning"}},[e._v("注：专辑封面将在发现页大图、课程详情页上方播放器和课程列表处展示")])],1),s("el-form-item",{attrs:{label:"专辑价格"}},[s("div",{staticClass:"price-item"},[s("el-form-item",{attrs:{label:"原价：",prop:"money",rules:[{required:!0,message:"原价不能为空"}]}},[s("el-select",{attrs:{filterable:""},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}},e._l(e.livePrices,(function(e){return s("el-option",{key:"money-"+e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),s("div",{staticClass:"price-item"},[s("el-form-item",{attrs:{label:"折后价：",prop:"moneyDiscount",rules:[{required:!0,message:"折后价不能为空"}]}},[s("el-select",{attrs:{filterable:""},model:{value:e.form.moneyDiscount,callback:function(t){e.$set(e.form,"moneyDiscount",t)},expression:"form.moneyDiscount"}},e._l(e.livePrices,(function(e){return s("el-option",{key:"moneyDiscount-"+e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),s("el-tag",{attrs:{type:"warning"}},[e._v("注：折后价必须小于等于原价，折后价等于原价说明”不打折“，折后价等于0说明”0元限免“")])],1),s("el-form-item",{attrs:{label:"讲师照片",prop:"teacherPhoto",rules:[{required:!0,message:"讲师照片不能为空"}]}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,teacherPhoto")}}},[e.form.teacherPhoto?s("img",{staticClass:"teacher",attrs:{src:e.uploadfileDomain+e.form.teacherPhoto}}):s("i",{staticClass:"el-icon-plus teacher-uploader-icon"})])]),s("el-tag",{attrs:{type:"warning"}},[e._v("注：讲师照片将在发现页小图和分类课程-直播处展示")])],1),s("el-form-item",{attrs:{label:"直播老师(app)",prop:"selTeacher"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择直播老师"},model:{value:e.form.selTeacher,callback:function(t){e.$set(e.form,"selTeacher",t)},expression:"form.selTeacher"}},e._l(e.teacherList,(function(e){return s("el-option",{key:e.user_id,attrs:{label:e.live_nickname,value:e.user_id}})})),1)],1),s("el-form-item",{attrs:{label:"直播老师(编辑器)",prop:"liveUserUUID"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择直播老师"},model:{value:e.form.liveUserUUID,callback:function(t){e.$set(e.form,"liveUserUUID",t)},expression:"form.liveUserUUID"}},e._l(e.userList,(function(e){return s("el-option",{key:e.uuid,attrs:{label:e.nickName,value:e.uuid}})})),1)],1),s("el-form-item",{attrs:{label:"讲师姓名",prop:"teacherName",rules:[{required:!0,message:"讲师姓名不能为空"}]}},[s("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.form.teacherName,callback:function(t){e.$set(e.form,"teacherName",t)},expression:"form.teacherName"}})],1),s("el-form-item",{attrs:{label:"讲师简介",prop:"teacherDesc",rules:[{required:!0,message:"讲师简介不能为空"}]}},[s("el-input",{staticStyle:{width:"600px"},attrs:{type:"textarea",maxlength:"500","show-word-limit":""},model:{value:e.form.teacherDesc,callback:function(t){e.$set(e.form,"teacherDesc",t)},expression:"form.teacherDesc"}})],1),s("el-form-item",{attrs:{label:"微信号",prop:"weixinNo",rules:[{required:!0,message:"微信号不能为空"}]}},[s("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.form.weixinNo,callback:function(t){e.$set(e.form,"weixinNo",t)},expression:"form.weixinNo"}})],1),s("el-form-item",{attrs:{label:"结束标题",prop:"finishTitle",rules:[{required:!0,message:"结束标题不能为空"}]}},[s("el-input",{attrs:{maxlength:"12","show-word-limit":""},model:{value:e.form.finishTitle,callback:function(t){e.$set(e.form,"finishTitle",t)},expression:"form.finishTitle"}})],1),s("el-form-item",{attrs:{label:"结束通知",prop:"finishInfo",rules:[{required:!0,message:"结束通知不能为空"}]}},[s("el-input",{staticStyle:{width:"600px"},attrs:{type:"textarea",maxlength:"90","show-word-limit":""},model:{value:e.form.finishInfo,callback:function(t){e.$set(e.form,"finishInfo",t)},expression:"form.finishInfo"}})],1),s("el-form-item",{attrs:{label:"宣传视频",prop:"videoUrl"}},[e.form.videoUrl?s("div",{staticClass:"video"},[s("video",{attrs:{src:e.uploadfileDomain+e.form.videoUrl,controls:""}})]):e._e(),s("el-upload",{attrs:{action:"#",accept:"video/mp4","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){return e.setUploadField("video,videoUrl")}}},[e._v("上传")])],1)],1),s("el-form-item",{attrs:{label:"视频封面",prop:"videoCoverUrl"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,videoCoverUrl")}}},[e.form.videoCoverUrl?s("img",{staticClass:"cover",attrs:{src:e.uploadfileDomain+e.form.videoCoverUrl}}):s("i",{staticClass:"el-icon-plus cover-uploader-icon"})])])],1),s("el-form-item",{attrs:{label:"课程海报",prop:"",rules:[{required:!0,message:"请上传课程海报"}]}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","list-type":"picture-card",accept:"image/png,image/jpg,image/jpeg","on-preview":e.handlePictureCardPreview,"on-change":e.uploadOnchange,"on-remove":e.handleRemove,"file-list":e.form.posters,"show-file-list":!0,"auto-upload":!1}},[s("div",{staticClass:"upload-area",on:{click:function(t){return e.setUploadField("image,posters")}}},[s("i",{staticClass:"el-icon-plus"})])]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),s("el-form-item",{attrs:{label:"直播日期",prop:"date",rules:[{type:"array",required:!0,message:"请选择直播日期",trigger:"change"}]}},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeDate},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),s("el-form-item",{attrs:{label:"排除日期"}},[s("el-date-picker",{attrs:{type:"dates",placeholder:"请选择要排除掉的日期"},on:{change:e.changeExcludeDates},model:{value:e.excludeDates,callback:function(t){e.excludeDates=t},expression:"excludeDates"}})],1),s("el-form-item",{attrs:{label:"直播时间",prop:"time",rules:[{type:"array",required:!0,message:"请选择直播时间",trigger:"change"}]}},[s("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),s("el-form-item",{attrs:{label:"直播频率"}},[s("div",{staticClass:"live-rate"},e._l(e.form.liveRate,(function(t){return s("div",{key:t.id,class:["item",{active:t.selected}],domProps:{textContent:e._s(t.text)},on:{click:function(s){return e.selLiveRate(t)}}})})),0)]),s("el-form-item",{attrs:{label:"日期描述"}},[s("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",maxlength:"100","show-word-limit":""},model:{value:e.form.dateNotice,callback:function(t){e.$set(e.form,"dateNotice",t)},expression:"form.dateNotice"}})],1)],1),s("div",{staticClass:"course-info"},[s("div",{staticClass:"title"},[e._v("课程信息")]),s("div",{staticClass:"course-list",attrs:{id:"course-list"}},e._l(e.form.courses,(function(t,n){return s("div",{key:n,staticClass:"course-item",attrs:{"data-id":n}},[s("div",{staticClass:"course-item-column"},[e._v(e._s("第"+(n+1)+"课 周"+e.form.liveRate.find((function(e){return e.id===new Date(t.date).getDay()+""})).text))]),s("div",{staticClass:"course-item-column"},[s("div",[s("el-date-picker",{staticClass:"date-picker",attrs:{disabled:-1===e.form.courses[n].state,size:"small",type:"date",placeholder:"选择日期"},model:{value:t.date,callback:function(s){e.$set(t,"date",s)},expression:"course.date"}}),s("el-time-picker",{attrs:{"is-range":"",disabled:-1===e.form.courses[n].state,size:"small","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.times,callback:function(s){e.$set(t,"times",s)},expression:"course.times"}})],1),s("div",{staticClass:"course-title"},[s("el-input",{attrs:{size:"small"},model:{value:e.form.courses[n].title,callback:function(t){e.$set(e.form.courses[n],"title",t)},expression:"form.courses[index].title"}})],1)]),s("div",{staticClass:"course-item-column"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.minusCourse(n)}}})],1)])})),0),s("div",{staticClass:"btn-plus-course"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:e.plusCourse}})],1)]),s("el-form-item",{staticClass:"btn-area"},[s("el-button",{attrs:{type:"primary",disabled:0==e.form.courses.length||e.isDoubleHit},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)}),[],!1,null,"b5ca3f1e",null);t.default=p.exports},"90c6":function(e,t,s){"use strict";s.r(t);var n=(s("1c46"),s("4023")),a=Object(n.a)({data:function(){return{showProcess1:!0,levelLists:[{text:""},{text:""},{text:""},{text:""},{text:""}]}},created:function(){var e=this;this.$bus.on("showProcess1",(function(){e.showProcess1=!0}))},methods:{add:function(){this.levelLists.push({text:""})},reduce:function(){this.levelLists.pop()},cancel:function(){this.$bus.emit("closeAdd")},nextBtn:function(){this.showProcess1=!1,this.$bus.emit("showProcess2")}},beforeDestroy:function(){this.$bus.off("showProcess1")}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showProcess1,expression:"showProcess1"}],staticClass:"process1"},[s("div",{staticClass:"process-header"},[s("span",{staticClass:"title"},[e._v("第1步：创建Level")]),s("div",{staticClass:"right"},[s("a",{staticClass:"reduce",attrs:{href:"javascript:;"},on:{click:function(t){return e.reduce()}}},[e._v("－")]),s("span",{staticClass:"num"},[e._v(e._s(e.levelLists.length))]),s("a",{staticClass:"add",attrs:{href:"javascript:;"},on:{click:function(t){return e.add()}}},[e._v("＋")])])]),s("div",{staticClass:"level-lists"},e._l(e.levelLists,(function(t,n){return s("div",{key:n,staticClass:"level-item"},[s("span",[e._v(e._s("level "+(n+1))+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"item.text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(s){s.target.composing||e.$set(t,"text",s.target.value)}}})])})),0),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.nextBtn()}}},[e._v("下一步")])])])}),[],!1,null,"3effbd4a",null);t.default=a.exports},"90db":function(e,t,s){},"90e5":function(e,t,s){"use strict";s.r(t),s("dbb3"),s("4194"),s("fe59"),s("6ae3"),s("77ad"),s("053b"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("cabd"),l=s("574d"),u=s("7da3"),d=s("d3c4"),f=s("8386"),m=s("4011"),h={data:function(){return{exportList:[],exportNum:0,courseList:[],selCourseList:[],isShow:!1}},components:{EditComp:l.default,ClassGroup:u.default,CourseDetail:d.default,UnlockCourse:f.default,Statistic:m.default},created:function(){var e=this;this.getLangList({pageNo:0,pageSize:999}).then((function(){e.initData()})),this.getCourseTypes()},computed:Object(a.a)(Object(a.a)({},Object(i.c)("user",["userInfo"])),Object(i.e)({assetsDomain:function(e){return e.course.assetsDomain},langList:function(e){return e.course.langList},langInfos:function(e){return e.course.langInfos},locale:function(e){return e.course.locale},courseTypes:function(e){return e.course.courseTypes},version:function(e){return e.course.version}})),methods:Object(a.a)(Object(a.a)({},Object(i.b)({getLangList:"course/getLangList",getCourseTypes:"course/getCourseTypes"})),{},{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.getCourseList)({lan_code:e.version.selLang,pageNo:0,pageSize:0});case 2:(s=t.sent).success&&(e.courseList=s.data.courses);case 4:case"end":return t.stop()}}),t)})))()},editCourse:function(e){var t={type:"edit",selLang:this.version.selLang,form:e};this.$refs.edit.show(t)},handleEdit:function(e){var t=this,s={editInfo:{course_type:e.course_type,cover:e.cover,desc:e.desc?e.desc:"",flag:e.flag?e.flag:"",is_show:!e.is_show,tags:[],title:e.title?e.title:""},uuid:e.uuid};Object(c.courseEdit)(s).then((function(e){e.success&&t.initData()}))},addCourse:function(){if(""===this.version.selLang)return this.$message({type:"info",message:"请选择语种！"}),!1;var e={type:"add",selLang:this.version.selLang};this.$refs.edit.show(e)},deleteCourse:function(e){var t=this;this.$confirm("此操作将永久删除该课程分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c.courseDel)({uuid:e}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.initData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},onlineCourse:function(e){var t=this;this.$confirm("确定要上线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=[];t.selCourseList.length&&t.selCourseList.forEach((function(t){e.push(t.code)})),Object(c.onlineCourses)(e).then((function(e){e.success&&(t.$message({type:"success",message:"上线成功!"}),t.selCourseList=[],t.initData())}))})).catch((function(){t.$message({type:"info",message:"已取消上线"})}))},curCourse:function(){this.initData()},imageUrl:function(e){return this.assetsDomain+e},select:function(e,t){this.selCourseList=e},selectAll:function(e){this.selCourseList=e},formatterCourseType:function(e){var t="",s=this.courseTypes.find((function(t){return t.type===e.course_type}));return s&&(t=s.name),t},classGroup:function(e){this.$refs.classGroup.show(e)},addDetail:function(e){this.$refs.courseDetail.show(e)},unlockCourse:function(e){this.$refs.unlockCourse.show(e)},handleStatistic:function(e){this.$refs.statistic.show(e)},refreshDownloadList:function(){var e=this;this.showExportList();var t=setInterval((function(){e.showExportList(),0===e.exportNum&&clearInterval(t)}),5e3)},formatDate:function(e,t,s,n){return r()(s).format("YYYY-MM-DD HH:mm")},showExportList:function(){var e=this;this.exportList=[],Object(c.exportCourseContentList)({code:this.version.selLang,pageNo:0,pageSize:999}).then((function(t){e.exportList=t.data.data.slice(0,5),e.exportNum=e.exportList.filter((function(e){return 2!==e.status})).length}))},handleDownload:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=document.createElement("a")).href=""+e.url,s.download=e.url.slice(e.url.lastIndexOf("/")+1),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s)}),1e3);case 6:case"end":return t.stop()}}),t)})))()}})},p=(s("ecbf"),s("bf2d"),s("4023")),v=Object(p.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"course-manage"},[s("div",{staticClass:"top-bar"},[s("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"请选择语种"},on:{change:e.curCourse},model:{value:e.version.selLang,callback:function(t){e.$set(e.version,"selLang",t)},expression:"version.selLang"}},[s("el-option",{attrs:{label:"所有语种",value:""}}),e._l(e.langList,(function(t){return s("el-option",{key:t.lan_code,attrs:{label:t.title[e.locale],value:t.lan_code}})}))],2),s("div",{staticClass:"right"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"课程数据下载列表",placement:"top"}},[s("el-popover",{staticClass:"tips",attrs:{placement:"bottom",width:"400",trigger:"click"},on:{show:e.showExportList}},[s("el-tag",{attrs:{type:"warning"}},[e._v("显示最新 5 条可下载的数据")]),s("el-table",{attrs:{data:e.exportList}},[s("el-table-column",{attrs:{property:"created_on",label:"创建日期",formatter:e.formatDate}}),s("el-table-column",{attrs:{property:"name",label:"标题"}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{disabled:2!==t.row.status,type:"text",size:"small"},on:{click:function(s){return e.handleDownload(t.row)}}},[e._v(e._s(2===t.row.status?"下载":"文件生成中..."))])]}}])})],1),s("el-badge",{staticClass:"item",attrs:{slot:"reference",value:e.exportNum,hidden:0==e.exportNum,type:"warning"},slot:"reference"},[s("el-button",{attrs:{size:"small",icon:"el-icon-message-solid",type:"primary",circle:""}})],1)],1)],1),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.addCourse}},[e._v("添加")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],staticClass:"btnOnline",staticStyle:{outline:"none"},attrs:{type:"success"},on:{click:e.onlineCourse}},[e._v("批量上线")])],1)],1),s("el-table",{staticClass:"course-table",staticStyle:{width:"100%"},attrs:{data:e.courseList},on:{select:e.select,"select-all":e.selectAll}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{width:"60",label:"序号",type:"index"}}),s("el-table-column",{attrs:{width:"140",label:"名称",prop:"name"}}),s("el-table-column",{attrs:{width:"120",label:"课程分类",formatter:e.formatterCourseType}}),s("el-table-column",{attrs:{width:"140",label:"课程编码",prop:"code"}}),s("el-table-column",{attrs:{width:"180",label:"课程标题"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[e._v(e._s(n.name+": "+(t.row.title[""+n.langKey]?t.row.title[""+n.langKey]:"")+" "))])}))}}])}),s("el-table-column",{attrs:{label:"图标"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-image",{staticClass:"course-flag",attrs:{src:e._f("urlFix")(e.imageUrl(t.row.flag[0]),"imageView2/1/format/jpg"),fit:"cover"}})]}}])}),s("el-table-column",{attrs:{label:"封面",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-image",{staticClass:"course-cover",attrs:{src:e._f("urlFix")(e.imageUrl(t.row.cover[0]),"imageView2/1/format/jpg"),fit:"cover"}})]}}])}),s("el-table-column",{attrs:{label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.is_show?"是":"否")+" ")]}}])}),s("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],attrs:{size:"mini"},on:{click:function(s){return e.editCourse(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.row)}}},[e._v(e._s(t.row.is_show?"隐藏":"显示"))]),s("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(s){return e.deleteCourse(t.row.uuid)}}},[e._v("删除")]),s("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(s){return e.classGroup(t.row)}}},[e._v("班级群")]),s("br"),s("br"),s("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(s){return e.addDetail(t.row)}}},[e._v("添加详情")]),s("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(s){return e.unlockCourse(t.row)}}},[e._v("解锁")]),s("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(s){return e.handleStatistic(t.row)}}},[e._v("统计")])]}}])})],1),s("edit-comp",{ref:"edit",attrs:{courseTypes:e.courseTypes},on:{addNewCourse:e.initData}}),s("class-group",{ref:"classGroup"}),s("course-detail",{ref:"courseDetail"}),s("unlock-course",{ref:"unlockCourse"}),s("statistic",{ref:"statistic",on:{refreshDownloadList:e.refreshDownloadList}})],1)}),[],!1,null,"ec18463c",null);t.default=v.exports},"91a7":function(e,t,s){},"91c2":function(e,t,s){"use strict";var n=s("7a8e");s.n(n).a},9251:function(e,t,s){"use strict";var n=s("c7a0");s.n(n).a},9266:function(e,t,s){},9271:function(e,t,s){},"92f9":function(e,t,s){"use strict";var n=s("fc1e");s.n(n).a},"93fb":function(e,t,s){},9444:function(e,t,s){},"94e3":function(e,t,s){},9520:function(e,t,s){"use strict";var n=s("9eaf");s.n(n).a},"974b":function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{isPlay:!1,options:[],words:[],addCorrect:!1,addWrong:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.resetAll(),e.playVoice()})),this.$on("break",(function(){e.resetAll()}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},check:function(e,t){var s=this;e===this.form.sentence?(this.addCorrect=!0,setTimeout((function(){s.addCorrect=!1}),500),this.$parent.$emit("nextForm")):(this.addWrong=!0,setTimeout((function(){s.addWrong=!1}),1e3))},reset:function(e){var t=this.options[e];this.options[e]="",this.words.push(t)},resetAll:function(){var e=this;this.audio.pause(),this.isPlay=!1;var t=this.form.options;this.words=t,this.options=[],this.words.forEach((function(t){e.options.push("")}))}}},o=(s("21b9"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.type]},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""},on:{click:e.playVoice}})]),s("div",{staticClass:"content"},e._l(e.form.options,(function(t,n){return s("div",{key:n,staticClass:"choice-item sentences",class:[{correct:t==e.form.sentence&&e.addCorrect},{wrong:t!==e.form.sentence&&e.addWrong}],attrs:{id:"sentences"+n}},[s("span",{staticClass:"sentence",on:{click:function(s){return e.check(t,n)}}},[e._v(e._s(t))])])})),0)])}),[],!1,null,"3fc3c502",null);t.default=r.exports},"97a7":function(e,t,s){},"98ab":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAq1BMVEVHcEwSltoRltoRltsSl90SldsRmNsRldoRldkPk9sTktgMmdgRldsSldoRltsRk9cSltsSkdoRl9kRldsRl9wRldoRldoSltwRltwSldoTlt4RltsTnOsRldsSldoRltsRltoTidcSlNkRltoRltoNk+QSldsRlN0RltsPluESmtoRltsRldsSltoRltsSldsRltsSltoSldoSl9kSldoRltwSlt0SldsSltvGCT39AAAAOHRSTlMAi9vJRbM5v4BAKBRXxJAtlxxnOllohW513iecDfVG8aENN4aSE9w8RxEcu8fUrdDIYrgb4YREp4hKaYwAAACsSURBVEjH7ZU3EsJAEAQHK+G99957N/9/GQE6EBTSsREKrrOt6k5nAUNgSHiS/GIPxmF6s7bf5GUEzQz96bv8aI+oU0f36ddIwtIGIeXnSRJan9ZDn6woCmYNioKDun4MLpQFNwoDywQm+FdwPQsDnI7CAMhKAxSdYKMNWs7KlKYkiao2SKtdasdIYt7R+LvFaypHJBDf+/rblHuMywSAoe1JpfCx9TnzHIPBHYOGEkr7XYiCAAAAAElFTkSuQmCC"},"98dc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACoCAMAAABDlVWGAAABAlBMVEVHcEwtXf8rXfwtXv0rXfwvX/8sXf0rXfwsXPxVqv8tXf0qX/8sXv0sXvwsXvwsXvw/av8rXPwrYP8sXfwsXfwvX/8rXf0uYP8sXvwtXv8uaP8vXv8sXvwuX/wtXfwsXf0tXvwtYf8sXf0rXfwwYf8rXPwzZv8sXfwsXf0sXf0wYP8sXfwsXfwuXf8sXfz////V3/77/P5Vffz2+P4zYvzr8P6YsP1Refy7y/7B0P46aPw+a/yDoP3k6/7o7f5Ndvxhhvyvwv2qvv3N2P6iuP2Pqf3S3f62x/5xkv1IcvzI1f5Cbvze5v5Db/w1ZPx3l/1qjPxrjfxcgvxZf/zv8/55mf2J+hFCAAAALnRSTlMARF2C6BCQ+/cDqjCa2+vxDMAd49Ighk24PhYr1ljMlHcii7oVxhnfn6ElbaxMv/ihVQAABtNJREFUeNrVXdlWGkEQbRYZRBEJiCZxi8a45jY4w+qCKG4kaszy/7+SBwVm2Gao6hmm75vnSM89vVRX3equFkIRViLHiYPU2l5+f8kwlvbze2upg8RxZEWEB0fRWCqfxBgk86lY9GjmJD9ED3PwgNxh9MPMSM5tLKYxBdKLG3PBs5z/nkpiaiRT3+cDpbmQWAIRS4mFwIZ8ex0srG8HMQU+FTJgI1P45PcqTyShBMmEn1bgy6IBZTAWv/g1N7cU0gQAY8uXuRqNQzniUeU0P2fhC7KfldJc3jHgE4ydZXU8Izn4iFxE1W4ZM+ArjJiSffVbFr4j+03BsMcRAOKRsA+7ouFf3kVg2GWs/q+bCBCbX8nxWhqBIk2MBBfiCBhxkk/9MYPAkfk4Pc/VJGaA5OrU/TkTnkByyj5dyGBGyEw1T1fimBniU6z9r2nMEGnP9nR5EzPFpsc9an4XM8aut32/gJmj4MmvM2ZP1PDg9X2LIwSIu3rS81mEAlm3aRpDSBAL/wT1Mk2XcwgNcpOs6Q5ChJ0Juo0RJqLGeLVHzYo/q/5QtPLH6nXsphsvtcuSlLJU7pw/8ZmO0frmuKa+WStJG26u2GZ/tH66xRzxawdNKaWsN5lMt0bq3ryVdHoph2E+MNfTKPV8kdXkgylHosJjujgi38Hq0NeSlH4wNYZzJwlOe1VTjgVv9BNDeS5OePx8MZ6nNFkrKvlJpVtfkZNQV+nsz3Hi+DNzIlHJsqcZpy3d5rTVnsxT3rC6dNtBlJUvLrsQlazddN2h4HBa+uPGU56zunRBlW2quBLtqLJQ80uchuquRMssokv9OG+V1VDRlWiJt4/2NdMUfF1LUvI86VTPiPJE25I70VOeuNs1pRu8kZF+E8WGEgcvAKJdZy8ddqLpd08UYSeKD0qCzwCIvoWjh+EneiiEECIXfqI5IYQ4QviJ4kiFPhIE0agK6TYIojH2Rh8Q0ZQQIq8D0bwQIqkD0aQQK9CBKFZERA+iEXGsB9FjXlwXHNGEOCD9rnH982/nakqizVq5XCMqUQfihPKzp7ItXvdK9MqUUkqTJvCciDVGhGw+TkHUepf8LizKF9fEHuFXVskugXgk2hNU/lCI7pE2pmr3m9ceo9AqgPPuH/9oW9M+4VePDunz0p3omV35IUnQ+4Ki5px1v1kEgDtvSkmr+9crSdcRlByD5RCVaq5ELx0S1W8KUYNEtD/aFoBbV6I1h0R1RiNKEvI6dtW76Ur0BUCju+ZMmqRHWkx9MbwNAD/dpmgDwAtPKN+n+c0P3a9ewMPY1xwzmZYhy5MMfn/ZyyoAa7KBKjUBWL3MyS/QDD5pC+2bpBbstnwkrh3/YpJ2UKwRY7veaJeqAHAzyTadAXjuqb331OiO5uY9lRybU2N8jtE8hX1bIo48DqiOc8uZlxubtS09AMAP07GXkRxnYijy2OvS8g8AqI7uU/MVAKw7dq75mBzc3fe+XbQAoDFqnl5UB7r/Jz24o4bL1T6d9/VxPmilzMozBuzsCz1cJgsQ1zambybHurXvUeX2+6Zuy+zdMQQIsqRj2VgVu4mk5m3t7rJULtYrXR/JsjlXb6ELVdIhi2RVm2tfHheyNYtSwcAjxZIdHRtSvTpqq3WchWrxZEeGkHvvsJitQapPFYd1LT7zhFyONH4/YI3aV72d/LQykMwtNpjSOCvZ0BpOeRfrrdrd5VBoesfhmeOnb66lN9w8c75yqCAhdlvywrNlsT4SVZFirLofLCi/8j7xnmLkJm2tikun3jeYPNNq0uDAaW0C1Ztf3OZ7afANdkt4bI92SEv3fA23f7BgTsX9uufzm6FuLVaUHMvuHdXg58TeZeiHSr3XsZ32P0WHx/uHX5jHiRzomQB1TeK7ogNafhO1HdBSkBrxkWhC1SFCv4kuKDuW6S/RdXUHXf0luq3u6LCvRAeODiu7Y6mcaEHl8XYfiQ4db+dYqMfapJOZZue3ItvEvYLxaLpJ43T/acQVDLqz556+uWA7eEquCXk4kUs93z7ymhD54pWPBwu2lF5lu3AnSoxFxlxlo4aj7hEzVcSLqr1u2XBLiP2t0nhmVV9gtW7rxfHotM+IK+mz/leC9blkrc21dX0KAehTWkGbYhX6lP8IxTSNeeGpT4kabYr+6FNGSZ/CVPqU+tKneJo+5ej0KfCnT8lEfYpQ6lPWU59CqULMF4IqPVvgVh7WpJivRuWR9Sk4rU8Jb42KoutTZl6jwv0aPYWgz+MSGj3XodEDKEJo86TMm0+txSM9b/vqKu3Zo9Vgnz16mwJaPCTVtQI6PM3VhRaPndkiwchx4uDE/nzcidLn4/4DAI+WpyXDQj8AAAAASUVORK5CYII="},9917:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("4194"),s("053b"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("de52"),o=s.n(i),r=s("672d"),c=s("c24f"),l=s("cabd"),u=s("ae8c"),d={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},operateDate:"",userUUID:"",userList:[],pageNO:1,pageSize:15,operateLogs:[]}},components:{Detail:r.default},mounted:function(){var e=this;document.getElementById("operate-log").addEventListener("scroll",(function(t){e.scroll(t)})),this.getContentTypeList({pageNo:0,pageSize:0}),Object(c.getUserList)({page:1,pageSize:999}).then((function(t){t.success&&(e.userList=t.data.userList)}))},computed:Object(a.a)({},Object(u.e)({courseOperateLogs:function(e){return e.course.courseOperateLogs}})),methods:Object(a.a)(Object(a.a)({},Object(u.b)({getContentTypeList:"course/getContentTypeList"})),{},{search:function(){this.operateLogs=[],this.pageNO=1,this.findLog()},findLog:function(){var e=this,t="";if(t||this.operateDate||(t="请选择要查找的日期区间"),t||this.userUUID||(t="请选择用户"),t)return this.$message({type:"warning",message:t}),!1;var s={page_no:this.pageNO,page_size:this.pageSize,user_id:this.userUUID,operate_date:{start:o()(this.operateDate[0]).format("YYYY-MM-DD")+" 00:00:00",end:o()(this.operateDate[1]).format("YYYY-MM-DD")+" 23:59:59"}};Object(l.findOperateLogList)(s).then((function(t){t.success&&t.data.operate_log&&t.data.operate_log.length?e.operateLogs=e.operateLogs.concat(t.data.operate_log):e.pageNO=-1}))},formatPattern:function(e,t,s,n){var a="";switch(e.pattern){case 1:a="内容";break;default:a="目录"}return a},formatMold:function(e,t,s,n){var a="",i=this.courseOperateLogs.find((function(t){return t.key===e.mold}));return i&&(a=i.name),a},detail:function(e){this.$refs.detail.show(e)},scroll:function(e){var t=e.target.scrollHeight;e.target.offsetHeight+e.target.scrollTop+10>t&&-1!==this.pageNO&&(this.pageNO++,this.findLog())},rollback:function(e){var t=this;this.$confirm("确认要回滚吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(l.rollbackOperateLog)({uuid:e.uuid});case 2:s.sent.success&&t.$message({type:"success",message:"回滚成功"});case 4:case"end":return s.stop()}}),s)})))).catch((function(){t.$message({type:"info",message:"已取消回滚"})}))}})},f=(s("dc92"),s("4023")),m=Object(f.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"operate-log",attrs:{id:"operate-log"}},[s("el-row",{staticClass:"operate-params"},[s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.operateDate,callback:function(t){e.operateDate=t},expression:"operateDate"}}),e._v(" "),s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.userUUID,callback:function(t){e.userUUID=t},expression:"userUUID"}},e._l(e.userList,(function(e){return s("el-option",{key:e.uuid,attrs:{label:e.nickName,value:e.uuid}})})),1)],1),s("el-col",{staticClass:"self-btns",attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查找")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.operateLogs,stripe:""}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{prop:"operate_date",label:"操作日期",width:"180"}}),s("el-table-column",{attrs:{prop:"language",label:"语言",width:"180"}}),s("el-table-column",{attrs:{prop:"course",width:"150",label:"课程"}}),s("el-table-column",{attrs:{prop:"version",label:"版本"}}),s("el-table-column",{attrs:{width:"250",prop:"catalogs",label:"目录"}}),s("el-table-column",{attrs:{prop:"pattern",formatter:e.formatPattern,label:"分类"}}),s("el-table-column",{attrs:{prop:"mold",formatter:e.formatMold,label:"操作"}}),s("el-table-column",{attrs:{fixed:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(s){return s.preventDefault(),e.detail(t.row)}}},[e._v(" 详情 ")]),s("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(s){return s.preventDefault(),e.rollback(t.row)}}},[e._v(" 回滚 ")])]}}])})],1),s("detail",{ref:"detail"})],1)}),[],!1,null,"29f90ec3",null);t.default=m.exports},9974:function(e,t,s){},"999d":function(e,t,s){"use strict";var n=s("1cfc");s.n(n).a},"9a31":function(e,t,s){"use strict";s.r(t),s("053b");var n=s("0eaa"),a=s("ae8c"),i=s("12b2"),o={name:"Aside",data:function(){return{active:"",isCollapse:!1}},methods:{selectMenuItem:function(e){e!==this.$route.name&&this.$router.push({name:e})}},computed:Object(n.a)({},Object(a.c)("router",["asyncRouters"])),components:{AsideComponent:i.default},created:function(){var e=this;this.active=this.$route.name,this.$bus.on("totalCollapse",(function(){e.isCollapse=!e.isCollapse}))},beforeDestroy:function(){this.$bus.off("totalCollapse")}},r=(s("5444"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-scrollbar",{staticStyle:{height:"calc(100vh)"}},[s("el-menu",{class:["el-menu-vertical",!e.isCollapse&&"noCollapse"],attrs:{collapse:e.isCollapse,"collapse-transition":!0,"default-active":e.active,"active-text-color":"#fff","background-color":"#0F3D5F","text-color":"rgb(191, 203, 217)","unique-opened":""},on:{select:e.selectMenuItem}},[e._l(e.asyncRouters[0].children,(function(t){return[t.hidden?e._e():s("aside-component",{key:t.name,attrs:{routerInfo:t}})]}))],2)],1)],1)}),[],!1,null,null,null);t.default=c.exports},"9a3c":function(e,t,s){"use strict";s.r(t);var n=s("18f5"),a=s("ed65"),i=s("7031"),o=s("7873"),r={props:{src:{type:String},record:{type:Object},filename:{type:String}},data:function(){return{isPlaying:!1,duration:Object(o.convertTimeMMSS)(0),playedTime:Object(o.convertTimeMMSS)(0),progress:0}},components:{IconButton:n.default,LineControl:a.default,VolumeControl:i.default},mounted:function(){var e=this;this.player=document.getElementById(this.playerUniqId),this.player.addEventListener("ended",(function(){e.isPlaying=!1})),this.player.addEventListener("loadeddata",(function(t){e._resetProgress(),e.duration=Object(o.convertTimeMMSS)(e.player.duration)})),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.$eventBus.$on("remove-record",(function(){e._resetProgress()}))},computed:{audioSource:function(){return this.src||(this._resetProgress(),"")},playBtnIcon:function(){return this.isPlaying?"pause":"play"},playerUniqId:function(){return"audio-player".concat(this._uid)}},methods:{playback:function(){var e=this;this.audioSource&&(this.isPlaying?this.player.pause():setTimeout((function(){e.player.play()}),0),this.isPlaying=!this.isPlaying)},_resetProgress:function(){this.isPlaying&&this.player.pause(),this.duration=Object(o.convertTimeMMSS)(0),this.playedTime=Object(o.convertTimeMMSS)(0),this.progress=0,this.isPlaying=!1},_onTimeUpdate:function(){this.playedTime=Object(o.convertTimeMMSS)(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100},_onUpdateProgress:function(e){e&&(this.player.currentTime=e*this.player.duration)},_onChangeVolume:function(e){e&&(this.player.volume=e)}}},c=(s("ec59"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ar-player"},[s("div",{staticClass:"ar-player-actions"},[s("icon-button",{staticClass:"ar-icon ar-icon__sm ar-player__play",class:{"ar-player__play--active":e.isPlaying},attrs:{id:"play",name:e.playBtnIcon},nativeOn:{click:function(t){return e.playback(t)}}})],1),s("div",{staticClass:"ar-player-bar"},[s("div",{staticClass:"ar-player__time"},[e._v(e._s(e.playedTime))]),s("line-control",{staticClass:"ar-player__progress",attrs:{"ref-id":"progress",percentage:e.progress},on:{"change-linehead":e._onUpdateProgress}}),s("div",{staticClass:"ar-player__time"},[e._v(e._s(e.duration))]),s("volume-control",{on:{"change-volume":e._onChangeVolume}})],1),s("audio",{attrs:{id:e.playerUniqId,src:e.audioSource}})])}),[],!1,null,null,null);t.default=l.exports},"9adb":function(e,t,s){},"9af7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAA8CAMAAAD/nnzlAAAAb1BMVEVHcExL2mRN3GRM2WRN2mVM5WZM2WNb2m1Q2WdL22VM2WRP3GdM2mRV2m1Q3WRN22VM2mRm/2b///9N3WlM2mVY12tL3GRN2WVM2mNM2WRN2WRM22VM2WRN2GRN2WRO2WVO2mVM2mZM2WRM2WRM2WT34AHsAAAAJHRSTlMAm0L91grwDjaK5kr5FSZs7AUBLj8aUeC7fMajloSvWGJhxc4gQlqkAAABWklEQVRYw+3Y15KCQBQE0CYzyJANILqJ///GfZAoUadrax/oR7UOMvdewgCWMI2KEMMUFmCZFS2mBVERI2AyORMGkzNQUbNzW6O5juNqJM7TAQDQPQpXa4DO4DS00Qic23EugXM6zvl/HPlkyaUgNwq7jTcOWXTLZCx1YVMuAcJqyl+qc/6pKxhOviLnH9CP6z3/3j6/wD1pwPFnYOUSkKG9kRtpgHXvfZ/Vxyg2cRMakPTu615QF+myhfvAZL66gkRp/Z8v69wVM8mikRff1zjPmeMQdE8eUX0hia8rXI759BbLrr1EW+bcBQ5xOfbKRc7BYsL22ejcTKFY4rCSQ9u9bT/dFDikzXx1Y50rcJDfj8WTvSVQ4B7dYQ9mJ1TggDT8PA4/0VS4iZa0qdywXdS5jMtJLpdwOfwJF7ypBdNc8Z4XFPtbz869zpFf3slbC+SND/K2DHfT6BcVEePnRivCxwAAAABJRU5ErkJggg=="},"9b1b":function(e,t,s){"use strict";var n=s("b679");s.n(n).a},"9cdb":function(e,t,s){"use strict";var n=s("79c4");s.n(n).a},"9d20":function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1,this.$parent.$emit("nextForm")):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1,e.$parent.$emit("nextForm")})}}},o=(s("2c2b"),s("4023")),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-form"},[t("div",{staticClass:"img-box",on:{click:this.playVoice}},[t("img",{attrs:{src:this._f("urlFix")(this.assetsDomain+this.form.image,"imageView2/1/format/jpg"),alt:""}})]),t("span",{staticClass:"sentence"},[this._v(this._s(this.form.sentence))])])}),[],!1,null,"1459145d",null);t.default=r.exports},"9eaa":function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("fd85"),i=s("b6e5"),o=s("430c"),r={name:"Authority",mixins:[s("b016").default],data:function(){return{listApi:a.getAuthorityList,listKey:"list",drawer:!1,activeRow:{},activeUserId:0,dialogFormVisible:!1,apiDialogFlag:!1,form:{authorityId:"",authorityName:"",parentId:"0"}}},components:{Menus:i.default,Apis:o.default},methods:{opdendrawer:function(e){this.drawer=!0,this.activeRow=e},deleteAuth:function(e){var t=this;this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.deleteAuthority)({authorityId:e.authorityId});case 2:s.sent.success&&(t.$message({type:"success",message:"删除成功!"}),t.getTableData());case 4:case"end":return s.stop()}}),s)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initForm:function(){for(var e in this.form)this.form[e]=""},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1,this.apiDialogFlag=!1},enterDialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.createAuthority)(e.form);case 2:t.sent.success&&(e.$message({type:"success",message:"添加成功!"}),e.getTableData(),e.closeDialog()),e.initForm(),e.dialogFormVisible=!1;case 6:case"end":return t.stop()}}),t)})))()},addAuthority:function(e){this.form.parentId=e,this.dialogFormVisible=!0}},created:function(){this.pageSize=999}},c=(s("8cfa"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"authority"},[s("div",{staticClass:"button-box clearflex"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addAuthority("0")}}},[e._v("新增角色")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"ID",border:"",stripe:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{label:"id","min-width":"180",prop:"ID"}}),s("el-table-column",{attrs:{label:"角色id","min-width":"180",prop:"authorityId"}}),s("el-table-column",{attrs:{label:"角色名称","min-width":"180",prop:"authorityName"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.opdendrawer(t.row)}}},[e._v("设置权限")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.deleteAuth(t.row)}}},[e._v("删除角色")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){return e.addAuthority(t.row.authorityId)}}},[e._v("新增子角色")])]}}])})],1),s("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"新增角色"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"父级角色ID"}},[s("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),s("el-form-item",{attrs:{label:"角色ID",prop:"authorityId",rules:[{required:!0,message:"角色ID不能为空",trigger:"blur"},{pattern:/^(?!0+$)^\d*$/,message:"只允许输入大于0的数字！"}]}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.authorityId,callback:function(t){e.$set(e.form,"authorityId",t)},expression:"form.authorityId"}})],1),s("el-form-item",{attrs:{label:"角色姓名",prop:"authorityName",rules:[{required:!0,message:"角色姓名不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.authorityName,callback:function(t){e.$set(e.form,"authorityName",t)},expression:"form.authorityName"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1),e.drawer?s("el-drawer",{attrs:{visible:e.drawer,"with-header":!1,size:"40%",title:"角色配置"},on:{"update:visible":function(t){e.drawer=t}}},[s("el-tabs",{staticClass:"role-box",attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"角色菜单"}},[s("Menus",{attrs:{row:e.activeRow}})],1),s("el-tab-pane",{attrs:{label:"角色api"}},[s("apis",{attrs:{row:e.activeRow}})],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=l.exports},"9eaf":function(e,t,s){},"9f94":function(e,t,s){"use strict";s.r(t),s("4194"),s("fe59"),s("9302"),s("08ba");var n=s("cabd"),a={data:function(){return{langs:[],status:[{label:"未认证",val:1},{label:"未通过",val:2},{label:"已认证",val:3},{label:"已冻结",val:4}],selLang:"",selStatus:"",liveTeacherName:"",teacherList:[],currentPage:1,total:0,pageSize:10,isShowPagination:!1}},components:{ApproveComp:s("6f70").default},mounted:function(){var e=this;Object(n.getLangList)({pageNo:0,pageSize:0}).then((function(t){t.success&&t.data&&(e.langs=t.data.langs)})),this.loadData()},methods:{formatterGender:function(e,t,s,n){var a=this,i=[];return s.length&&this.langs.length&&s.forEach((function(e){var t=a.langs.find((function(t){return t.lan_code===e}));i.push(t.title["zh-CN"])})),i.length?i.join("、"):""},loadData:function(){var e=this;Object(n.getTeacherList)({lan_code:this.selLang,real_name:this.liveTeacherName,page_index:this.currentPage,page_size:this.pageSize,status:this.selStatus?this.selStatus:0}).then((function(t){t.success&&t.data?(e.teacherList=t.data,e.total=e.teacherList.length,e.pageSize>e.total&&(e.isShowPagination=!0)):e.teacherList=[]}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},reset:function(){this.selLang="",this.selStatus="",this.liveTeacherName="",this.loadData()},handleApprove:function(e){this.$refs.approve.show(e)},handleFrozen:function(e){var t=this;this.$confirm("确认要冻结吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){t.$message({type:"info",message:"已取消冻结"})}))}}},i=(s("85b7"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"teacher-container"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-select",{attrs:{filterable:"",placeholder:"请选择语种"},on:{change:e.loadData},model:{value:e.selLang,callback:function(t){e.selLang=t},expression:"selLang"}},e._l(e.langs,(function(e){return s("el-option",{key:e.lan_code,attrs:{label:e.title["zh-CN"],value:e.lan_code}})})),1),s("el-select",{attrs:{filterable:"",placeholder:"请选择认证状态"},on:{change:e.loadData},model:{value:e.selStatus,callback:function(t){e.selStatus=t},expression:"selStatus"}},e._l(e.status,(function(e){return s("el-option",{key:e.val,attrs:{label:e.label,value:e.val}})})),1),s("el-input",{attrs:{placeholder:"请输入教师姓名"},on:{change:e.loadData},model:{value:e.liveTeacherName,callback:function(t){e.liveTeacherName=t},expression:"liveTeacherName"}})],1),s("div",{staticClass:"right"},[s("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teacherList,stripe:""}},[s("el-table-column",{attrs:{prop:"real_name",label:"真实姓名",width:"180"}}),s("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"180"}}),s("el-table-column",{attrs:{prop:"talkmate_id",label:"全球说ID",width:"180"}}),s("el-table-column",{attrs:{prop:"lan_code",label:"语种",formatter:e.formatterGender,width:"180"}}),s("el-table-column",{attrs:{prop:"course_number",label:"课程数量"}}),s("el-table-column",{attrs:{prop:"status",label:"认证状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?s("el-tag",[e._v("待认证")]):2==t.row.status?s("el-tag",{attrs:{type:"warning"}},[e._v("未通过")]):3==t.row.status?s("el-tag",{attrs:{type:"success"}},[e._v("已认证")]):4==t.row.status?s("el-tag",{attrs:{type:"danger"}},[e._v("已冻结")]):s("el-tag",{attrs:{type:"info"}},[e._v("已创建")])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleApprove(t.row)}}},[e._v("审核")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleFrozen(t.row)}}},[e._v("冻结")])]}}])})],1),s("el-pagination",{attrs:{"current-page":e.currentPage,"hide-on-single-page":e.isShowPagination,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),s("approve-comp",{ref:"approve",attrs:{langs:e.langs},on:{loadData:e.loadData}})],1)}),[],!1,null,"0e043304",null);t.default=o.exports},"9fd4":function(e,t,s){"use strict";s.r(t);var n=s("08be"),a=s("7b3b"),i=s("5ed0"),o={components:{LettersComp:n.default,UpCourseImgComp:a.default,AddLangComp:i.default}},r=(s("73a0"),s("4023")),c=Object(r.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"langs-container"},[t("letters-comp"),t("div",{staticClass:"langs-content"},[t("router-view")],1),t("up-course-img-comp"),t("add-lang-comp")],1)}),[],!1,null,"39531a66",null);t.default=c.exports},"9fe2":function(e,t,s){"use strict";s.r(t),s("77ad"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r={data:function(){return{showTableData:[],pageRequest:{pageNum:1,pageSize:5}}},created:function(){this.initData()},components:{EditComp:s("b459").default},computed:Object(a.a)({},Object(i.e)({modelList:function(e){return e.course.modelList}})),methods:Object(a.a)(Object(a.a)({},Object(i.b)({getModelList:"course/getModelList"})),{},{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModelList({pageNo:0,pageSize:0});case 2:e.handleCurrentChange(e.pageRequest.pageNum);case 4:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageRequest.pageSize=e},handleCurrentChange:function(e){this.pageRequest.pageNum=e;var t=(e-1)*this.pageRequest.pageSize,s=e*this.pageRequest.pageSize;this.showTableData=this.modelList.slice(t,s)},addModel:function(){this.$refs.modelEdit.show({type:"add"})},editModel:function(e){var t=e.feilds.sort((function(e,t){return e.list_order-t.list_order}));e.feilds=t;var s={data:e,type:"edit"};this.$refs.modelEdit.show(s)},deleteModel:function(e){var t=this;this.$confirm("此操作将永久删除该模型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.delModel)({model_key:e}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.initData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}})},c=(s("f248"),s("7cee"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"model-container"},[s("div",{staticClass:"model-content"},[s("div",{staticClass:"top-bar"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.addModel()}}},[e._v("添加")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showTableData}},[s("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.$index+(e.pageRequest.pageNum-1)*e.pageRequest.pageSize+1))])]}}])}),s("el-table-column",{attrs:{width:"300",label:"model_key"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.model_key,width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.model_key))])])]}}])}),s("el-table-column",{attrs:{width:"300",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.name,width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.name))])])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",plain:""},on:{click:function(s){return e.editModel(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return e.deleteModel(t.row.model_key)}}},[e._v("删除")])]}}])})],1),s("div",{staticClass:"pagination-box"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageRequest.pageNum,"page-size":e.pageRequest.pageSize,total:e.modelList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),s("edit-comp",{ref:"modelEdit",on:{editModel:e.initData}})],1)}),[],!1,null,"06e29fce",null);t.default=l.exports},"9ff2":function(e,t,s){},a056:function(e,t,s){"use strict";var n=s("5072");s.n(n).a},a0b3:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("77ad"),s("e35a"),s("0d7a"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("cabd"),l=!0,u={data:function(){return{searchKey:"",selLang:"ENG-CHI",list:[],isShow:!1,currentPage:1,total:0,pageSize:50,scrollTop:0,isShowPagination:!1}},components:{EditWord:s("0837").default},created:function(){this.initData()},mounted:function(){},computed:Object(a.a)(Object(a.a)(Object(a.a)({},Object(i.c)("user",["userInfo"])),Object(i.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{fromLang:function(){return this.selLang.split("-")[0]},toLang:function(){return this.selLang.split("-")[1]}}),methods:{handlerScroll:function(e){e.target.scrollTop+e.target.offsetHeight===e.target.scrollHeight&&l&&(this.scrollTop=e.target.scrollHeight-e.target.offsetHeight,l=!1,this.currentPage++,this.initData())},handlerSearch:function(){this.currentPage=1,this.initData()},initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===e.currentPage&&(e.list=[]),t.next=3,Object(c.getDictList)({content:e.searchKey,from:e.fromLang,to:e.toLang,page_index:e.currentPage,page_size:e.pageSize,text_field:"content",sort_type:1});case 3:(s=t.sent).success&&s.data&&(n=e.list.slice(),e.list=n.concat(s.data),setTimeout((function(){e.$refs.content.scrollTop=e.scrollTop,l=!0}),0));case 5:case"end":return t.stop()}}),t)})))()},edit:function(e){var t=this;Object(c.getDictDetail)({uuid:e.uuid,from:this.fromLang,to:this.toLang}).then((function(e){var s={type:"edit",fromLang:t.fromLang,toLang:t.toLang,form:e.data};t.$refs.edit.show(s)}))},handleEdit:function(e){e.course_type,e.cover,e.desc&&e.desc,e.flag&&e.flag,e.is_show,e.title&&e.title,e.uuid},add:function(){var e={type:"add",fromLang:this.fromLang,toLang:this.toLang};this.$refs.edit.show(e)},deleteCourse:function(e){var t=this;this.$confirm("此操作将永久删除该课程分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},curCourse:function(){this.initData()},imageUrl:function(e){return this.assetsDomain+e},formatterDate:function(e){return e&&e.updatedOn?r()(e.updatedOn).format("YYYY-MM-DD HH:mm"):""},addDetail:function(e){this.$refs.courseDetail.show(e)},unlockCourse:function(e){this.$refs.unlockCourse.show(e)}}},d=(s("a78a0"),s("5c4d"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"content",staticClass:"main-content word",on:{scroll:e.handlerScroll}},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch(t)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.handlerSearch},slot:"prepend",model:{value:e.selLang,callback:function(t){e.selLang=t},expression:"selLang"}},[s("el-option",{attrs:{label:"英汉",value:"ENG-CHI"}})],1),s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handlerSearch},slot:"append"})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"right"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[s("el-table-column",{attrs:{width:"60",label:"序号",type:"index"}}),s("el-table-column",{attrs:{label:"单词",prop:"content"}}),s("el-table-column",{attrs:{label:"更新时间",formatter:e.formatterDate}}),s("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],attrs:{size:"mini"},on:{click:function(s){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1),s("edit-word",{ref:"edit"})],1)}),[],!1,null,"40459f46",null);t.default=f.exports},a18c:function(e,t,s){"use strict";s.r(t),s("e18c");var n=s("0261"),a=s("fe79");n.default.use(a.a);var i=a.a.prototype.push;a.a.prototype.push=function(e,t,s){return t||s?i.call(this,e,t,s):i.call(this,e).catch((function(e){return e}))};var o=[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:function(){return Promise.resolve().then(s.bind(null,"bd01"))}},{path:"/resetPwd",name:"resetPwd",component:function(){return Promise.resolve().then(s.bind(null,"18cc"))}},{path:"/course-content",name:"courseContent",component:function(){return Promise.resolve().then(s.bind(null,"428d"))}},{path:"/404",name:"404",component:function(){return Promise.resolve().then(s.bind(null,"52cd"))}}],r=new a.a({mode:"history",base:"/",routes:o});t.default=r},a196:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form","index"],created:function(){var e=this;this.$on("init",(function(){e.$parent.$emit("curFormPlay")}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{check:function(){var e={form:this.form,index:this.index};this.$parent.$emit("check",e)}}},o=s("4023"),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["form",this.form.type]},[t("a",{staticClass:"img-box",on:{click:this.check}},[t("img",{attrs:{src:this._f("urlFix")(this.assetsDomain+this.form.image,"imageView2/1/format/jpg"),alt:""}})])])}),[],!1,null,"2ee43680",null);t.default=r.exports},a1c6:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})}}},o=(s("4b80"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item-form"},[e.form.image?s("div",{staticClass:"img-box",on:{click:e.playVoice}},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""}})]):e._e(),s("span",{staticClass:"sentence"},[e._v(e._s(e.form.sentence?e.form.sentence:""))]),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"record"},[t("i")])}],!1,null,"523ffcae",null);t.default=r.exports},a2d7:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("77ad"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r=s("e1ac"),c=s("59d7"),l={data:function(){return{allLangs:[],langList:[],showTableData:[],assetsUrl:"",searchKey:"",pageRequest:{pageNum:1,pageSize:5}}},components:{EditComp:r.default,SortCourseComp:c.default},mounted:function(){this.initData()},computed:Object(a.a)({},Object(i.e)({assetsDomain:function(e){return e.course.assetsDomain},langInfos:function(e){return e.course.langInfos},userInfo:function(e){return e.user.userInfo}})),methods:{updateNewLang:function(){this.initData()},initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getLangList)({pageNo:0,pageSize:999});case 2:(s=t.sent).success&&(n=s.data.langs.sort((function(e,t){return e.list_order-t.list_order})),e.allLangs=n,e.langList=n,e.assetsUrl=s.data.assetsUrl,e.handleCurrentChange(e.pageRequest.pageNum));case 4:case"end":return t.stop()}}),t)})))()},search:function(){var e=this,t=this;this.langList=this.allLangs.filter((function(s){var n=!1;return e.langInfos.forEach((function(e){n=n||s.title[""+e.langKey]&&s.title[""+e.langKey].indexOf(t.searchKey)>-1})),n})),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageRequest.pageSize=e},handleCurrentChange:function(e){this.pageRequest.pageNum=e;var t=(e-1)*this.pageRequest.pageSize,s=e*this.pageRequest.pageSize;this.showTableData=this.langList.slice(t,s)},editLang:function(e){this.$refs.edit.show("edit",e)},addLang:function(){this.$refs.edit.show("add")},deleteLang:function(e){var t=this;this.$confirm("此操作将永久删除该课程, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.delLang)({lan_code:e}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.initData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){var t=this,s={lang_info:{}};s.lan_code=e.lan_code,s.lang_info.desc=e.desc?e.desc:{},s.lang_info.flag=e.flag?e.flag:[],s.lang_info.is_hot=e.is_hot,s.lang_info.is_show=!e.is_show,s.lang_info.list_order=e.list_order,s.lang_info.title=e.title?e.title:{},s.lang_info.word_direction=e.word_direction,Object(o.editLang)(s).then((function(e){e.success&&t.initData()}))},previewSort:function(){var e={allLangs:this.allLangs,assetsUrl:this.assetsUrl};this.$refs.sorLang.show(e)},onlineCourse:function(){var e=this;this.$confirm("确定要上线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.onlineCourses)([]).then((function(t){t.success&&(e.$message({type:"success",message:"上线成功!"}),e.initData())}))})).catch((function(){e.$message({type:"info",message:"已取消上线"})}))}}},u=(s("a6cc"),s("ab79"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"lang-manage"},[s("div",{staticClass:"top-bar"},[s("el-input",{attrs:{clearable:"",placeholder:"请输入要查找的语言"},on:{input:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),s("div",{staticClass:"btn-area"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.addLang()}}},[e._v("添加")]),s("el-button",{staticClass:"btnSort",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.previewSort()}}},[e._v("预览排序")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authorityId,expression:"userInfo.authorityId == '1'"}],staticClass:"btnOnline",staticStyle:{outline:"none"},attrs:{type:"success"},on:{click:e.onlineCourse}},[e._v("上线")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showTableData}},[s("el-table-column",{attrs:{label:"排序号",width:"80",prop:"list_order"}}),s("el-table-column",{attrs:{label:"编码",width:"80",prop:"lan_code"}}),s("el-table-column",{attrs:{width:"150",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return Object.keys(t.row.title).length?e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[s("el-tooltip",{attrs:{content:n.name+": "+(t.row.title[""+n.langKey]?t.row.title[""+n.langKey]:"")+" ",width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(n.name+": "+(t.row.title[""+n.langKey]?t.row.title[""+n.langKey]:"")+" "))])])],1)})):void 0}}],null,!0)}),s("el-table-column",{attrs:{width:"200",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return Object.keys(t.row.desc).length?e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[s("el-tooltip",{attrs:{content:n.name+": "+(t.row.desc[""+n.langKey]?t.row.desc[""+n.langKey]:"")+" ",width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(n.name+": "+(t.row.desc[""+n.langKey]?t.row.desc[""+n.langKey]:"")+" "))])])],1)})):void 0}}],null,!0)}),s("el-table-column",{attrs:{width:"80",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-image",{staticClass:"lang-img",attrs:{src:e._f("urlFix")(t.row.flag?e.assetsUrl+t.row.flag[0]:"","imageView2/1/format/jpg"),fit:"cover"}})]}}])}),s("el-table-column",{attrs:{label:"书写顺序"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("l2r"==t.row.word_direction?"从左到右":"从右到左")+" ")]}}])}),s("el-table-column",{attrs:{width:"80",label:"是否热门"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.is_hot?"是":"否")+" ")]}}])}),s("el-table-column",{attrs:{width:"100",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_show?s("el-tag",{attrs:{type:"success"}},[e._v("是")]):s("el-tag",{attrs:{type:"dange"}},[e._v("否")])]}}])}),s("el-table-column",{attrs:{fixed:"right",width:"300",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",plain:""},on:{click:function(s){return e.editLang(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",plain:"",type:"warning"},on:{click:function(s){return e.handleEdit(t.row)}}},[e._v(e._s(t.row.is_show?"隐藏":"显示"))]),s("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(s){return e.deleteLang(t.row.lan_code)}}},[e._v("删除")])]}}])})],1),s("div",{staticClass:"pagination-box"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageRequest.pageNum,"page-size":e.pageRequest.pageSize,total:e.langList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),s("edit-comp",{ref:"edit"}),s("edit-comp",{ref:"edit",attrs:{langInfos:e.langInfos,langList:e.langList},on:{addNewLang:e.updateNewLang}}),s("sort-course-comp",{ref:"sorLang",on:{sortLang:e.updateNewLang}})],1)}),[],!1,null,"53fa5e86",null);t.default=d.exports},a308:function(e,t,s){},a3ef:function(e,t,s){"use strict";s.r(t),s("e35a"),s("5e9f"),s("b449");var n=s("ae9a"),a=s("3e5a"),i=s.n(a),o=(s("030a"),s("0470")),r=s("de52"),c=s.n(r),l={data:function(){return{dialogVisible:!1,token:"",form:{imgSrc:"",cropperWidth:303,cropperHeight:310,times:2}}},components:{VueCropper:i.a},created:function(){var e=this;this.$bus.on("showCropperDialog",(function(t){e.form.imgSrc=t.url,e.token=t.token,e.dialogVisible=!0}))},watch:{"form.cropperWidth":function(){this.form.cropperWidth>0&&this.$refs.cropper.setCropBoxData({width:this.form.cropperWidth,height:this.form.cropperHeight})},"form.cropperHeight":function(){this.form.cropperHeight&&this.$refs.cropper.setCropBoxData({width:this.form.cropperWidth,height:this.form.cropperHeight})}},methods:{show:function(){var e=this;this.$nextTick((function(){e.$refs.cropper.replace(e.form.imgSrc)}))},move:function(e,t){this.$refs.cropper.move(e,t)},zoom:function(e){this.$refs.cropper.relativeZoom(e)},reset:function(){this.form.cropperHeight=310,this.form.cropperWidth=303,this.$refs.cropper.reset()},saveCropper:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a,i,r,l,u,d,f,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.$refs.cropper.getCropBoxData(),n=Math.round(s.width),a=Math.round(s.height),i=[2,3],r=c()(new Date).format("YYYYMMDDHHmmss"),l=[],u=0;case 7:if(!(u<i.length)){t.next=18;break}return d="course/images/icon/"+n*i[u]+"*"+a*i[u]+"/"+r+"@"+i[u]+"x.png",f=e.$refs.cropper.getCroppedCanvas({width:n*i[u],height:a*i[u]}),m=f.toDataURL("image/png"),h=Object(o.convertBase64ToBlob)(m),t.next=14,Object(o.uploadQiniu)(h,e.token,d);case 14:l.push(d);case 15:u++,t.next=7;break;case 18:e.$bus.$emit("uploadCopperImages",l),e.dialogVisible=!1;case 20:case"end":return t.stop()}}),t)})))()},close:function(){this.form.imgSrc="",this.form.cropperWidth=303,this.form.cropperHeight=310,this.form.times=2},cropperReady:function(){this.$refs.cropper.setCropBoxData({width:this.form.cropperWidth,height:this.form.cropperHeight})}},beforeDestroy:function(){this.$bus.off("showCropperDialog")}},u=(s("7178"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"图片裁剪",visible:e.dialogVisible,"custom-class":"cropper-dialog",width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},open:e.show,close:e.close}},[s("div",{staticClass:"cropper-container"},[s("section",{staticClass:"cropper-area"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",size:"small"}},[s("el-form-item",{attrs:{label:"裁剪尺寸"}},[e._v(" 宽："),s("el-input-number",{attrs:{min:0},model:{value:e.form.cropperWidth,callback:function(t){e.$set(e.form,"cropperWidth",t)},expression:"form.cropperWidth"}}),e._v(" 高："),s("el-input-number",{attrs:{min:0},model:{value:e.form.cropperHeight,callback:function(t){e.$set(e.form,"cropperHeight",t)},expression:"form.cropperHeight"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"裁剪倍数"}},[s("el-radio-group",{model:{value:e.form.times,callback:function(t){e.$set(e.form,"times",t)},expression:"form.times"}},[s("el-radio",{attrs:{label:2}},[e._v("2倍")]),s("el-radio",{attrs:{label:3}},[e._v("3倍")])],1)],1),s("vue-cropper",{ref:"cropper",attrs:{ready:e.cropperReady,aspectRatio:e.form.cropperWidth/e.form.cropperHeight,cropBoxResizable:!1,dragMode:"none",src:e.form.imgUrl}}),s("el-button-group",{staticClass:"cropper-actions"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-back",size:"small"},on:{click:function(t){return t.preventDefault(),e.move(-10,0)}}},[e._v("左移")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-right",size:"small"},on:{click:function(t){return t.preventDefault(),e.move(10,0)}}},[e._v("右移")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-top",size:"small"},on:{click:function(t){return t.preventDefault(),e.move(0,-10)}}},[e._v("上移")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-bottom",size:"small"},on:{click:function(t){return t.preventDefault(),e.move(0,10)}}},[e._v("下移")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-in",size:"small"},on:{click:function(t){return t.preventDefault(),e.zoom(.2)}}},[e._v("放大")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-out",size:"small"},on:{click:function(t){return t.preventDefault(),e.zoom(-.2)}}},[e._v("缩小")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"},on:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v("重置")])],1)],1)],1)]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.saveCropper(t)}}},[e._v("保 存")])],1)])}),[],!1,null,"2c4287b6",null);t.default=d.exports},a475:function(e,t,s){"use strict";var n=s("30ea");s.n(n).a},a509:function(e,t,s){"use strict";var n=s("9266");s.n(n).a},a50d:function(e,t,s){},a594:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r=s("c3a7"),c=s("f33f"),l={data:function(){return{searchKey:"",allChannels:[],channelList:[]}},components:{EditComp:r.default,SortComp:c.default},created:function(){this.initData()},computed:Object(a.a)({},Object(i.e)({langInfos:function(e){return e.course.langInfos}})),mounted:function(){},methods:{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getDisChannelList)();case 2:s=t.sent,e.allChannels=s.data.channels,e.channelList=e.allChannels.filter((function(t){var s=!1;return e.langInfos.forEach((function(n){s=s||t.title[""+n.langKey]&&t.title[""+n.langKey].indexOf(e.searchKey)>-1})),s}));case 5:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;this.channelList=this.allChannels.filter((function(t){var s=!1;return e.langInfos.forEach((function(n){s=s||t.title[""+n.langKey]&&t.title[""+n.langKey].indexOf(e.searchKey)>-1})),t.uuid.indexOf(e.searchKey)>-1&&(s=!0),s}))},addChannel:function(){var e={type:"add",listOrder:this.allChannels.length+1};this.$refs.channelEdit.show(e)},sortChannel:function(){this.$refs.channelSort.show(this.allChannels)},editChannel:function(e){var t={type:"edit",params:e};this.$refs.channelEdit.show(t)},deleteTag:function(e){var t=this;this.$confirm("此操作将永久删除该频道, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),Object(o.delDisChannel)({uuid:e}).then((function(e){e.success&&t.initData()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},sortPos:function(e,t){return e.showPos>t.showPos?1:e.showPos<t.showPos?-1:0}}},u=(s("496c"),s("af51"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"channel-container"},[s("div",{staticClass:"channel-content"},[s("div",{staticClass:"top-bar"},[s("el-input",{attrs:{clearable:"",placeholder:"请输入要查找的名称"},on:{input:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),s("div",{staticClass:"right"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.addChannel()}}},[e._v("添加")]),s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.sortChannel()}}},[e._v("排序")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelList}},[s("el-table-column",{attrs:{label:"序号",width:"80",type:"index",align:"center"}}),s("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return Object.keys(t.row.title).length?e._l(e.langInfos,(function(n){return s("div",{key:n.langKey},[s("span",[e._v(e._s(n.name+": "+(t.row.title[""+n.langKey]?t.row.title[""+n.langKey]:"")+" "))])])})):void 0}}],null,!0)}),s("el-table-column",{attrs:{label:"是否展示"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isShow?"是":"否")+" ")]}}])}),s("el-table-column",{attrs:{sortable:"","sort-method":e.sortPos,label:"展示位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"index"==t.row.showPos?"success":"primary"}},[e._v(e._s("index"==t.row.showPos?"发现首页":"列表页"))])]}}])}),s("el-table-column",{attrs:{fixed:"right",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small"},on:{click:function(s){return e.editChannel(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return e.deleteTag(t.row.uuid)}}},[e._v("删除")])]}}])})],1)],1),s("edit-comp",{ref:"channelEdit",on:{refresh:e.initData}}),s("sort-comp",{ref:"channelSort",on:{refresh:e.initData}})],1)}),[],!1,null,"0df96d70",null);t.default=d.exports},a5d8:function(e,t,s){"use strict";s.r(t);var n={data:function(){return{tableData:[{code:"ENG-Basic",langIndex:1,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"KOR-Basic",langIndex:2,isHot:"是",zhName:"韩语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/KOR-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"JPN-Basic",langIndex:3,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/JPN-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"FRE-Basic",langIndex:4,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/FRE-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"}]}},components:{LangItemComp:s("1b32").default},mounted:function(){},methods:{addLang:function(){this.$bus.emit("addLangBox")}}},a=(s("f733"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"lang-header"},[s("router-link",{staticClass:"back",attrs:{to:{path:"/lang"},href:"javascript:;"}},[s("i",{staticClass:"font_family icon-leftrs"}),s("span",[e._v("选择课程语种")])]),s("h1",[e._v("语种设置")]),s("div",{staticClass:"head-right"},[s("a",{staticClass:"add-course",attrs:{href:"javascript:;"},on:{click:function(t){return e.addLang()}}},[e._v("+新增语种")]),s("input",{attrs:{type:"text",placeholder:"输入内容关键字"}}),s("a",{staticClass:"search",attrs:{href:"javascript:;"}},[e._v("搜索")])])],1),s("div",{staticClass:"lang-lists"},[s("table",[e._m(0),s("tbody",e._l(e.tableData,(function(e){return s("lang-item-comp",{key:e.code+e.langIndex,attrs:{item:e}})})),1)])])])}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("序号")]),s("th",[e._v("编码")]),s("th",[e._v("名称"),s("span",[e._v("（中文）")])]),s("th",[e._v("名称"),s("span",[e._v("（英文）")])]),s("th",[e._v("是否热门")]),s("th",[e._v("图标")])])])}],!1,null,"78a57491",null);t.default=i.exports},a5fe:function(e,t,s){},a6cc:function(e,t,s){"use strict";var n=s("27f7");s.n(n).a},a6db:function(e,t,s){},a74f:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("0dd8"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"title",domProps:{innerHTML:e._s(e.form.text?e.form.text.replace(/\//g,"<br/>"):"")}})])])])}),[],!1,null,"158d895f",null);t.default=r.exports},a78a:function(e,t,s){"use strict";var n=s("1ac7");s.n(n).a},a78a0:function(e,t,s){"use strict";var n=s("5745");s.n(n).a},a812:function(e,t,s){},a8c7:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this;if(this.form&&this.form.type){var t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s}},imgUrl:function(){var e="";return this.form&&this.form.image&&this.form.image.length&&(e=this.assetsDomain+this.form.image[0]),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(){this.myAudio.src=this.assetsDomain+this.form.sound[0],this.myAudio.play()},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("3123"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-img"},[s("el-image",{directives:[{name:"show",rawName:"v-show",value:e.imgUrl,expression:"imgUrl"}],attrs:{src:e._f("urlFix")(e.imgUrl,"imageView2/1/format/jpg"),fit:"cover"}})],1),s("div",{staticClass:"text"},[s("span",{domProps:{textContent:e._s(e.form?e.form.sentence[0]:"")}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.form?e.form.sound[0]:"",expression:"form ? form.sound[0] : ''"}],on:{click:e.play}})])])}),[],!1,null,"18177502",null);t.default=r.exports},a8ec:function(e,t,s){var n={"./App":"3dfd","./App.vue":"3dfd","./api/api":"4ec3","./api/api.js":"4ec3","./api/authority":"fd85","./api/authority.js":"fd85","./api/casbin":"6cb5","./api/casbin.js":"6cb5","./api/course":"cabd","./api/course.js":"cabd","./api/jwt":"0cc2","./api/jwt.js":"0cc2","./api/menu":"1f27","./api/menu.js":"1f27","./api/user":"c24f","./api/user.js":"c24f","./assets/images/course/icon-cover-error.png":"9af7","./assets/images/course/icon-follow-read.png":"66c6","./assets/images/course/icon-logo.png":"bbaf","./assets/images/course/icon-offline.png":"b499","./assets/images/course/icon-voice.png":"e529","./assets/images/error/notFound.png":"783f","./assets/images/icons/icon-checked.png":"1b26","./assets/images/icons/icon-left.png":"8f32","./assets/images/icons/icon-picture.png":"85f6","./assets/images/icons/icon-right.png":"5d29","./assets/images/icons/icon-sound.png":"f5c6","./assets/images/icons/icon-video.png":"98ab","./assets/images/login/icon-checked.svg":"6817","./assets/images/login/icon-logo.svg":"1789","./assets/images/login/icon-talkmate-logo.png":"48d3","./assets/images/login/icon-talkmate.png":"d423","./assets/images/login/pic-blue.png":"27ea","./assets/images/login/pic-login-bg.jpg":"b78b","./assets/images/preview/pic-bofang.png":"98dc","./assets/images/preview/pic-preview.png":"4b76","./assets/scss/base.scss":"a24a","./assets/scss/main.scss":"c1c3","./assets/scss/preview.scss":"51fe","./assets/scss/self.scss":"1b6e","./bus":"f5ef","./bus.js":"f5ef","./components/HelloWorld":"fdab","./components/HelloWorld.vue":"fdab","./components/common/cropper":"a3ef","./components/common/cropper.vue":"a3ef","./components/common/record":"bcff","./components/common/record/":"bcff","./components/common/record/components/icon-button":"18f5","./components/common/record/components/icon-button.vue":"18f5","./components/common/record/components/line-control":"ed65","./components/common/record/components/line-control.vue":"ed65","./components/common/record/components/player":"9a3c","./components/common/record/components/player.vue":"9a3c","./components/common/record/components/recorder":"4c42","./components/common/record/components/recorder.vue":"4c42","./components/common/record/components/volume-control":"7031","./components/common/record/components/volume-control.vue":"7031","./components/common/record/index":"bcff","./components/common/record/index.js":"bcff","./components/common/record/lib/utils":"7873","./components/common/record/lib/utils.js":"7873","./components/common/record/scss/icons.scss":"e515","./components/dialogOnline":"6963","./components/dialogOnline.vue":"6963","./components/mixins/infoList":"b016","./components/mixins/infoList.js":"b016","./main":"56d7","./main.js":"56d7","./permission":"223d","./permission.js":"223d","./registerServiceWorker":"ddb8","./registerServiceWorker.js":"ddb8","./router":"a18c","./router/":"a18c","./router/index":"a18c","./router/index.js":"a18c","./store":"4360","./store/":"4360","./store/index":"4360","./store/index.js":"4360","./store/module/course":"e759","./store/module/course.js":"e759","./store/module/router":"38e2","./store/module/router.js":"38e2","./store/module/user":"7fa2","./store/module/user.js":"7fa2","./utils/asyncRouter":"8244","./utils/asyncRouter.js":"8244","./utils/filter":"7f08","./utils/filter.js":"7f08","./utils/formatDate":"2095","./utils/formatDate.js":"2095","./utils/formatFileSize":"2efc","./utils/formatFileSize.js":"2efc","./utils/request":"b775","./utils/request.js":"b775","./utils/toAge":"014f","./utils/toAge.js":"014f","./utils/uploadQiniu":"0470","./utils/uploadQiniu.js":"0470","./views/auth/forget":"7934","./views/auth/forget.vue":"7934","./views/auth/login":"bd01","./views/auth/login.vue":"bd01","./views/auth/regist":"85c9","./views/auth/regist.vue":"85c9","./views/auth/register":"6d75","./views/auth/register.vue":"6d75","./views/auth/resetPwd":"18cc","./views/auth/resetPwd.vue":"18cc","./views/changePwd/changePwd":"0604","./views/changePwd/changePwd.vue":"0604","./views/channel/channel":"a594","./views/channel/channel.vue":"a594","./views/channel/channelEdit":"c3a7","./views/channel/channelEdit.vue":"c3a7","./views/channel/channelSort":"f33f","./views/channel/channelSort.vue":"f33f","./views/course":"bff8","./views/course/":"bff8","./views/course/chapter/chapter":"dfc1","./views/course/chapter/chapter.vue":"dfc1","./views/course/chapter/common/addClassify":"b324","./views/course/chapter/common/addClassify.vue":"b324","./views/course/content/content":"428d","./views/course/content/content.vue":"428d","./views/course/content/dubbingRepeat/dubbingRepeat":"ddd7","./views/course/content/dubbingRepeat/dubbingRepeat.vue":"ddd7","./views/course/content/editCatalog":"7abc","./views/course/content/editCatalog.vue":"7abc","./views/course/content/editCatalog1":"ad27","./views/course/content/editCatalog1.vue":"ad27","./views/course/content/editFile":"41b5","./views/course/content/editFile.vue":"41b5","./views/course/content/editForm":"b5ed","./views/course/content/editForm.vue":"b5ed","./views/course/content/folder":"63c6","./views/course/content/folder.vue":"63c6","./views/course/content/form":"69db","./views/course/content/form.vue":"69db","./views/course/content/formThumb":"3197","./views/course/content/formThumb.vue":"3197","./views/course/content/formVideo":"7570","./views/course/content/formVideo.vue":"7570","./views/course/content/intertranslation/intertranslation":"c339","./views/course/content/intertranslation/intertranslation.vue":"c339","./views/course/content/kidTest/form/blank":"a8c7","./views/course/content/kidTest/form/blank.vue":"a8c7","./views/course/content/kidTest/form/fillGap":"cb1e","./views/course/content/kidTest/form/fillGap.vue":"cb1e","./views/course/content/kidTest/form/imgToSentence":"f01b","./views/course/content/kidTest/form/imgToSentence.vue":"f01b","./views/course/content/kidTest/form/makeSentence":"b416","./views/course/content/kidTest/form/makeSentence.vue":"b416","./views/course/content/kidTest/form/repeatSpeak":"4dca","./views/course/content/kidTest/form/repeatSpeak.vue":"4dca","./views/course/content/kidTest/form/sentenceToImg":"6192","./views/course/content/kidTest/form/sentenceToImg.vue":"6192","./views/course/content/kidTest/kidTest":"0ea3","./views/course/content/kidTest/kidTest.vue":"0ea3","./views/course/content/levelGrade/form/fillGap":"5017","./views/course/content/levelGrade/form/fillGap.vue":"5017","./views/course/content/levelGrade/form/followRead":"ea14","./views/course/content/levelGrade/form/followRead.vue":"ea14","./views/course/content/levelGrade/form/listenAnswerQuestion":"c9d1","./views/course/content/levelGrade/form/listenAnswerQuestion.vue":"c9d1","./views/course/content/levelGrade/form/listenForImg":"c944","./views/course/content/levelGrade/form/listenForImg.vue":"c944","./views/course/content/levelGrade/form/listenForSentence":"0d3f","./views/course/content/levelGrade/form/listenForSentence.vue":"0d3f","./views/course/content/levelGrade/form/makeSentence":"f016","./views/course/content/levelGrade/form/makeSentence.vue":"f016","./views/course/content/levelGrade/form/question":"20cc","./views/course/content/levelGrade/form/question.vue":"20cc","./views/course/content/levelGrade/levelGrade":"8f72","./views/course/content/levelGrade/levelGrade.vue":"8f72","./views/course/content/listenRead/listenRead":"235a","./views/course/content/listenRead/listenRead.vue":"235a","./views/course/content/listenSpelling/listenSpelling":"2651","./views/course/content/listenSpelling/listenSpelling.vue":"2651","./views/course/content/listeningChoice/listeningChoice":"5a86","./views/course/content/listeningChoice/listeningChoice.vue":"5a86","./views/course/content/lookContent":"ea69d","./views/course/content/lookContent.vue":"ea69d","./views/course/content/lookContentItem":"1c0a","./views/course/content/lookContentItem.vue":"1c0a","./views/course/content/lookImage":"d1d0","./views/course/content/lookImage.vue":"d1d0","./views/course/content/lookImageItem":"f2f1","./views/course/content/lookImageItem.vue":"f2f1","./views/course/content/model":"dbb33","./views/course/content/model.vue":"dbb33","./views/course/content/pictureSentence/pictureSentence":"8ab7","./views/course/content/pictureSentence/pictureSentence.vue":"8ab7","./views/course/content/readRole/readRole":"86fe","./views/course/content/readRole/readRole.vue":"86fe","./views/course/content/readingComprehension/readingComprehension":"0a60","./views/course/content/readingComprehension/readingComprehension.vue":"0a60","./views/course/content/rightMenu":"d97f","./views/course/content/rightMenu.vue":"d97f","./views/course/content/rightMenuForm":"f798","./views/course/content/rightMenuForm.vue":"f798","./views/course/content/rubbingEar/rubbingEar":"a74f","./views/course/content/rubbingEar/rubbingEar.vue":"a74f","./views/course/content/slide":"26a0","./views/course/content/slide.vue":"26a0","./views/course/content/vocabularyComprehension/vocabularyComprehension":"e8cc","./views/course/content/vocabularyComprehension/vocabularyComprehension.vue":"e8cc","./views/course/content/writingTraining/writingTraining":"54b9","./views/course/content/writingTraining/writingTraining.vue":"54b9","./views/course/course":"90e5","./views/course/course/":"90e5","./views/course/course/classGroup":"7da3","./views/course/course/classGroup.vue":"7da3","./views/course/course/edit":"574d","./views/course/course/edit.vue":"574d","./views/course/course/editCourseDetail":"d3c4","./views/course/course/editCourseDetail.vue":"d3c4","./views/course/course/index":"90e5","./views/course/course/index.vue":"90e5","./views/course/course/statistic":"4011","./views/course/course/statistic.vue":"4011","./views/course/course/unlockCourse":"8386","./views/course/course/unlockCourse.vue":"8386","./views/course/index":"bff8","./views/course/index.vue":"bff8","./views/course/lang":"a2d7","./views/course/lang/":"a2d7","./views/course/lang/edit":"e1ac","./views/course/lang/edit.vue":"e1ac","./views/course/lang/index":"a2d7","./views/course/lang/index.vue":"a2d7","./views/course/lang/sortCourse":"59d7","./views/course/lang/sortCourse.vue":"59d7","./views/course/level/level":"b313","./views/course/level/level.vue":"b313","./views/course/model/editModel":"b459","./views/course/model/editModel.vue":"b459","./views/course/model/model":"9fe2","./views/course/model/model.vue":"9fe2","./views/course/part/changeImg":"5b8f","./views/course/part/changeImg.vue":"5b8f","./views/course/part/changeVoice":"5d24","./views/course/part/changeVoice.vue":"5d24","./views/course/part/editorIn":"77d0","./views/course/part/editorIn.vue":"77d0","./views/course/part/part":"da9c","./views/course/part/part.vue":"da9c","./views/course/part/stepOne":"7b00","./views/course/part/stepOne.vue":"7b00","./views/course/part/stepTwo":"2a3d","./views/course/part/stepTwo.vue":"2a3d","./views/course/preview/grade/form/fillGap":"824d","./views/course/preview/grade/form/fillGap.vue":"824d","./views/course/preview/grade/form/followRead":"57bd","./views/course/preview/grade/form/followRead.vue":"57bd","./views/course/preview/grade/form/listenAnswerQuestion":"c4d6","./views/course/preview/grade/form/listenAnswerQuestion.vue":"c4d6","./views/course/preview/grade/form/listenForImg":"b2d0","./views/course/preview/grade/form/listenForImg.vue":"b2d0","./views/course/preview/grade/form/listenForSentence":"0b6f","./views/course/preview/grade/form/listenForSentence.vue":"0b6f","./views/course/preview/grade/form/makeSentence":"fdb1","./views/course/preview/grade/form/makeSentence.vue":"fdb1","./views/course/preview/grade/form/question":"fb34","./views/course/preview/grade/form/question.vue":"fb34","./views/course/preview/grade/gradeTest":"442d","./views/course/preview/grade/gradeTest.vue":"442d","./views/course/preview/pro":"e4b0","./views/course/preview/pro/":"e4b0","./views/course/preview/pro/choice":"4186","./views/course/preview/pro/choice.vue":"4186","./views/course/preview/pro/form/autoSpeak":"9d20","./views/course/preview/pro/form/autoSpeak.vue":"9d20","./views/course/preview/pro/form/fillGap":"cd4b","./views/course/preview/pro/form/fillGap.vue":"cd4b","./views/course/preview/pro/form/formVideo":"80dd","./views/course/preview/pro/form/formVideo.vue":"80dd","./views/course/preview/pro/form/imgToSentence":"59f3","./views/course/preview/pro/form/imgToSentence.vue":"59f3","./views/course/preview/pro/form/makeSentence":"5775","./views/course/preview/pro/form/makeSentence.vue":"5775","./views/course/preview/pro/form/pictureSentence":"974b","./views/course/preview/pro/form/pictureSentence.vue":"974b","./views/course/preview/pro/form/repeatSpeak":"a1c6","./views/course/preview/pro/form/repeatSpeak.vue":"a1c6","./views/course/preview/pro/form/sentenceToImg":"a196","./views/course/preview/pro/form/sentenceToImg.vue":"a196","./views/course/preview/pro/form/sentenceToImgBox":"9067","./views/course/preview/pro/form/sentenceToImgBox.vue":"9067","./views/course/preview/pro/form/speakToImg":"5131","./views/course/preview/pro/form/speakToImg.vue":"5131","./views/course/preview/pro/form/writewords":"00de","./views/course/preview/pro/form/writewords.vue":"00de","./views/course/preview/pro/imgAuto":"05e7","./views/course/preview/pro/imgAuto.vue":"05e7","./views/course/preview/pro/index":"e4b0","./views/course/preview/pro/index.vue":"e4b0","./views/course/preview/pro/modelVideo":"b5dc","./views/course/preview/pro/modelVideo.vue":"b5dc","./views/course/preview/pro/swiper":"21d1","./views/course/preview/pro/swiper.vue":"21d1","./views/course/questionTypes/editQuestion":"688c","./views/course/questionTypes/editQuestion.vue":"688c","./views/course/questionTypes/questionTypes":"fb45","./views/course/questionTypes/questionTypes.vue":"fb45","./views/course/questionTypes/sortQuestion":"cc3c","./views/course/questionTypes/sortQuestion.vue":"cc3c","./views/course/tags/edit":"0b57","./views/course/tags/edit.vue":"0b57","./views/course/tags/tags":"4b1c","./views/course/tags/tags.vue":"4b1c","./views/course/version/add":"5c09","./views/course/version/add.vue":"5c09","./views/course/version/copyVersion":"12ae","./views/course/version/copyVersion.vue":"12ae","./views/course/version/edit":"bc5e","./views/course/version/edit.vue":"bc5e","./views/course/version/newVersion":"5a75","./views/course/version/newVersion.vue":"5a75","./views/course/version/process1":"90c6","./views/course/version/process1.vue":"90c6","./views/course/version/process2":"71f7","./views/course/version/process2.vue":"71f7","./views/course/version/process3":"b744","./views/course/version/process3.vue":"b744","./views/course/version/rightMenu":"1087","./views/course/version/rightMenu.vue":"1087","./views/course/version/version":"1e68","./views/course/version/version.vue":"1e68","./views/dashbord":"cbd2","./views/dashbord/":"cbd2","./views/dashbord/index":"cbd2","./views/dashbord/index.vue":"cbd2","./views/dict/dict":"e8b0","./views/dict/dict.vue":"e8b0","./views/dict/feedback/feedback":"c0ae","./views/dict/feedback/feedback.vue":"c0ae","./views/dict/sentence/editSentence":"6ea4","./views/dict/sentence/editSentence.vue":"6ea4","./views/dict/sentence/sentence":"3fb7","./views/dict/sentence/sentence.vue":"3fb7","./views/dict/word/editWord":"0837","./views/dict/word/editWord.vue":"0837","./views/dict/word/word":"a0b3","./views/dict/word/word.vue":"a0b3","./views/editProject/addNew":"d771","./views/editProject/addNew.vue":"d771","./views/editProject/editor":"b447","./views/editProject/editor.vue":"b447","./views/error":"52cd","./views/error/":"52cd","./views/error/index":"52cd","./views/error/index.vue":"52cd","./views/languages":"9fd4","./views/languages/":"9fd4","./views/languages/common/addLang":"5ed0","./views/languages/common/addLang.vue":"5ed0","./views/languages/common/langItem":"1b32","./views/languages/common/langItem.vue":"1b32","./views/languages/common/letters":"08be","./views/languages/common/letters.vue":"08be","./views/languages/common/upCourseImg":"7b3b","./views/languages/common/upCourseImg.vue":"7b3b","./views/languages/index":"9fd4","./views/languages/index.vue":"9fd4","./views/languages/langCourses":"69c0","./views/languages/langCourses.vue":"69c0","./views/languages/langSetting":"a5d8","./views/languages/langSetting.vue":"a5d8","./views/layout":"162e","./views/layout/":"162e","./views/layout/aside":"9a31","./views/layout/aside/":"9a31","./views/layout/aside/asideComponent":"12b2","./views/layout/aside/asideComponent/":"12b2","./views/layout/aside/asideComponent/asyncSubmenu":"bb36","./views/layout/aside/asideComponent/asyncSubmenu.vue":"bb36","./views/layout/aside/asideComponent/index":"12b2","./views/layout/aside/asideComponent/index.vue":"12b2","./views/layout/aside/asideComponent/menuItem":"e699","./views/layout/aside/asideComponent/menuItem.vue":"e699","./views/layout/aside/index":"9a31","./views/layout/aside/index.vue":"9a31","./views/layout/index":"162e","./views/layout/index.vue":"162e","./views/layout2":"e11f","./views/layout2/":"e11f","./views/layout2/aside/aside":"41de","./views/layout2/aside/aside.vue":"41de","./views/layout2/aside/rightMenu":"b757","./views/layout2/aside/rightMenu.vue":"b757","./views/layout2/index":"e11f","./views/layout2/index.vue":"e11f","./views/live":"1502","./views/live/":"1502","./views/live/edit/edit":"90b2","./views/live/edit/edit.vue":"90b2","./views/live/index":"1502","./views/live/index.vue":"1502","./views/live/list/comment":"acd6","./views/live/list/comment.vue":"acd6","./views/live/list/commentList":"5ac7","./views/live/list/commentList.vue":"5ac7","./views/live/list/courseFiles":"0ab1","./views/live/list/courseFiles.vue":"0ab1","./views/live/list/editCourse":"5b1e","./views/live/list/editCourse.vue":"5b1e","./views/live/list/list":"5d05","./views/live/list/list.vue":"5d05","./views/live/list/onlinePersons":"e39f","./views/live/list/onlinePersons.vue":"e39f","./views/live/list/share":"2f35","./views/live/list/share.vue":"2f35","./views/live/list/subscribe":"0f52","./views/live/list/subscribe.vue":"0f52","./views/live/teacher/approve":"6f70","./views/live/teacher/approve.vue":"6f70","./views/live/teacher/teacherList":"9f94","./views/live/teacher/teacherList.vue":"9f94","./views/person/person":"b3c6","./views/person/person.vue":"b3c6","./views/photoGallery/editPicture":"14ea","./views/photoGallery/editPicture.vue":"14ea","./views/photoGallery/editTagItem":"13d2","./views/photoGallery/editTagItem.vue":"13d2","./views/photoGallery/editTags":"1dd7","./views/photoGallery/editTags.vue":"1dd7","./views/photoGallery/photoGallery":"e8a1","./views/photoGallery/photoGallery.vue":"e8a1","./views/photoGallery/photoItem":"8e4f","./views/photoGallery/photoItem.vue":"8e4f","./views/photoGallery/upload":"37af","./views/photoGallery/upload.vue":"37af","./views/qrCode/qrCodeAdd":"53e8","./views/qrCode/qrCodeAdd.vue":"53e8","./views/qrCode/qrCodeList":"1570","./views/qrCode/qrCodeList.vue":"1570","./views/searchKeys/searchKeys":"c096","./views/searchKeys/searchKeys.vue":"c096","./views/searchKeys/wordEdit":"0243","./views/searchKeys/wordEdit.vue":"0243","./views/searchKeys/wordSort":"fad2","./views/searchKeys/wordSort.vue":"fad2","./views/superAdmin":"e43e","./views/superAdmin/":"e43e","./views/superAdmin/api/api":"27fe","./views/superAdmin/api/api.vue":"27fe","./views/superAdmin/authority/authority":"9eaa","./views/superAdmin/authority/authority.vue":"9eaa","./views/superAdmin/authority/components/apis":"430c","./views/superAdmin/authority/components/apis.vue":"430c","./views/superAdmin/authority/components/menus":"b6e5","./views/superAdmin/authority/components/menus.vue":"b6e5","./views/superAdmin/index":"e43e","./views/superAdmin/index.vue":"e43e","./views/superAdmin/log/detail":"672d","./views/superAdmin/log/detail.vue":"672d","./views/superAdmin/log/log":"9917","./views/superAdmin/log/log.vue":"9917","./views/superAdmin/menu/menu":"8681","./views/superAdmin/menu/menu.vue":"8681","./views/superAdmin/user/user":"8da1","./views/superAdmin/user/user.vue":"8da1"};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="a8ec"},aa4a:function(e,t,s){"use strict";var n=s("53bc");s.n(n).a},aa69:function(e,t,s){},ab79:function(e,t,s){"use strict";var n=s("6aa6");s.n(n).a},ac41:function(e,t,s){},acc5:function(e,t,s){"use strict";var n=s("4f28");s.n(n).a},acd6:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("cabd"),i=s("ae8c"),o={data:function(){return{dialogFormVisible:!1,dialogVisible:!1,form:{coins:0,content:"",role:"student",user_id:"",uuid:""},rules:{user_id:[{required:!0,message:"请选择一个马甲",trigger:"change"}],content:[{required:!0,message:"评论内容不能为空",trigger:"blur"}]}}},computed:Object(n.a)({},Object(i.e)({majia:function(e){return e.course.majia}})),methods:{show:function(e){this.resetForm(),this.form.uuid=e.uuid,this.dialogFormVisible=!0},resetForm:function(){this.form={coins:0,content:"",role:"student",user_id:"",uuid:""}},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&Object(a.liveSendMsg)(e.form).then((function(t){t.success&&e.$message({type:"success",message:"发表成功"})}))}))},close:function(){this.$emit("initData")}}},r=(s("d270"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{width:"70%",title:"发表评论",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"昵称",prop:"user_id"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id",t)},expression:"form.user_id"}},e._l(e.majia,(function(e){return s("el-option",{key:e.user_id,attrs:{label:e.nickname,value:e.user_id}})})),1)],1),s("el-form-item",{attrs:{label:"角色"}},[s("el-radio-group",{model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[s("el-radio",{attrs:{label:"student"}},[e._v("学生")]),s("el-radio",{attrs:{label:"teacher"}},[e._v("老师")]),s("el-radio",{attrs:{label:"admin"}},[e._v("管理员")])],1)],1),s("el-form-item",{attrs:{label:"打赏金币"}},[s("el-radio-group",{model:{value:e.form.coins,callback:function(t){e.$set(e.form,"coins",t)},expression:"form.coins"}},[s("el-radio",{attrs:{label:0}},[e._v("无")]),s("el-radio",{attrs:{label:1e3}},[e._v("1000")]),s("el-radio",{attrs:{label:2e3}},[e._v("2000")]),s("el-radio",{attrs:{label:3e3}},[e._v("3000")])],1)],1),s("el-form-item",{attrs:{label:"内容",prop:"content"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)}),[],!1,null,"31c7c18f",null);t.default=c.exports},ad27:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("dbb3"),s("4194"),s("fe59"),s("ecb4"),s("ea69"),s("053b"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("c52d"),o=s("cabd"),r=s("0470"),c=s("ae8c"),l={data:function(){return{isLeft:!0,isShowRight:!0,token:"",trackNum:0,title:"",handler:"",pathDesc:"",attr_tag:"",tags:[],folder:{},contentTags:[],form:{parent_uuid:"",uuid:"",name:"",title:{},onlineState:0,goalTitle:"",desc:{},is_show:!0,flag:[],cover:[],list_order:0,content_model:"",type:"",num:1},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){var e=this;this.$bus.$on("uploadCopperImages",(function(t){e.form.cover=[].concat(Object(i.a)(e.form.cover),Object(i.a)(t))})),Object(o.getContentTags)({page:0,pageSize:0}).then((function(t){e.contentTags=t.data.tags}))},computed:Object(a.a)(Object(a.a)({},Object(c.e)({langInfos:function(e){return e.course.langInfos},assetsDomain:function(e){return e.course.assetsDomain},modelList:function(e){return e.course.modelList},version:function(e){return e.course.version},userInfo:function(e){return e.user.userInfo},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{flagUrl:function(){var e="";return this.form.flag&&this.form.flag.length>0&&(e=this.form.flag[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e},coverUrl:function(){var e="";return this.form.cover&&this.form.cover.length>0&&(e=this.form.cover[0]),e&&-1===e.indexOf("http")&&(e=this.assetsDomain+e),e},selfContentTags:function(){var e=[];return this.contentTags&&(e=this.contentTags.filter((function(e){return"kid"===e.type.toLowerCase()||"pro"===e.type.toLowerCase()}))),e},catalogAttr:function(){var e=[];return this.version&&this.contentTags&&(e=this.contentTags.filter((function(e){return"kid"!==e.type.toLowerCase()&&"pro"!==e.type.toLowerCase()}))),e.length&&(e=e.sort((function(e,t){return e.list_order-t.list_order}))),e}}),methods:{hideCatalog:function(){this.isLeft=!this.isLeft,this.isShowRight=!this.isShowRight,this.$emit("hideCatalog1",this.isLeft)},show:function(e){var t=this;if(this.resetFormData(),Object(o.getInfoToken)().then((function(e){t.token=e.data.token})),this.pathDesc=e.pathDesc,this.handler=e.handler,this.trackNum=e.trackNum,"add"===e.handler&&"catalog"===e.type&&(this.title="添加目录"),"add"===e.handler&&"content"===e.type&&(this.form.content_model="content_model_pro_sound",this.title="添加文件"),"edit"===e.handler&&"catalog"===e.type&&(this.title="编辑目录"),"edit"===e.handler&&"content"===e.type&&(this.title="编辑文件"),this.form.type=e.type,"add"===e.handler&&(this.tags=[],this.form.parent_uuid=e.uuid,this.form.list_order=e.maxOrder+10),"edit"===e.handler){this.form.parent_uuid=e.folder.parent_uuid,this.folder=e.folder;var s=e.folder;this.form.uuid=s.uuid,this.attr_tag=s.attr_tag?s.attr_tag:"",this.tags=s.tags?s.tags:[],this.form.name=s.name,this.form.title=s.title,this.form.goalTitle=s.goalTitle,this.form.onlineState=s.onlineState,this.form.desc=s.desc,this.form.flag=s.flag,this.form.cover=s.cover,this.form.is_show=s.is_show,this.form.content_model=s.content_model,this.form.type=s.type,this.form.list_order=s.list_order,this.changeAttrTag()}},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("add"===e.handler){var s={catalogsInfo:{content_model:e.form.content_model,attr_tag:e.attr_tag,cover:e.form.cover,desc:e.form.desc,flag:e.form.flag,tags:e.tags,has_changed:!0,is_show:e.form.is_show,list_order:e.form.list_order,name:e.form.name,parent_uuid:e.form.parent_uuid,title:e.form.title,goalTitle:e.form.goalTitle,onlineState:e.form.onlineState,type:e.form.type},num:e.form.num};Object(o.addCatalog)(s).then((function(t){e.trackNum+=1,t.success&&(e.$message({type:"success",message:t.msg}),0===e.trackNum&&t.data&&t.data.catalog.length?t.data.catalog.forEach((function(t){var s={authorities:[{authority:"rw",user_uuid:e.userInfo.uuid}],type:"catalog",uuid:t.uuid};Object(o.setAuthority)(s).then((function(t){e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum})}))})):e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum}))}))}else{var n={catalog_info:{cover:e.form.cover,attr_tag:e.attr_tag,desc:e.form.desc,flag:e.form.flag,has_changed:!0,list_order:e.form.list_order,name:e.form.name,tags:e.tags,title:e.form.title,goalTitle:e.form.goalTitle,onlineState:e.form.onlineState,is_show:e.form.is_show},uuid:e.form.uuid};Object(o.editCatalog)(n).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.form.parent_uuid,trackNum:e.trackNum}))}))}}))},resetFormData:function(){this.pathDesc="",this.attr_tag="",this.form={parent_uuid:"",uuid:"",name:"",title:{},goalTitle:"",onlineState:0,desc:{},is_show:!0,flag:[],cover:[],list_order:0,content_model:"",num:1},this.form.cover.length=0},uploadFlagOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.form.flag=[],n=e.raw.name.split(".")[1],a="course/content/catalog/flag/"+e.uid+"."+n,t.next=5,Object(r.uploadQiniu)(e.raw,s.token,a);case 5:i=t.sent,s.form.flag.push(i.key);case 7:case"end":return t.stop()}}),t)})))()},uploadCoverOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FileReader).onload=function(t){var n=t.target.result,a=new Image;a.onload=function(){var t=a.width,n=a.height,i=e.raw.name.split(".")[1],o="course/images/icon/"+t+"*"+n+"/"+e.uid+"."+i;Object(r.uploadQiniu)(e.raw,s.token,o).then((function(e){s.form.cover.push(e.key)}))},a.src=n},n.readAsDataURL(e.raw);case 4:case"end":return t.stop()}}),t)})))()},close:function(){},cropperImage:function(e){this.$bus.$emit("showCropperDialog",{url:e,token:this.token})},delImage:function(e,t){this.form[e].splice(t,1)},changeAttrTag:function(){var e=this;if(this.attr_tag){var t=this.catalogAttr.find((function(t){return t.key===e.attr_tag}));t?(this.form.title=t.title?t.title:{},this.form.desc=t.desc?t.desc:{},this.form.cover=t.cover,this.form.flag=t.flag):(this.form.title={},this.form.desc={},this.form.cover="",this.form.flag="")}else this.form.title=this.folder.title,this.form.desc=this.folder.desc,this.form.cover=this.folder.cover,this.form.flag=this.folder.flag}},destroyed:function(){this.$bus.$off("uploadCopperImages")}},u=(s("b8a2"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-catalog-container"},[s("div",{staticClass:"left-bar"},[e.isLeft?s("div",{staticClass:"icon-box right",on:{click:e.hideCatalog}},[s("a",{staticClass:"icon-left",attrs:{href:"javascript:;"}})]):s("div",{staticClass:"icon-box left",on:{click:e.hideCatalog}},[s("a",{staticClass:"icon-right",attrs:{href:"javascript:;"}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowRight,expression:"isShowRight"}]},[s("div",{staticClass:"path"},[e._v(e._s("路径: "+e.pathDesc))]),s("div",{staticClass:"title",domProps:{textContent:e._s(e.title)}}),s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.catalogAttr&&e.catalogAttr.length,expression:"catalogAttr && catalogAttr.length"}],attrs:{label:"目录属性"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.changeAttrTag()}},model:{value:e.attr_tag,callback:function(t){e.attr_tag=t},expression:"attr_tag"}},[s("el-option",{attrs:{value:"",label:"无"}}),e._l(e.catalogAttr,(function(e){return s("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],2)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"add"==e.handler,expression:"handler == 'add'"}],attrs:{label:"个数"}},[s("el-input-number",{attrs:{min:1},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"content"===e.form.type,expression:"form.type === 'content'"}],attrs:{label:"模型"}},[s("el-select",{attrs:{placeholder:"请选择模型"},model:{value:e.form.content_model,callback:function(t){e.$set(e.form,"content_model",t)},expression:"form.content_model"}},e._l(e.modelList,(function(e){return s("el-option",{key:e.model_key,attrs:{label:e.name,value:e.model_key}})})),1)],1),s("el-form-item",{attrs:{label:"目标语"}},[s("el-input",{model:{value:e.form.goalTitle,callback:function(t){e.$set(e.form,"goalTitle",t)},expression:"form.goalTitle"}})],1),s("el-form-item",{attrs:{label:"标题"}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[e.form.title?s("el-input",{attrs:{disabled:""!=e.attr_tag},model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}):e._e(),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"描述"}},e._l(e.langInfos,(function(t){return s("div",{key:t.langKey,staticClass:"lang-input"},[e.form.desc?s("el-input",{attrs:{type:"textarea",disabled:""!=e.attr_tag},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}}):e._e(),s("div",{staticClass:"text",domProps:{textContent:e._s("("+t.name+")")}})],1)})),0),s("el-form-item",{attrs:{label:"图标"}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片")]),s("div",{staticClass:"img-box small-img-box"},[s("div",{staticClass:"img"},[e.flagUrl?s("img",{attrs:{src:e.flagUrl,fit:"cover"}}):e._e()]),s("el-upload",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],attrs:{action:"#",accept:"image/webp","on-change":e.uploadFlagOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)],1),s("el-form-item",{attrs:{label:"封面"}},[s("el-tag",{attrs:{type:"warning"}},[e._v("请上传webp格式的图片")]),s("div",{staticClass:"img-box big-img-box"},[e.form.cover&&e.form.cover.length?s("div",{staticClass:"img"},[e._l(e.form.cover,(function(t,n){return s("div",{key:"cover"+n,staticClass:"block"},[s("span",[e._v(e._s(t.split("/")[t.split("/").length-2]))]),s("el-image",{attrs:{lazy:"",src:e.assetsDomain+t,"preview-src-list":[e.assetsDomain+t],fit:"cover"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],staticClass:"btn-handler"},[s("el-button",{attrs:{round:"",size:"small"},on:{click:function(s){return e.cropperImage(e.assetsDomain+t)}}},[e._v("裁剪")]),s("el-button",{attrs:{round:"",plain:"",type:"danger",size:"small"},on:{click:function(t){return e.delImage("cover",n)}}},[e._v("删除")])],1)],1)})),s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.attr_tag,expression:"attr_tag == ''"}],staticClass:"block"},[s("el-upload",{attrs:{disabled:""!=e.attr_tag,action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)],2):s("div",{staticClass:"img"},[s("div",{staticClass:"block"},[s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{staticClass:"self-upload"},[s("i",{staticClass:"el-icon-plus"})])])],1)])])],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.selfContentTags&&e.selfContentTags.length,expression:"selfContentTags && selfContentTags.length"}],attrs:{label:"选择标签"}},[s("el-checkbox-group",{model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},e._l(e.selfContentTags,(function(t,n){return s("el-checkbox",{key:t.key+n,attrs:{label:t.key}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{attrs:{label:"展示状态"}},[s("el-radio-group",{model:{value:e.form.onlineState,callback:function(t){e.$set(e.form,"onlineState",t)},expression:"form.onlineState"}},[s("el-radio",{attrs:{label:1}},[e._v("即将上线")]),s("el-radio",{attrs:{label:0}},[e._v("已上线")])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.handler&&!1,expression:"handler === 'edit' && false"}],attrs:{label:"是否展示"}},[s("el-radio-group",{model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),s("el-form-item",[s("div",{staticClass:"handler"},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),s("el-button",{on:{click:e.close}},[e._v("取消")])],1)])],1)],1)])}),[],!1,null,"672d6aa3",null);t.default=d.exports},ad94:function(e,t,s){},aea6:function(e,t,s){},aeb7:function(e,t,s){},af51:function(e,t,s){"use strict";var n=s("c9c7");s.n(n).a},b016:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=(s("b449"),s("ae9a"));t.default={data:function(){return{page:1,total:10,pageSize:10,tableData:[],searchInfo:{}}},methods:{handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()},getTableData:function(){var e=arguments,t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var a,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:t.page,i=e.length>1&&void 0!==e[1]?e[1]:t.pageSize,s.next=4,t.listApi(Object(n.a)({page:a,pageSize:i},t.searchInfo));case 4:o=s.sent,t.tableData=o.data[t.listKey],t.total=o.data.total,t.page=o.data.page,t.pageSize=o.data.pageSize;case 9:case"end":return s.stop()}}),s)})))()}},mounted:function(){this.getTableData()}}},b02d:function(e,t,s){"use strict";var n=s("90db");s.n(n).a},b0d7:function(e,t,s){},b0e7:function(e,t,s){},b15a:function(e,t,s){"use strict";var n=s("0580");s.n(n).a},b1e1:function(e,t,s){"use strict";var n=s("ac41");s.n(n).a},b27e:function(e,t,s){},b293:function(e,t,s){"use strict";var n=s("a50d");s.n(n).a},b2d0:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("4194");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},mounted:function(){},computed:{selfContentTypes:function(){var e=this;return this.contentTypes.filter((function(t){return t.model_key===e.form.content_type}))}},methods:{playAudio:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sentence_audio,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.desc),s}}},a=(s("0f42"),s("80b6"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"trumpet-box"},[s("div",{staticClass:"trumpet",on:{click:e.playAudio}},[s("i")]),s("span",{staticClass:"sentence"},[e._v(e._s(e.form.sentence))])]),s("div",{staticClass:"img-list"},[s("ul",e._l(e.form.imgs_choice,(function(t,n){return s("li",{key:n},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+t,"imageView2/1/format/jpg"),alt:""}})])})),0)])])}),[],!1,null,"96a2dd06",null);t.default=i.exports},b313:function(e,t,s){"use strict";s.r(t);var n=s("2480"),a={data:function(){return{searchKey:"",chapters:[],height:0,isShow:!1}},mounted:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.height=e-150,this.chapters=[];for(var t=1;t<=24;t++){var s={};s.index=t,s.title={"zh-cn":"瞧！这是一只猫。",en:"Look! This is a cat."},s.desc={"zh-cn":"学会打招呼，描述人与动物",en:"greeting. human and animal"},s.flag="http://course-assets.talkmate.com/course/images/icon/200x200/Level1-Unit1-Chapter1.jpg?v=qoiuoiewurpooo",s.cover="http://course-assets.talkmate.com/course/images/icon/1700*130/1.jpg?v=qoiuoiewurpooo",this.chapters.push(s)}var a=document.getElementById("chapter-list");new n.a(a,{swapThreshold:1,animation:0})}},i=(s("dccf"),s("4023")),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"level-container"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"text",placeholder:"输入内容关键字"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),s("span",[e._v("搜索")])]),s("div",{staticClass:"chapter-list",style:{height:e.height+"px"},attrs:{id:"chapter-list"}},e._l(e.chapters,(function(t){return s("div",{key:t.index,staticClass:"chapter-item"},[s("div",{staticClass:"more",on:{mouseleave:function(t){e.isShow=!1}}},[s("i",{staticClass:"el-icon-more",on:{mouseenter:function(t){e.isShow=!0}}}),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"operate"},[e._m(0,!0),e._m(1,!0),e._m(2,!0)])]),s("div",{staticClass:"content"},[s("div",{staticClass:"row"},[s("el-image",{staticClass:"flag",attrs:{src:t.flag,fit:"cover"}}),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[e._v(e._s("课程"+t.index))]),s("div",{staticClass:"title"},[e._v(e._s(t.title["zh-cn"]))])])],1),s("div",{staticClass:"row"},[s("el-image",{staticClass:"cover",attrs:{src:t.cover,fit:"cover"}}),s("div",{staticClass:"desc"},[e._v(e._s(t.desc["zh-cn"]))])],1)]),s("div",{staticClass:"num"},[e._v(e._s(t.index))])])})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"el-icon-edit"}),this._v("编辑")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"el-icon-view"}),this._v("预览")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"el-icon-error"}),this._v("删除")])}],!1,null,"592ada1c",null);t.default=o.exports},b324:function(e,t,s){"use strict";s.r(t);var n=(s("7678"),s("801f"),s("4023")),a=Object(n.a)({data:function(){return{radioImg:"",isShowAddClassify:!1,numLists:[{text:""},{text:""},{text:""},{text:""}]}},created:function(){var e=this;this.$bus.on("addClassifyBox",(function(){e.isShowAddClassify=!0}))},methods:{reduce:function(){this.numLists.pop()},add:function(){this.numLists.push({text:""})},determine:function(){this.isShowAddClassify=!1},cancel:function(){this.isShowAddClassify=!1},imgChange:function(e){}},beforeDestroy:function(){this.$bus.off("addClassifyBox")}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.isShowAddClassify?s("div",{staticClass:"add-classify"},[s("div",{staticClass:"add-content"},[s("div",{staticClass:"directory-name"},[s("span",[e._v("目录名称：")]),s("input",{attrs:{type:"text",placeholder:"请输入目录名称"}})]),s("h1",[e._v("选择合适的图标"),s("br"),e._v("（图标仅为编辑器内示意，不与线上同步）")]),s("div",{staticClass:"img-lists"},[s("el-radio-group",{on:{change:e.imgChange},model:{value:e.radioImg,callback:function(t){e.radioImg=t},expression:"radioImg"}},[s("el-radio",{staticClass:"radio1",attrs:{label:1}}),s("el-radio",{staticClass:"radio2",attrs:{label:2}}),s("el-radio",{staticClass:"radio3",attrs:{label:3}}),s("el-radio",{staticClass:"radio4",attrs:{label:4}})],1)],1),s("div",{staticClass:"number"},[s("span",{staticClass:"title"},[e._v("确定单元数量与名称")]),s("div",{staticClass:"right"},[s("a",{staticClass:"reduce",attrs:{href:"javascript:;"},on:{click:function(t){return e.reduce()}}},[e._v("－")]),s("span",{staticClass:"num"},[e._v(e._s(e.numLists.length))]),s("a",{staticClass:"add",attrs:{href:"javascript:;"},on:{click:function(t){return e.add()}}},[e._v("＋")])])]),s("div",{staticClass:"num-lists"},e._l(e.numLists,(function(t,n){return s("div",{key:n,staticClass:"num-item"},[s("span",[e._v(e._s(n+1)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"item.text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(s){s.target.composing||e.$set(t,"text",s.target.value)}}})])})),0),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])]):e._e()])}),[],!1,null,"6811d262",null);t.default=a.exports},b382:function(e,t,s){"use strict";var n=s("84cf");s.n(n).a},b3b7:function(e,t,s){},b3c6:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={name:"Person",data:function(){return{path:""}},computed:Object(n.a)({},Object(a.c)("user",["userInfo","token"])),methods:Object(n.a)(Object(n.a)({},Object(a.d)("user",["ResetUserInfo"])),{},{handleAvatarSuccess:function(e){this.ResetUserInfo({headerImg:e.data.user.headerImg})}})},o=(s("fd5a"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"fl-left left-mg-xs"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{headers:{"x-token":e.token},"on-success":e.handleAvatarSuccess,"show-file-list":!1,action:e.path+"/user/uploadHeaderImg",name:"headerImg"}},[e.userInfo.headerImg?s("img",{staticClass:"avatar",attrs:{src:e.userInfo.headerImg}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("div",{staticClass:"fl-left left-mg-lg"},[s("div",[e._v("用户ID："+e._s(e.userInfo.uuid))]),s("div",[e._v("用户昵称："+e._s(e.userInfo.nickName))]),s("div",[e._v("用户组："+e._s(e.userInfo.authority&&e.userInfo.authority.authorityName))])])])}),[],!1,null,null,null);t.default=r.exports},b416:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{myAudio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0],option:this.form.options[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,e.form.sound[n]&&(a.sound=e.form.sound[n]),e.form.sentence[n]&&(a.sentence=e.form.sentence[n]),t.push(a)})),t}}),methods:{play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}}}},o=(s("acc5"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.correct,expression:"correct"}],staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.correct)}}}),s("span",[e._v(e._s(e.correct.sentence))])])]),s("div",{staticClass:"options"},e._l(e.form.options,(function(t){return s("div",{key:t,staticClass:"option"},[e._v(e._s(t))])})),0)])}),[],!1,null,"69621246",null);t.default=r.exports},b447:function(e,t,s){"use strict";s.r(t);var n={data:function(){return{tableData:[{code:"ENG-Basic",langIndex:1,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/ENG-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"KOR-Basic",langIndex:2,isHot:"是",zhName:"韩语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/KOR-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"JPN-Basic",langIndex:3,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/JPN-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"},{code:"FRE-Basic",langIndex:4,isHot:"是",zhName:"英语",enName:"English",flag:"http://course-assets.talkmate.com/course/icons/FRE-3x.webp?v=4&imageView2/0/w/200/h/200/format/jpg"}]}},components:{AddNewComp:s("d771").default},mounted:function(){},methods:{addEditor:function(){this.$refs.newEditor.show()}}},a=(s("b15a"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-project"},[s("div",{staticClass:"edit-head"},[s("span",[e._v("项目编辑")]),s("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.addEditor()}}},[e._v("+新增项目")])]),s("div",{staticClass:"edit-table"},[s("table",[e._m(0),s("tbody",e._l(e.tableData,(function(t){return s("tr",{key:t.code+t.langIndex},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.langIndex,expression:"item.langIndex"}],attrs:{type:"text"},domProps:{value:t.langIndex},on:{input:function(s){s.target.composing||e.$set(t,"langIndex",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"item.code"}],attrs:{type:"text"},domProps:{value:t.code},on:{input:function(s){s.target.composing||e.$set(t,"code",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.zhName,expression:"item.zhName"}],attrs:{type:"text"},domProps:{value:t.zhName},on:{input:function(s){s.target.composing||e.$set(t,"zhName",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.enName,expression:"item.enName"}],attrs:{type:"text"},domProps:{value:t.enName},on:{input:function(s){s.target.composing||e.$set(t,"enName",s.target.value)}}})]),s("td",{staticClass:"img-small"},[s("img",{attrs:{src:t.flag,alt:""}})]),s("td",{staticClass:"img-big"},[s("img",{attrs:{src:t.flag,alt:""}}),s("div",{staticClass:"mark"})])])})),0)])]),s("add-new-comp",{ref:"newEditor"})],1)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("序号")]),s("th",[e._v("编码")]),s("th",[e._v("名称"),s("span",[e._v("（中文）")])]),s("th",[e._v("名称"),s("span",[e._v("（英文）")])]),s("th",[e._v("小图")]),s("th",[e._v("大图")])])])}],!1,null,"d8f519be",null);t.default=i.exports},b459:function(e,t,s){"use strict";s.r(t),s("3466"),s("fe59"),s("ea69"),s("053b"),s("08ba");var n=s("cabd"),a=s("2480"),i={data:function(){return{showEdit:!1,form:{model_key:"",name:"",desc:"",feilds:[{data_from:"",feild:"",name:"",type:"",list_order:1,desc:"",sub_feilds:[]}]},newFeilds:[],type:"",feildTypes:["int","bool","string","stringOptions","text","textOptions","textRadar","richText","template","templateArray","array","arrayObject"]}},mounted:function(){var e=this,t=document.getElementById("feilds-lists"),s=new a.a(t,{animation:0,onEnd:function(t){t.oldIndex,t.newIndex,e.newFeilds=[];var n=e.form.feilds;s.toArray().forEach((function(t,s){var a=n[t];a.list_order=s+1,e.newFeilds.push(a)}))}})},methods:{show:function(e){this.type=e.type,this.showEdit=!0,"edit"===this.type?(this.form=e.data,this.newFeilds=this.form.feilds):(this.form.model_key="",this.form.name="",this.form.desc="",this.form.feilds=[{data_from:"",feild:"",name:"",type:"",desc:"",list_order:1}])},add:function(){var e={data_from:"",feild:"",name:"",type:"",desc:"",list_order:this.form.feilds.length+1};this.form.feilds.push(e)},reduce:function(){if(1===this.form.feilds.length)return!1;this.form.feilds.pop()},delFeild:function(e,t){if(1===this.form.feilds.length)return!1;this.newFeilds.length>0&&(this.form.feilds=this.newFeilds);var s=this.form.feilds.findIndex((function(t){return t.list_order===e.list_order}));this.form.feilds.splice(s,1)},addSubFeilds:function(e){var t=this.form.feilds.findIndex((function(t){return t.feild===e.feild})),s=1;this.form.feilds[t].sub_feilds&&this.form.feilds[t].sub_feilds.length&&(s=this.form.feilds[t].sub_feilds.length+1);var n={data_from:"",feild:"",name:"",type:"",desc:"",list_order:s};this.form.feilds[t].sub_feilds&&this.form.feilds[t].sub_feilds.length||this.$set(this.form.feilds[t],"sub_feilds",[]),this.form.feilds[t].sub_feilds.push(n)},delSubFeild:function(e,t){this.form.feilds[e].sub_feilds.splice(t,1)},close:function(){this.$emit("editModel"),this.$refs.form.resetFields(),this.showEdit=!1},determine:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("edit"===e.type){var s={model_info:{}};s.model_key=e.form.model_key,s.model_info.desc=e.form.desc,s.model_info.feilds=e.form.feilds,s.model_info.name=e.form.name,Object(n.editorModel)(s).then((function(t){t.success&&e.close()}))}else Object(n.addModel)(e.form).then((function(t){t.success&&e.close()}))}))}}},o=(s("b1e1"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdit,expression:"showEdit"}],staticClass:"edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("el-form",{ref:"form",attrs:{inline:!0,"label-width":"95px",model:e.form}},[s("el-form-item",{attrs:{label:"model_key: ",prop:"model_key",rules:[{required:!0,message:"model_key不能为空",trigger:"blur"},{pattern:/^[a-zA-Z_]{1,}$/,message:"只允许输入字母或下划线！"}]}},[s("el-input",{attrs:{maxlength:"50","show-word-limit":"",disabled:"edit"==e.type},model:{value:e.form.model_key,callback:function(t){e.$set(e.form,"model_key",t)},expression:"form.model_key"}})],1),s("el-form-item",{attrs:{label:"名称: ",prop:"name",rules:{required:!0,message:"名称不能为空",trigger:"blur"}}},[s("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{staticClass:"desc",attrs:{label:"描述: "}},[s("el-input",{attrs:{maxlength:"40","show-word-limit":""},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),s("div",{staticClass:"num-content"},[s("h1",[e._v("feilds列表")]),s("div",{staticClass:"number"},[s("span",{staticClass:"button",on:{click:function(t){return e.reduce()}}},[e._v("－")]),s("span",{staticClass:"num"},[e._v(e._s(e.form.feilds.length))]),s("span",{staticClass:"button",on:{click:function(t){return e.add()}}},[e._v("＋")])])]),s("div",{staticClass:"feilds",attrs:{id:"feilds-lists"}},e._l(e.form.feilds,(function(t,n){return s("div",{key:n,staticClass:"feilds-item",attrs:{"data-id":n}},[s("div",{staticClass:"del",on:{click:function(s){return e.delFeild(t,n)}}},[s("i",{staticClass:"el-icon-circle-close"})]),s("el-form-item",{attrs:{label:"data_from: "}},[s("el-input",{model:{value:t.data_from,callback:function(s){e.$set(t,"data_from",s)},expression:"feild.data_from"}})],1),s("el-form-item",{attrs:{label:"feild: "}},[s("el-input",{model:{value:t.feild,callback:function(s){e.$set(t,"feild",s)},expression:"feild.feild"}})],1),s("el-form-item",{attrs:{label:"name: "}},[s("el-input",{model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"feild.name"}})],1),s("el-form-item",{attrs:{label:"type: "}},[s("el-select",{attrs:{placeholder:"请选择字段类型"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"feild.type"}},e._l(e.feildTypes,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"arrayObject"==t.type,expression:"feild.type == 'arrayObject'"}],staticClass:"icon-plus-sub-fields",attrs:{icon:"el-icon-plus",circle:""},on:{click:function(s){return e.addSubFeilds(t)}}})],1),"arrayObject"===t.type&&t.sub_feilds&&t.sub_feilds.length?s("div",{staticClass:"sub-feilds-list"},e._l(t.sub_feilds,(function(t,a){return s("div",{key:a,staticClass:"feilds-item",attrs:{"data-id":n}},[s("div",{staticClass:"del",on:{click:function(t){return e.delSubFeild(n,a)}}},[s("i",{staticClass:"el-icon-circle-close"})]),s("el-form-item",{attrs:{label:"data_from: "}},[s("el-input",{attrs:{size:"small"},model:{value:t.data_from,callback:function(s){e.$set(t,"data_from",s)},expression:"f.data_from"}})],1),s("el-form-item",{attrs:{label:"feild: "}},[s("el-input",{attrs:{size:"small"},model:{value:t.feild,callback:function(s){e.$set(t,"feild",s)},expression:"f.feild"}})],1),s("el-form-item",{attrs:{label:"name: "}},[s("el-input",{attrs:{size:"small"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"f.name"}})],1),s("el-form-item",{attrs:{label:"type: "}},[s("el-select",{attrs:{placeholder:"请选择字段类型",size:"small"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"f.type"}},e._l(e.feildTypes,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-form-item",{staticClass:"desc",attrs:{label:"备注: "}},[s("el-input",{staticStyle:{width:"512px"},attrs:{type:"textarea",size:"small"},model:{value:t.desc,callback:function(s){e.$set(t,"desc",s)},expression:"f.desc"}})],1)],1)})),0):e._e(),s("el-form-item",{staticClass:"desc",attrs:{label:"备注: "}},[s("el-input",{staticStyle:{width:"570px"},attrs:{type:"textarea"},model:{value:t.desc,callback:function(s){e.$set(t,"desc",s)},expression:"feild.desc"}})],1)],1)})),0)],1)],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:function(t){return e.determine()}}},[e._v("确定")])],1)])])])}),[],!1,null,"460daed8",null);t.default=r.exports},b499:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAABsCAMAAACyyMvoAAAAk1BMVEWYmJiYmJiXl5ebm5t/f3+Xl5eZmZlHcEyYmJicnJyYmJiYmJiYmJiXl5ecnJyXl5eXl5eXl5eVlZWXl5eYmJiXl5eYmJidnZ2ampqYmJiXl5eZmZmXl5eWlpafn5+YmJiYmJiYmJiXl5eYmJiXl5eXl5eXl5eZmZmcnJyampqampqcnJyXl5eXl5eYmJiZmZmXl5fw/fPbAAAAMHRSTlN1p/cXAs8FAOcnopDsew3zx9Qd4WaqtSI4V4JfwBEI+7qah23c8K9ELFE9MemMcksJYDi/AAAH5UlEQVRo3s2a2WKyOhCAIwRUkB0BWVxAca+8/9Od1lpIQja0/7G5LJJ+TDL7gPEbVpxVJ8h4Bv5/HJiumqbJ/b8CBEfNfWn63wD64Wma7E8AdTzN5p8ALae3RVZZpWmmH+FinxxsWZ5fBypu1iYPmt4K1tcsscU8v3lkcBpuvIa7glGm8nl+7VIvb5tLI7W0cq8zeSbTX1F7ezHfNQOWEy2Wg3iGAZ0MpRm8ZuZhAM8AILvymieXG9qyPNJA043SvLAccy7HIwk0NVbN7y0ejxQQF2fmzg2ztKrKum7mazd4kUcCyDdYKJG1OPcsoJ2E5nryNI8QSAcO1e5tsinkfUVY757iEQHtt5Q9vfQscdD6KdWG8/CB/JpCA+K+RYjP+/057juwuJwM5OECZT2pr+Z74jdqNvLaQ91pRlgQ7usYDOLhABXznrgtwl/6JUWpvNIf6r+kgPakpgTVEv/FTWMpUn57mocFpJsinOOWZ2u805M8DCA1x/ffVUTwErsi8/eVVbB54spaDIiHzsTVMMhYy5JwbE7I5IHW11+2J1mgDP93WkJe91zSZ7HkU33/TVnIAaXYrkpFWuTp5EV/qrcRpyUBBPHrrPVuYkLxJbvJdjvZyfqvGLkMughIH2GGMO29cCKvTxCZFrgvy6w9RcJ/TZFHtc4HWkboRtukJ9EDLp9gngJsWfNA7L8CDhEOpGM866JvD2ZYAGIAyjJ2Iv+1QB9HSzYQxLzFtR9fQNQ4KzWgLysX+VOAEeksILhB/x1NJ9ELfykBa2lC+4xZFoMFdEX1hma1EtQ5WC/wfOoGevYpHShD96GFYBBxXy6Q54G02BKzZiEN6IxIcRvTvspCwzR5HjsIqXU9RNdWSR9IRZ4H1HLbcodERvI8/qWZUMNvHxF4UJBAcI3sQ5UPIqBdKs8Tf/mJih4hIzKIIAEUIupDv4d6dw0NeZ7p/a0LPUOZIjf7Awfyu+NQErpeHLsbNpSnafb0PRG/qMQYEHJgC0Yo1/3ElOY5/HxnzdgUsdkRCnSk2wQs1WnTaU2aR29NtrNkbFt2rxw7IMQj5FD4LaY0T2gK5Y4okwdboO6fzXxW8N1m+Dt5HgBm/JIr7q4XLZBHiI22AoGNpvKA9vs15sadNLQfoHMXcLAz9fYKbQbwgPbMFHZpogt5kgdQe7FWB+Zbh3ZnSZ7q+0H7HRJbN+UDaEuNAxiCDaR4lg8eEIgvQ3c9t99AKiYyxvrgKT2bp3sUsvfuohr/DpSggKzV5kb5IB7gcjKedrVHdLoDtadRc95pb+d6EE+nZlfO5jWi+ADxqxvOO210G4njnw/kaSSzuYGcK0D8hst558qSEJ9HTkLtHvs7UGeGVPY7FuMOCXhALnGH1NY2xHcg6Ei8VNGDVxEPaJ1AJfGxjv5th9pznrHbgfv2N1yeguABF+Q0WP2uNtwfPQxjJow9UGNl8XjIG59KXIcU86RfQLYj4Tucfvwq5gFtKqywa88KFjQBPCFl9B0/l9vz9hI83RViajDM8fO5A6mK+NBawSoWg0elZPkr1G/Sa4pdDbDoQthORKsT48XOOIykeYAhdJPJipDFN5DdtXVnMePVGaZnUjydjs0Y4ZDfJdSTAs06kLzeswXe7Mt79PNTGk8tGBoY2xoZ47eJYkRJIolcvEuhUjkeq8u66NoLkebOnMhc0dKYAfl61lx6+TI1jMwbfkQNkdbgTCWLDcdGRHRi1jPpPMi/o5pprD5265djkJStGUG+iIh8mcpjdvrjUXnQcpxFqQ+h9Y9mrgsKaEKeFCl90nReR1u5NaRV0Gx0UKBe8qI0Mc8VuZMjmkdF672oYgO6Ufi09SrPLyP1BCoPOnYwKyjdQfT4sfoYVhY+YOpDEfRpJceDlbv3gnYTXhfFC+cHVARKxp3/ue9zpooHEyQldl2gReHZgddawDs9JuTz6CalEmLirca+mdVLrK2W8JsvMdaqcKdcnk+9nNRYvdFcE60Ot6euU8x6XM6i9hROpHxANs/DEs+02tiYpmlE7qw3ZNVzjCHWLwqm4gaej48J5TGLR9h2/cyZSOOhRniv2JfpKNo12Tt9lmdD3B8Y4iLMC7meK0yJe3Dq80Axj0OW8RKi0W/q0m3yI9HGrCNS38V9YJc4DpUY+1EGzTEetoL+6W3Lx7kQ4ilSsq2XDBu1KEaCfi7MOM3pyQd+GkVJdojnxeBhlMVM0M+Ft4ja8l25GX6Z1ZJsZDvZM+M6ai3sL9vVmsB2coB7ZbivV7QxjKcGmnoDRLT+oLowR2ttu/Xc6JqdCUVXQf+uKQA+PfLlRwPno3Cj/0HTxbn/ygwaRLd0vnnsbLSxTkv+i8uTRR0v8vavzKDh9vCROcXfrkXJ02NMl71/vLr08RkH6K/MoBE8aT/Ud1yjrI7JIVbtwp+eT7fwypi2uP+6VF8Y+SJ5fvr4p6fHYcvi+QkrzrxW+BzOTg6HBwTp873ZMzhaaMuqJhjIg5RMZZdiJANsBRjIQwySCNdqHRaDjBcYyjMeVxfpezzPhtEwgSB3Pny5L13hwSn59bYcD19gOM8DChgeg0rx5h+JPn5uged4HhnW4RiWxlrzthNnN/G0PBqV4d6H4xcWeIHnnyzwx3goQMZbefpA2Xt5+kDae3l6QHD1Xp6+hCbv5ekDGe/l6QM9Kujv4qGoffxVHp6r4z8D9JlWnO3x29Z/IU2vHX4h6aIAAAAASUVORK5CYII="},b58b:function(e,t,s){"use strict";var n=s("512f");s.n(n).a},b5dc:function(e,t,s){"use strict";s.r(t);var n={props:["slideForms"],created:function(){this.$on("init",(function(){}))},components:{formVideo:s("80dd").default},computed:{}},a=(s("ec38"),s("4023")),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"model-video"},[t("div",{staticClass:"model-content"},this._l(this.slideForms,(function(e,s){return t("form-video",{key:s,attrs:{form:e,index:s}})})),1)])}),[],!1,null,"05ad2a9c",null);t.default=i.exports},b5ed:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n={data:function(){return{height:0,drawer:!1,contentModel:"",contents:[],feilds:[]}},components:{ModelComp:s("dbb33").default},methods:{show:function(e){var t=this;this.resetData(),this.contentModel=e.folder.content_model,this.feilds=e.model.feilds;var s={};this.feilds.forEach((function(e){var t;"int"===e.type?t=0:"string"===e.type||"template"===e.type?t="":"templateArray"!==e.type&&"array"!==e.type||(t=[]),s[e.feild]=t})),s.uuid="",e.contents&&e.contents.length?this.contents=e.contents:this.contents.push(s);var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.height=n-2,this.drawer=!0,setTimeout((function(){t.$refs.model.initData({pUUID:e.folder.uuid,contents:t.contents,feilds:t.feilds,contentModel:t.contentModel,baseFormData:JSON.stringify(s),pathDesc:e.pathDesc})}),0)},closed:function(){this.$refs.model.resetData()},resetData:function(){this.contentModel="",this.contents=[],this.feilds=[],this.baseFormData={}}}},a=s("4023"),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-drawer",{attrs:{visible:e.drawer,"with-header":!1,size:"80%",direction:"rtl"},on:{"update:visible":function(t){e.drawer=t},closed:e.closed}},[s("model-comp",{ref:"model",style:{height:e.height+"px"}})],1)}),[],!1,null,"a63db83c",null);t.default=i.exports},b601:function(e,t,s){"use strict";var n=s("205f");s.n(n).a},b62e:function(e,t,s){"use strict";var n=s("15a1");s.n(n).a},b647:function(e,t,s){},b674:function(e,t,s){"use strict";var n=s("cfd6");s.n(n).a},b679:function(e,t,s){},b6e5:function(e,t,s){"use strict";s.r(t),s("2eeb"),s("d497"),s("513c"),s("b449");var n=s("ae9a"),a=s("1f27"),i={name:"Menus",props:{row:{default:function(){return{}},type:Object}},data:function(){return{menuTreeData:[],menuTreeIds:[],menuDefaultProps:{children:"children",label:"nickName"}}},methods:{relation:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$refs.menuTree.getCheckedNodes(!1,!0),t.next=3,Object(a.addMenuAuthority)({menus:s,authorityId:e.row.authorityId});case 3:t.sent.success&&e.$message({type:"success",message:"添加成功!"});case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getBaseMenuTree)();case 2:return s=t.sent,e.menuTreeData=s.data.menus,t.next=6,Object(a.getMenuAuthority)({authorityId:e.row.authorityId});case 6:n=t.sent,i=n.data.menus,o=[],i.map((function(e){i.some((function(t){return t.parentId===e.menuId}))||o.push(Number(e.menuId))})),e.menuTreeIds=o;case 11:case"end":return t.stop()}}),t)})))()}},o=s("4023"),r=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"clearflex"},[t("el-button",{staticClass:"fl-right",attrs:{size:"small",type:"primary"},on:{click:this.relation}},[this._v("确 定")])],1),t("el-tree",{ref:"menuTree",attrs:{data:this.menuTreeData,"default-checked-keys":this.menuTreeIds,props:this.menuDefaultProps,"default-expand-all":"","highlight-current":"","node-key":"ID","show-checkbox":""}})],1)}),[],!1,null,null,null);t.default=r.exports},b744:function(e,t,s){"use strict";s.r(t);var n=(s("e898"),s("4023")),a=Object(n.a)({data:function(){return{showProcess3:!1,processLists:[{text:""},{text:""},{text:""},{text:""},{text:""}]}},created:function(){var e=this;this.$bus.on("showProcess3",(function(){e.showProcess3=!0}))},methods:{add:function(){this.processLists.push({text:""})},reduce:function(){this.processLists.pop()},back:function(){this.showProcess3=!1,this.$bus.emit("showProcess2")},cancel:function(){this.$bus.emit("closeAdd")},success:function(){}},beforeDestroy:function(){this.$bus.off("showProcess3")}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showProcess3,expression:"showProcess3"}],staticClass:"process3"},[s("div",{staticClass:"process-header"},[s("span",{staticClass:"el-icon-arrow-left back",on:{click:function(t){return e.back()}}}),s("span",{staticClass:"title"},[e._v("第3步：创建Level")]),s("div",{staticClass:"right"},[s("a",{staticClass:"reduce",attrs:{href:"javascript:;"},on:{click:function(t){return e.reduce()}}},[e._v("－")]),s("span",{staticClass:"num"},[e._v(e._s(e.processLists.length))]),s("a",{staticClass:"add",attrs:{href:"javascript:;"},on:{click:function(t){return e.add()}}},[e._v("＋")])])]),s("div",{staticClass:"level-lists"},e._l(e.processLists,(function(t,n){return s("div",{key:n,staticClass:"level-item"},[s("span",[e._v(e._s(n+1)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"item.text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(s){s.target.composing||e.$set(t,"text",s.target.value)}}})])})),0),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.success()}}},[e._v("完成")])])])}),[],!1,null,"3ebf3c2e",null);t.default=a.exports},b757:function(e,t,s){"use strict";s.r(t);var n=(s("92f9"),s("4023")),a=Object(n.a)({data:function(){return{isShow:!1,left:0,top:0}},methods:{show:function(e){this.isShow=!0,this.left=e.left-20,this.top=e.top+20},hide:function(){this.isShow=!1},handleSelect:function(e){}}},(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"right-menu",style:{left:this.left+"px",top:this.top+"px"}},[t("el-menu",{on:{select:this.handleSelect}},[t("el-menu-item",{staticClass:"menuItem",attrs:{index:"1"}},[t("span",{attrs:{slot:"title"},slot:"title"},[this._v("新建")])]),t("el-menu-item",{staticClass:"menuItem",attrs:{index:"2"}},[t("span",{attrs:{slot:"title"},slot:"title"},[this._v("修改")])]),t("el-menu-item",{staticClass:"menuItem",attrs:{index:"3"}},[t("span",{attrs:{slot:"title"},slot:"title"},[this._v("删除")])])],1)],1)])}),[],!1,null,"2ff34da0",null);t.default=a.exports},b775:function(e,t,s){"use strict";s.r(t),s("fe59"),s("ecb4"),s("fe8a"),s("e18c"),s("e35a"),s("5e9f"),s("0d7a"),s("08ba");var n,a,i=s("82ae"),o=s.n(i),r=s("b705"),c=s("4360"),l=o.a.create({baseURL:"",timeout:99999}),u=0,d=function(){--u<=0&&(clearTimeout(a),n&&n.close())};l.interceptors.request.use((function(e){u++,a&&clearTimeout(a),a=setTimeout((function(){u>0&&(n=r.Loading.service({fullscreen:!0}))}),400);var t="application/json";if(e.headers["Content-Type"]&&"multipart/form-data"===e.headers["Content-Type"]){t="multipart/form-data";var s=new FormData;e.data&&(Object.keys(e.data).forEach((function(t){t.indexOf("[]")>-1?e.data[t].split(",").forEach((function(e){s.append(t.replace("[]",""),e)})):s.append(t,e.data[t])})),e.data=s)}else e.data=JSON.stringify(e.data);var i=c.store.getters["user/token"];return e.headers={"Content-Type":t,"x-token":i},e}),(function(e){return d(),Object(r.Message)({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),l.interceptors.response.use((function(e){if(d(),e.data.success)return e.data;var t="";return e.data.data&&e.data.data.err&&(t=e.data.data.err),t||(t=e.data.msg),Object(r.Message)({showClose:!0,message:t,type:"error",onClose:function(){e.data.data&&e.data.data.reload&&c.store.commit("user/LoginOut")}}),Promise.reject(e.data.msg)}),(function(e){return d(),Object(r.Message)({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),t.default=l},b78b:function(e,t,s){e.exports=s.p+"img/pic-login-bg.5e92d542.jpg"},b7ed:function(e,t,s){},b826:function(e,t,s){},b8260:function(e,t,s){},b8a2:function(e,t,s){"use strict";var n=s("b7ed");s.n(n).a},b8a4:function(e,t,s){"use strict";var n=s("2b1b");s.n(n).a},ba22:function(e,t,s){},bb36:function(e,t,s){"use strict";s.r(t);var n={name:"AsyncSubmenu",props:{routerInfo:{default:function(){return null},type:Object}}},a=s("4023"),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-submenu",{ref:"subMenu",attrs:{index:this.routerInfo.name}},[t("template",{slot:"title"},[t("i",{class:"el-icon-"+this.routerInfo.meta.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[this._v(this._s(this.routerInfo.meta.title))])]),this._t("default")],2)}),[],!1,null,null,null);t.default=i.exports},bbaf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAA8CAMAAADSf3mHAAABC1BMVEVHcEz/////////////////////f//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uKlj////////////////////////////////////////uK1j////////////////vK1j////////////////////////////////////////////////////////yKlv/////NlvvK1juKljuKljuKljuKlfuKVfvK1rvK1rvKVfvK1r////uKlhnjcnXAAAAV3RSTlMAYOy/+CgCNPsvH1RB5gaMK4d1oiyWea6o2KMKIq+0nw2ZEaZZ1bIE0W7w7k/JkVIVg6xr4dyZ8rlxnLU9XMT04zllHUoZzUZ+VioxDoH4qGvM3UFj41Lic04kAAAM8ElEQVR42u2d90PiPhvAK6MUZIgIBxaVoQeibBDw2ENwe8Pr/f9/ybe0tE3aJJ3e3ften5+wM+OT5FmpFOWk+DhZ9pWjIeUod0S58q+IS4MrLg3/V5JqyTL/12iIlWVpuiRs5VTpreS/RkNaKduxS4JLg0uDS4NLg0uDS4NLg0uDS4NLg0uDS4NLg0uDS8OH0/Bw8/UKLe9fnp+wj2wtCC/M1rcyo9Z1UJbho5yV4hdGvAzF3+vtb5p0dSO8kwBw0C8dzJqigV1kjwKzwEF2VfofoYF9XN/PB4PRctawQsPbyy+CfHvAPJLhDvBFymW2r2JmdU4jF010KbOgqJgJbm88EX9Xt7+j0NmELEL/P0qvqgIXHUoHmxTl4YVRSuTz7ETF2OPmNAJc5W0GbNOQCwASlEBVDu0GWDhf9jDTcWIPqme22ap6fNO7fB03pBrz4gVQsYv8vYbhDl9PH6LuBfH0919k+fZkgYaW8KpBtsIhJDLTaVWOu1f1C5GGkOq+UgVBwwyggcMISIM/1tFe4F3ao4Hug09r7456lUOx7d/XVflvT1zu+H3gskqKRYzA9pjRlHg6UJHTw9R9R8MXHRp+vZmnYSC84FO0in6zJ4u4p0qgIUCkAbhVvG8PQQN1bIaG8GfMJf2CHRpS4KPOKCQN0TN4KhXbqnECl6PrVxVjEaugSxwZmqCBvtKj4dU0DTOB0W6uhmv2u6j2pjlMw+gQEOFBF+JvYcimBuCt/p6KosFES0PuzAQNXtwlXCdgnYYZOHbvWCQNBfWrPdsXriPqclRmhOaDhBmYoEEPhl9fzNLQEIruCyzOzhKJ4+NisZhOp1ut1qeTfmb37hritiREQ5EjCgPdGjr1wXPKYhSPxWKXKu2jzR+LLY3QgG9bzhOySkMBXHs8CxR6McR02s1Rax9izMPqV8GHL/LcJg3fXl/frdKwWxzbyJOruA+1FAgyjAvtcsGDM5Nne0M08LqCP7gVYxaLPg2ktlVNbMZpACd7JkwhaThDvPA2PEGV4zNcqRN8iX0BOzS8vPHtQj9bpCEmPD2N6wqxar4l8pywCojl8pqiwZQY0CIJbSuqeuZpaIPPAKctoKZTdG+iywGvWfeEEndLNmjY6Y3PpmlYLXIHt8LDM/hRei2unullthDF00Dlbm3QwAbuz7VSD/uN0kBq217BCg1BsE8hM5/MPV6KcJV7hEtH1ml42bXKk2ka5Ol9QvK4yKa/Rn0AaeAX//rlToTppnwJSJvEAn2JbZnyzBgNxLZNWaAhl0FqkHZoYGAzM0G4tGydhq/Snd/M0lCQFrhz4shNGKMBbWEakENCu0z4Up/xAszJmbOd0JoyVvq1Tfsw7/XAdoUFGhJ4RdQqDVwYesxSROTutjloxz5n4EtlMzPP1xPQZrtS3VkcDVfSEHsxrTeMGMmKI0n0+ENpyPlITXhizDO95ilpBiU+2A2kyGVN07CH0SC1NPTiy8B6o7EomeR1IDyA+3gDK9IernK2lOeL6wz2UrxnGqU3fBdP/bSgRQ5PPVzvULfD5hUHacgFJRGttiFxQFWM0VBKwgb9IoNchg3S4AdhGlAEGsqiarMaq3yKYmnYIl5xoC5H0NJRyoNeM+s0vAuxiYcrazZFoWRg/JYCh/nj9J4jNMxUzXMujKXi5lAjHUU7MB3DPGDQdxihgS3j+xCmwSNp31HIvGDk2aiP62JEGwO+iwptmYZfLzc/fty8WLAwS34zQhMszGxxJ0mQhmvp6D6oTU/gup3j/FvU2AYN4Mp/apKGJFaDVNNwqPLuSy4HZfIFjlZ1SrwErm1Yp8GyL5LumdGCcgQaWGkoTiEagNgTMEUiaBhQuFiIVRqAeOzYHA11gisTpmGioMKC2g8QlbgDYhh6E3AP+YTfRgM0kdmiQfb/QDQUIiga6CbzG2gIobtBn4YlEE9i1hSJBvDBXcD9BMyigOaQ0SsysFTM/gQNAcYpGlYRBA3UkuFQVsvB5aePoGGxf9hM5mOb8yCvC+WAGIEpGqbIlQBJwyn6MNjtcSINufDlppavNefDrQMBiMQujWW7OBy1mvss0rDNSxqIbvlweLUNfh1XtDRQj2IQv4lUNB2lIZgEzDxPol4A/jJFAz62oOn2JFpP6aODlWoaCoOyMhgZ72WopVx7bYyGK4djmI/5cgQWYa6LIATSpybaRBA6y6uaWbVNEd0qoA0kDQnnaMh6CdECyzR0S2QawBBIHg3RHo6GaNxHKLJBGr45HtFWT15qvQstY1RakHHvk8M0zCekSc0yDcjIrjM0BC+I87BBGr5CmS03Wnlzggav7mX7v4GGO6M0tMlLnHUaIrkPosHv4ZygAcqEezAeFjZMQ8EYDdSG+XAaugZpqHMfRYPKm+wYDY0O5wgNr38LDbxhIFiV1WQyObRDwz2GhuiSM0YDO/04GnqND6EhyTlDwzMiQuE8DX1Dl9qIWgWUxNOlkZ4k0ZBSxQi84w7jFA0IJ6kDNPjh8lXuvJmJJRq+G8iPtkVDwzINZ15eaJCG5ng89gZ0aAgSafDq0wDOup09wfIpHW0unKGByX4ADXHQkKitxHbf6zOmaXgykB9tPE4R14qQ8NxFnIhHdWjwSI4emYaYOoKIoqHUJdFwqUtDFgwMsSjnoB0aiFErqzQAUbEK4INumqYBMiqunmzODXrKjHFfJL/Oy5EZmYZLnD8PpIF6nOr3BYGGESYx2QYNp+Afj47TsAKeDiYaWaDh2dpSgaah6SANIVlbkGmoa7NUETRQhWb/AiXVk/OSPg0pjCPZOg3eEikQbZ8GILB5R9mj4cHIPjujNJS8ztEwk7tKpiGAnGo1NBgQAg0xTFqyZRr4GWYG/r12moY6Rkm1QAPscXi1RwNFt6sTh2i4l/+SaWhgrVUNDXR3Op1KI2XJ/55eYmjIqx4FJGtD29B7FmlghvD7uDvaYRramAzevAUa4H25z7ZtCjoKidDF5ShCdGyKgawyyjTQPlxYX0PDAdiM+5qGOtVkSspyjI4D+63aFMJy88hh1nYnaBhg5oY7XRq0th791QoOhi3MIZzCbdzCjMl5wYq/oavqC5iGW3WrpYzQ0FGFkmroPWsxqzSIuwk+YYNX9mkYaQxopU3INHi0m70f4C84fHn6O2goyjk7Cg1Cy0WN0JAAc8y1NLTAzVPbzqGH0rDaAG1LIzM3rNBwhI3D2KdhDWRPKe4M9g5DA7i9Ly805gxcLd9UKfQ/6L+BhrGsWyg0JDSrOYYGdpscUYliachDGyRaxbFHyqaGtuTKRsW+h7NHAzgi4eCVfRqARYwbS6Pd78X5ImNQ3U+OxxGOwyqSW9NCn4ePpyEit7vQ1S1ZSw4boGEE6RFaGuLY3HrYl3k641uXXY9teKaPEN7jjbPeJ8h7et7gZ7qjJIP1TKcQGj3kkNR80+P9+eEP09BQ0oLXckhqjolkqGlgO5App6VhD09DCQ4OM50IYytqdQSuXYjglQM05FXl60xIUat9HRoo+hWxA+/HH6XhXOnfuawth3GpMzANtGAlZkpQ/ePg9SE8Dah5wwkasgw6eOUADY+61vy1OnJEooGib7Q43PxJGkQdSNx/U5U1rxyDiVQEQOuZbakMubrWmsrgaShUPoQG0JEBBq+ciGinzdAAWp5oGijq57uahgezNMz2ECKMtCnqzB7o6tt+Ek3woiT5H41QW/yq3IrKLoYtwC8oVJuprZE0iG4dVryXK9MwkdxhgbhUyDSgP+0Ss01DiEEGr5ygIYRKfRpXMTTs69NAPT2/oPdqG6Zhw5mTGtLvu50HNvIeI+l4F9LFND4HUfXr9E9PF15tMI+tSAtqt7sblKUyngYK8cWq+Mo2DXBOyqOTNFBDba56OefF0ECP9WmgqIdXkIcfpmlY26AhgaDhglVo2IO8sB5kTo24q0isKvz1GGBgS8VedfA00OroG5OiHKBh5UMFr5zJkg2rZ4d+g8LRQDW6BmjYzg/vBqPbSL2hb52GRU9DQ3WhzBnKxJpikP5IL0yD6sN47IWGBmoBl7YM7RFeQnpFOUg5QQM856wdpYFaQF817M3hJ8M0UCv4E4gXuP/tRf/8cqWvQ2JoWI0t00CFOzANncOSvIJMmoD/w/8ZRcNRD6BhUlN/17FR1dDAd3lLssQq6aE6Gjvq7072Euvt23PKJ2uTVmlYTRDBK4do4C2LM2k/kHcuuLdSSpEfNfN4WipL7yRM6mj6+/NX3YxZtE1B12OtT4YF3rGfu4/d7iS8bs92bVVrFWujhmpZWCIyXoInYvX8xfQ8h4i1j9LlSIUX6LubdCHrD/qzBaSzrdTIHvhXOfIXCI7kr0eAX6SLKkeDYCggG9SeAI6twLGuHAaT5wrKYb+2NIWQ/yDUiBqy4LZ1P8LVXbVk6KVPFwx9p+H3SonlhaZcccUVVyzIf9wkCZf/FVYsAAAAAElFTkSuQmCC"},bbbe:function(e,t,s){},bc5d:function(e,t,s){},bc5e:function(e,t,s){"use strict";s.r(t),s("4194"),s("fe59"),s("053b"),s("fe8a"),s("e18c"),s("96db"),s("08ba"),s("af86"),s("f1a9"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("ae8c"),r=s("0470"),c={props:["authorityUsers"],data:function(){return{showEdit:!1,versions:[],versionDesc:"",form:{cover:[],desc:{},flag:[],module:"basic",has_changed:!0,has_del:!0,is_show:!1,name:"",parent_uuid:"",tags:[],title:{},update_time:0,uuid:"",version:""},modules:[{val:"basic",text:"基础内容"},{val:"levelGrade",text:"等级测试内容"}],imgUrl:"",fileRaw:{},type:"",authorities:[]}},components:{},created:function(){},computed:Object(a.a)({},Object(o.e)({assetsDomain:function(e){return e.course.assetsDomain},langInfos:function(e){return e.course.langInfos},userInfo:function(e){return e.user.userInfo}})),mounted:function(){},methods:{show:function(e){var t=this;this.type=e.type,this.authorities=[],this.authorityUsers&&this.authorityUsers.length&&this.authorityUsers.forEach((function(s){var n="";if("edit"===t.type&&e.obj.authorities){var a=e.obj.authorities.find((function(e){return e.user_uuid===s.uuid}));a&&(n=a.auth)}var i={authority:n,user_uuid:s.uuid};t.authorities.push(i)})),"add"===this.type?(this.form.name="",this.form.parent_uuid=e.obj.parent_uuid,this.versions=e.versions,this.form.version="",this.cover=[],this.form.desc={},this.form.flag=[],this.form.has_changed=!0,this.form.has_del=!0,this.form.is_show=!1,this.form.module="basic",this.form.tags=[],this.form.title={},this.form.update_time=0,this.form.uuid="",this.imgUrl=""):"edit"===this.type&&(this.form=e.obj,this.imgUrl=e.obj.cover[0]?this.assetsDomain+"/"+e.obj.cover[0]:""),this.showEdit=!0},close:function(){this.showEdit=!1,this.$emit("newEditVersion")},upload:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.fileRaw).length){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=5,Object(i.getInfoToken)();case 5:return s=t.sent,n=s.data.token,a="course/coversV2/"+e.fileRaw.name,t.next=11,Object(r.uploadQiniu)(e.fileRaw.raw,n,a);case 11:o=t.sent,"add"===e.type?e.form.cover.push(o.key):e.form.cover.unshift(o.key);case 14:case"end":return t.stop()}}),t)})))()},fileChange:function(e,t){this.imgUrl=URL.createObjectURL(e.raw),this.fileRaw=e},handleSuccess:function(e,t){this.imgUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.upload();case 3:if("add"!==e.type){t.next=11;break}return t.next=6,Object(i.addCourseVersion)(e.form);case 6:(s=t.sent).success&&(n={authority:"rw",user_uuid:e.userInfo.uuid},e.authorities.push(n),e.setVersionAuthority(s.data.uuid),e.showEdit=!1),t.next=14;break;case 11:a={uuid:e.form.uuid,content_info:{cover:e.form.cover?e.form.cover:[],desc:e.form.desc?e.form.desc:{},flag:e.form.flag?e.form.flag:[],has_changed:!e.form.has_changed||e.form.has_changed,is_show:e.form.is_show,name:e.form.name?e.form.name:"",tags:[],title:e.form.title?e.form.title:{},version:e.form.version,update_time:e.form.update_time?e.form.update_time:0}},Object(i.editCourseVersion)(a).then((function(t){t.success&&(e.setVersionAuthority(e.form.uuid),e.showEdit=!1)}));case 14:case"end":return t.stop()}}),t)})))()},setVersionAuthority:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={authorities:t.authorities&&t.authorities.length?t.authorities:null,type:"content_version",uuid:e},s.next=4,Object(i.setAuthority)(n);case 4:t.$emit("newEditVersion");case 5:case"end":return s.stop()}}),s)})))()}}},l=(s("7194"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdit,expression:"showEdit"}],staticClass:"edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"course-content"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"名称："}},[s("el-input",{attrs:{maxlength:"25","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"版本号："}},[s("el-input",{attrs:{placeholder:"V1（大写V + 数字）",maxlength:"25","show-word-limit":""},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),s("el-form-item",{attrs:{label:"版本描述："}},e._l(e.langInfos.filter((function(e){return"zh-CN"==e.langKey})),(function(t){return s("div",{key:"desc"+t.langKey,staticClass:"input-box"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}})],1)})),0),s("el-form-item",{staticClass:"flex-class",attrs:{label:"内容分类："}},[s("el-radio-group",{model:{value:e.form.module,callback:function(t){e.$set(e.form,"module",t)},expression:"form.module"}},e._l(e.modules,(function(t){return s("el-radio",{key:t.val,attrs:{label:t.val}},[e._v(e._s(t.text))])})),1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"背景："}},[s("div",{staticClass:"img-box"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.imgUrl?e.imgUrl:"",alt:""}})]),s("el-upload",{attrs:{action:"#","http-request":e.upload,accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChange,"on-success":e.handleSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)]),s("el-form-item",{staticClass:"flex-class",attrs:{label:"是否展示："}},[s("el-radio-group",{model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e.authorities.length?s("el-form-item",{attrs:{label:"权限设置："}},e._l(e.authorityUsers,(function(t){return s("div",{key:t.uuid,staticClass:"user-item"},[s("div",{staticClass:"name"},[e._v(e._s(t.nickName))]),s("el-radio-group",{model:{value:e.authorities.find((function(e){return e.user_uuid==t.uuid})).authority,callback:function(s){e.$set(e.authorities.find((function(e){return e.user_uuid==t.uuid})),"authority",s)},expression:"authorities.find(a => { return a['user_uuid'] == item.uuid })['authority']"}},[s("el-radio",{attrs:{label:""}},[e._v("无")]),s("el-radio",{attrs:{label:"r"}},[e._v("只读")]),s("el-radio",{attrs:{label:"rw"}},[e._v("可读可编辑")])],1)],1)})),0):e._e()],1),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",on:{click:e.close}},[e._v("取消")]),s("a",{staticClass:"determine active",on:{click:e.save}},[e._v("确定")])])],1)])])])}),[],!1,null,"aa32ef4a",null);t.default=u.exports},bcff:function(e,t,s){"use strict";s.r(t);var n=s("9a3c");s.d(t,"AudioPlayer",(function(){return n.default}));var a=s("4c42");s.d(t,"AudioRecorder",(function(){return a.default}));var i={AudioPlayer:n.default,AudioRecorder:a.default,install:function(e){this.installed||(this.installed=!0,e.prototype.$eventBus=e.prototype.$eventBus||new e,e.component("audio-player",n.default),e.component("audio-recorder",a.default))}};t.default=i},bd01:function(e,t,s){"use strict";s.r(t),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o={name:"Login",data:function(){return{isLogin:!0,isSavePwd:!1,addNameCls:!1,addPwdCls:!1,loginForm:{username:"",password:""}}},components:{Register:s("6d75").default},methods:Object(a.a)(Object(a.a)({},Object(i.b)("user",["LoginIn"])),{},{login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.LoginIn(e.loginForm);case 2:case"end":return t.stop()}}),t)})))()},goRegister:function(){this.isLogin=!1},haveGoLogin:function(){this.isLogin=!0},linkToForget:function(){this.$router.push({name:"resetPwd"})},goBack:function(){this.isShowForget=!1},onFocusName:function(){this.addNameCls=!0},onFocusPwd:function(){this.addPwdCls=!0},blurTextFn:function(){""!==this.loginForm.username?this.addNameCls=!0:this.addNameCls=!1,""!==this.loginForm.password?this.addPwdCls=!0:this.addPwdCls=!1}})},r=(s("237a"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"login-regist-box"},[s("div",{staticClass:"login_wrapper"},[s("div",{staticClass:"login_form"},[s("section",{staticClass:"login_content"},[s("div",{staticClass:"login-left"},[s("div",{staticClass:"icon-logo"},[s("i")]),s("span",{staticClass:"desc-talkmate"}),s("span",{staticClass:"desc text"},[e._v("欢迎使用全球说编辑器系统")])]),e.isLogin?s("el-main",{staticClass:"login-box"},[s("div",{staticClass:"talkmate-log"}),s("form",[s("div",{staticClass:"form-group text-group",class:{active:1==e.addNameCls},attrs:{id:"text-icon"}},[s("i",{staticClass:"font_family icon-accout"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],attrs:{type:"text",id:"username",placeholder:"请输入用户名"},domProps:{value:e.loginForm.username},on:{focus:function(t){return e.onFocusName()},blur:function(t){return t.preventDefault(),e.blurTextFn()},input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),s("div",{staticClass:"form-group password-group",class:{active:1==e.addPwdCls},attrs:{id:"pwd-icon"}},[s("i",{staticClass:"font_family icon-password"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",id:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.password},on:{focus:function(t){return e.onFocusPwd()},blur:function(t){return t.preventDefault(),e.blurTextFn()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()},input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),s("div",{staticClass:"forget"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.linkToForget()}}},[s("span",[e._v("忘记密码了？")])])]),s("div",{staticClass:"btn_login"},[s("button",{staticClass:"login-btn-panel",attrs:{type:"button"},on:{click:function(t){return e.login()}}},[e._v("登 录")]),s("i",{staticClass:"box-shadow"})])]),s("a",{staticClass:"go-register",attrs:{href:"javascript:;"},on:{click:function(t){return e.goRegister()}}},[s("span",[e._v("去注册")])])]):s("register",{on:{haveGoLogin:e.haveGoLogin}})],1)])])])}),[],!1,null,"db073a90",null);t.default=c.exports},bd2f:function(e,t,s){"use strict";var n=s("00c4");s.n(n).a},bdc7:function(e,t,s){},bf00:function(e,t,s){},bf2d:function(e,t,s){"use strict";var n=s("0fc4");s.n(n).a},bf54:function(e,t,s){"use strict";var n=s("5c27");s.n(n).a},bff8:function(e,t,s){"use strict";s.r(t);var n=s("4023"),a=Object(n.a)({name:"CourseManage"},(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null);t.default=a.exports},c096:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("ecb4"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r=s("0243"),c=s("fad2"),l={data:function(){return{searchKey:"",allWords:[],wordList:[]}},components:{EditComp:r.default,SortComp:c.default},created:function(){this.initData()},computed:Object(a.a)({},Object(i.e)({langInfos:function(e){return e.course.langInfos}})),mounted:function(){},methods:{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getSearchWords)();case 2:s=t.sent,e.allWords=s.data.words.sort((function(e,t){return t.listOrder-e.listOrder})),e.wordList=e.allWords.filter((function(t){return t.word.indexOf(e.searchKey)>-1}));case 5:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;this.wordList=this.allWords.filter((function(t){return t.word.indexOf(e.searchKey)>-1}))},addWord:function(){this.$refs.wordEdit.show({type:"add"})},sortWord:function(){this.$refs.wordSort.show({allWords:this.allWords})},editChannel:function(e){var t={type:"edit",params:e};this.$refs.wordEdit.show(t)},deleteWord:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),Object(o.delSearchWord)({uuid:e}).then((function(e){e.success&&t.initData()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},sortPos:function(e,t){return e.showPos>t.showPos?1:e.showPos<t.showPos?-1:0}}},u=(s("9cdb"),s("2aca"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-container"},[s("div",{staticClass:"search-content"},[s("div",{staticClass:"top-bar"},[s("el-input",{attrs:{clearable:"",placeholder:"请输入要查找的名称"},on:{input:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),s("div",{staticClass:"right"},[s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.addWord}},[e._v("添加")]),s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.sortWord}},[e._v("排序")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.wordList}},[s("el-table-column",{attrs:{label:"序号",width:"80",type:"index",align:"center"}}),s("el-table-column",{attrs:{label:"关键词",prop:"word"}}),s("el-table-column",{attrs:{fixed:"right",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small"},on:{click:function(s){return e.editChannel(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return e.deleteWord(t.row.uuid)}}},[e._v("删除")])]}}])})],1)],1),s("edit-comp",{ref:"wordEdit",on:{refresh:e.initData}}),s("sort-comp",{ref:"wordSort",on:{refresh:e.initData}})],1)}),[],!1,null,"5bdb4b7d",null);t.default=d.exports},c0ae:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("77ad"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("de52"),r=s.n(o),c=s("cabd"),l=s("6ea4"),u=s("0837"),d=!0,f={data:function(){return{searchKey:"",list:[],isShow:!1,currentPage:1,total:0,pageSize:50,scrollTop:0,isShowPagination:!1}},components:{EditSentence:l.default,EditWord:u.default},created:function(){this.initData()},mounted:function(){},computed:Object(a.a)(Object(a.a)({},Object(i.c)("user",["userInfo"])),Object(i.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{handlerScroll:function(e){e.target.scrollTop+e.target.offsetHeight===e.target.scrollHeight&&d&&(this.scrollTop=e.target.scrollHeight-e.target.offsetHeight,d=!1,this.currentPage++,this.initData())},handlerSearch:function(){this.currentPage=1,this.initData()},initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===e.currentPage&&(e.list=[]),t.next=3,Object(c.getFeedbackList)({page_index:e.currentPage,page_size:e.pageSize,desc:e.searchKey,sort_type:-1,text_field:"created_time"});case 3:(s=t.sent).success&&s.data&&(n=e.list.slice(),e.list=n.concat(s.data),setTimeout((function(){e.$refs.content.scrollTop=e.scrollTop,d=!0}),0));case 5:case"end":return t.stop()}}),t)})))()},editCourse:function(e){var t=this;Object(c.getSentenceDetail)({uuid:e.uuid,from:this.fromLang,to:this.toLang}).then((function(e){var s={type:"edit",fromLang:t.fromLang,form:e.data};t.$refs.edit.show(s)}))},feedback:function(e){var t=this,s=e.fromLang,n=e.toLang;e.repType?e.fromLang&&e.toLang?"sentence"===e.repType?Object(c.getSentenceDetail)({uuid:e.conId,from:s,to:n}).then((function(e){var a={type:"edit",fromLang:s,toLang:n,form:e.data};t.$refs.editSentence.show(a)})):Object(c.getDictDetail)({uuid:e.conId,from:s,to:n}).then((function(e){var a={type:"edit",fromLang:s,toLang:n,form:e.data};t.$refs.editWord.show(a)})):this.$message({type:"warning",message:"此条数据为垃圾数据"}):this.$message({type:"warning",message:"请先设置纠错分类"})},handleState:function(e){var t=this,s=e.row;0===s.state&&this.$confirm("确认是否已经处理过该条纠错记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c.updateFeedback)({id:s.id,state:1}).then((function(s){s.success&&(t.$message({type:"success",message:"更新成功"}),t.list[e.$index].state=1)}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},addCourse:function(){var e={type:"add",fromLang:this.fromLang};this.$refs.edit.show(e)},deleteCourse:function(e){var t=this;this.$confirm("此操作将永久删除该课程分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},curCourse:function(){this.initData()},imageUrl:function(e){return this.assetsDomain+e},formatterDate:function(e){return e&&e.createdTime?r()(e.createdTime).format("YYYY-MM-DD HH:mm"):""},filterRepType:function(e,t){return t.repType===e},filterState:function(e,t){return t.state===e},addDetail:function(e){this.$refs.courseDetail.show(e)},unlockCourse:function(e){this.$refs.unlockCourse.show(e)}}},m=(s("db39"),s("2e6d"),s("4023")),h=Object(m.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"content",staticClass:"main-content sentence",on:{scroll:e.handlerScroll}},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入描述"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch(t)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handlerSearch},slot:"append"})],1)],1),s("div",{staticClass:"right"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:e.addCourse}},[e._v("添加")])],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[s("el-table-column",{attrs:{width:"60",label:"序号",type:"index"}}),s("el-table-column",{attrs:{label:"更新时间",width:"140px",formatter:e.formatterDate}}),s("el-table-column",{attrs:{filters:[{text:"单词",value:"word"},{text:"句子",value:"sentence"}],"filter-method":e.filterRepType,label:"分类"},scopedSlots:e._u([{key:"default",fn:function(t){return["word"==t.row.repType?s("el-tag",[e._v("单词")]):e._e(),"sentence"==t.row.repType?s("el-tag",{attrs:{type:"success"}},[e._v("句子")]):e._e()]}}])}),s("el-table-column",{attrs:{label:"描述",width:"300px",prop:"desc"}}),s("el-table-column",{attrs:{width:"300px",label:"标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"tags"},e._l(t.row.tags.split("|"),(function(t){return s("div",{key:t,staticClass:"tag"},[t?s("el-tag",{attrs:{type:"info",size:"small"}},[e._v(e._s(t))]):e._e()],1)})),0)]}}])}),s("el-table-column",{attrs:{filters:[{text:"未处理",value:0},{text:"已处理",value:1}],"filter-method":e.filterState,label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"0"==t.row.state?"warning":"success"},on:{click:function(s){return e.handleState(t)}}},[e._v(e._s("0"==t.row.state?"未处理":"已处理"))])]}}])}),s("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{size:"mini"},on:{click:function(s){return e.editCourse(t.row)}}},[e._v("编辑")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.userInfo.authority.authorityId||"2"==e.userInfo.authority.authorityId,expression:"userInfo.authority.authorityId == '1' || userInfo.authority.authorityId == '2'"}],attrs:{disabled:"1"==t.row.state,size:"mini"},on:{click:function(s){return e.feedback(t.row)}}},[e._v("纠错")])]}}])})],1),s("edit-sentence",{ref:"editSentence"}),s("edit-word",{ref:"editWord"})],1)}),[],!1,null,"2a623f91",null);t.default=h.exports},c1ef:function(e,t,s){"use strict";var n=s("25ce");s.n(n).a},c21e:function(e,t,s){},c24f:function(e,t,s){"use strict";s.r(t),s.d(t,"login",(function(){return a})),s.d(t,"regist",(function(){return i})),s.d(t,"userChangePwd",(function(){return o})),s.d(t,"removeUser",(function(){return r})),s.d(t,"getUserList",(function(){return c})),s.d(t,"setUserAuthority",(function(){return l}));var n=s("b775"),a=function(e){return Object(n.default)({url:"/base/login",method:"post",data:e})},i=function(e){return Object(n.default)({url:"/base/regist",method:"post",data:e})},o=function(e){return Object(n.default)({url:"/user/changePassword",method:"post",data:e})},r=function(e){return Object(n.default)({url:"/user/remove",method:"post",data:e})},c=function(e){return Object(n.default)({url:"/user/getUserList",method:"post",data:e})},l=function(e){return Object(n.default)({url:"/user/setUserAuthority",method:"post",data:e})}},c339:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("edd06"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"list"},e._l(e.form.radar,(function(t,n){return s("div",{key:n,staticClass:"item"},[s("div",{staticClass:"content"},[e._v(e._s(t.key))]),s("div",{staticClass:"content"},[e._v(e._s(t.val))])])})),0)])])])}),[],!1,null,"2cb9f204",null);t.default=r.exports},c355:function(e,t,s){"use strict";var n=s("3027");s.n(n).a},c3a7:function(e,t,s){"use strict";s.r(t),s("053b"),s("e35a"),s("0d7a"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("0470"),r=s("ae8c"),c={props:["tagTypes"],data:function(){return{token:"",showEdit:!1,form:{uuid:"",listOrder:0,title:{},isShow:!0,showPos:"index",icon:""},type:""}},computed:Object(a.a)({},Object(r.e)({assetsDomain:function(e){return e.course.assetsDomain},langInfos:function(e){return e.course.langInfos}})),created:function(){},methods:{show:function(e){var t=this;this.type=e.type,this.showEdit=!0,Object(i.getInfoToken)().then((function(e){t.token=e.data.token})),"edit"===this.type?this.form=e.params:this.form={uuid:"",listOrder:e.listOrder,title:{},isShow:!0,showPos:"index",icon:""}},close:function(){this.showEdit=!1},uploadOnchange:function(e,t){var s=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.form.icon="",n=e.raw.name.split(".")[1],a="discovery/channel/images/"+e.uid+"."+n,t.next=5,Object(o.uploadQiniu)(e.raw,s.token,a);case 5:i=t.sent,s.form.icon=i.key;case 7:case"end":return t.stop()}}),t)})))()},determine:function(){var e=this;this.$refs.form.validate((function(t){t&&("edit"===e.type?Object(i.editDisChannel)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"编辑成功!"}),e.$emit("refresh"),e.close())})):Object(i.addDisChannel)(e.form).then((function(t){t.success&&(e.$message({type:"success",message:"添加成功!"}),e.$emit("refresh"),e.close())})))}))}},destroyed:function(){}},l=(s("35c6"),s("b8a4"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showEdit?s("div",{staticClass:"channel-edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"名称: ",prop:"title",rules:{required:!0,message:"名称不能为空",trigger:"blur"}}},e._l(e.langInfos,(function(t){return s("el-row",{key:"title"+t.langKey},[s("el-form-item",{staticClass:"input-box",attrs:{prop:"title."+t.langKey,rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}),s("span",[e._v(e._s("("+t.name+")"))])],1)],1)})),1),s("el-form-item",{attrs:{label:"是否展示: ",prop:"isShow",rules:[{required:!0,message:"请选择是否展示",trigger:"change"}]}},[s("el-select",{attrs:{placeholder:"请选择..."},model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[s("el-option",{attrs:{label:"是",value:!0}}),s("el-option",{attrs:{label:"否",value:!1}})],1)],1),s("el-form-item",{attrs:{label:"展示位置: ",prop:"isShow",rules:[{required:!0,message:"请选择展示位置",trigger:"change"}]}},[s("el-select",{attrs:{placeholder:"请选择..."},model:{value:e.form.showPos,callback:function(t){e.$set(e.form,"showPos",t)},expression:"form.showPos"}},[s("el-option",{attrs:{label:"发现首页",value:"index"}}),s("el-option",{attrs:{label:"列表页",value:"list"}})],1)],1),s("el-form-item",{attrs:{label:"图标: "}},[s("div",{staticClass:"img-box small-img-box"},[s("div",{staticClass:"img"},[e.form.icon?s("img",{attrs:{src:e.assetsDomain+e.form.icon,fit:"cover"}}):e._e()]),s("el-upload",{attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)])],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:function(t){return e.determine()}}},[e._v("确定")])],1)],1)])]):e._e()])}),[],!1,null,"43803848",null);t.default=u.exports},c3af:function(e,t,s){},c3d4:function(e,t,s){"use strict";var n=s("bdc7");s.n(n).a},c3fa:function(e,t,s){"use strict";var n=s("1421");s.n(n).a},c4d6:function(e,t,s){"use strict";s.r(t),s("4194");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio(e.form.text_audio)})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},methods:{playAudio:function(e){var t=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play(),t.isPlay=!0},this.audio.onended=function(){t.isPlay=!1})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.desc),s}}},a=(s("12e8"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"trumpet-box"},[s("div",{staticClass:"trumpet",on:{click:function(t){return e.playAudio(e.form.text_audio)}}},[s("i")])]),s("span",{staticClass:"sentence",domProps:{innerHTML:e._s(e.form.text.replace(new RegExp(/\n/,"g"),"<br />"))}})])}),[],!1,null,"69b2152c",null);t.default=i.exports},c589:function(e,t,s){"use strict";var n=s("e375");s.n(n).a},c5b4:function(e,t,s){},c5b41:function(e,t,s){},c5e0:function(e,t,s){},c783:function(e,t,s){},c7a0:function(e,t,s){},c7a5:function(e,t,s){"use strict";var n=s("14d9");s.n(n).a},c8be:function(e,t,s){},c944:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("cae7"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sentence_audio)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.form.sentence_show,expression:"form.sentence_show"}]},[e._v(e._s(e.form.sentence))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.imgs_choice.length,expression:"form.imgs_choice.length"}],staticClass:"options"},e._l(e.form.imgs_choice,(function(t,n){return s("div",{key:n,staticClass:"option",on:{click:function(s){return e.play(t)}}},[s("el-image",{attrs:{lazy:"",src:e._f("urlFix")(e.assetsDomain+t,"imageView2/1/format/jpg"),fit:"cover"}})],1)})),0)])}),[],!1,null,"0623e45d",null);t.default=r.exports},c9ad:function(e,t,s){},c9c7:function(e,t,s){},c9d1:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("f818"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.text_audio)}}})])]),s("div",{staticClass:"options"},[s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.form.text.replace(new RegExp(/\n/,"g"),"<br />"))}})])])}),[],!1,null,"0d0e70b9",null);t.default=r.exports},cabd:function(e,t,s){"use strict";s.r(t),s.d(t,"getConfigInfo",(function(){return a})),s.d(t,"getInfoToken",(function(){return i})),s.d(t,"getInfoTokenUploadFile",(function(){return o})),s.d(t,"getLangList",(function(){return r})),s.d(t,"addLang",(function(){return c})),s.d(t,"delLang",(function(){return l})),s.d(t,"editLang",(function(){return u})),s.d(t,"getCourseTypes",(function(){return d})),s.d(t,"getCourseList",(function(){return f})),s.d(t,"getCourseDetail",(function(){return m})),s.d(t,"unlockCourse",(function(){return h})),s.d(t,"editCourseDetail",(function(){return p})),s.d(t,"addCourse",(function(){return v})),s.d(t,"courseEdit",(function(){return g})),s.d(t,"courseDel",(function(){return b})),s.d(t,"getCourseVersionList",(function(){return w})),s.d(t,"exportCourseContent",(function(){return y})),s.d(t,"exportCourseContentList",(function(){return C})),s.d(t,"exportDownload",(function(){return _})),s.d(t,"addCourseVersion",(function(){return x})),s.d(t,"delCourseVersion",(function(){return k})),s.d(t,"editCourseVersion",(function(){return I})),s.d(t,"getCatalogList",(function(){return j})),s.d(t,"addCatalog",(function(){return O})),s.d(t,"editCatalog",(function(){return T})),s.d(t,"delCatalog",(function(){return D})),s.d(t,"moveCatalog",(function(){return F})),s.d(t,"copyCatalog",(function(){return S})),s.d(t,"renameCatalog",(function(){return A})),s.d(t,"setIsShowCatalog",(function(){return L})),s.d(t,"getContent",(function(){return N})),s.d(t,"editContent",(function(){return $})),s.d(t,"delContent",(function(){return E})),s.d(t,"getModelList",(function(){return R})),s.d(t,"addModel",(function(){return U})),s.d(t,"delModel",(function(){return P})),s.d(t,"editorModel",(function(){return V})),s.d(t,"getContentTypes",(function(){return M})),s.d(t,"getContentTags",(function(){return K})),s.d(t,"addTags",(function(){return Y})),s.d(t,"editTags",(function(){return z})),s.d(t,"tagTypes",(function(){return q})),s.d(t,"delTags",(function(){return B})),s.d(t,"searchImages",(function(){return H})),s.d(t,"delEditorImage",(function(){return J})),s.d(t,"addMoreImages",(function(){return W})),s.d(t,"editImage",(function(){return Q})),s.d(t,"imagesTags",(function(){return G})),s.d(t,"addImageTag",(function(){return X})),s.d(t,"delImageTag",(function(){return Z})),s.d(t,"downloadImageExcel",(function(){return ee})),s.d(t,"searchContent",(function(){return te})),s.d(t,"setAuthority",(function(){return se})),s.d(t,"submitExamin",(function(){return ne})),s.d(t,"resetExamin",(function(){return ae})),s.d(t,"examin",(function(){return ie})),s.d(t,"onlineCourses",(function(){return oe})),s.d(t,"addOnlineJob",(function(){return re})),s.d(t,"getContentTypeList",(function(){return ce})),s.d(t,"sortContentType",(function(){return le})),s.d(t,"editContentType",(function(){return ue})),s.d(t,"delContentType",(function(){return de})),s.d(t,"addContentType",(function(){return fe})),s.d(t,"getOnlineList",(function(){return me})),s.d(t,"getClassWXList",(function(){return he})),s.d(t,"addClassWX",(function(){return pe})),s.d(t,"editClassWX",(function(){return ve})),s.d(t,"delClassWX",(function(){return ge})),s.d(t,"getDisChannelList",(function(){return be})),s.d(t,"addDisChannel",(function(){return we})),s.d(t,"editDisChannel",(function(){return ye})),s.d(t,"delDisChannel",(function(){return Ce})),s.d(t,"sortDisChannel",(function(){return _e})),s.d(t,"addLive",(function(){return xe})),s.d(t,"sortLiveModule",(function(){return ke})),s.d(t,"editLive",(function(){return Ie})),s.d(t,"onlineLive",(function(){return je})),s.d(t,"onlineLiveUserCount",(function(){return Oe})),s.d(t,"offlineLive",(function(){return Te})),s.d(t,"delLive",(function(){return De})),s.d(t,"sharePosterLive",(function(){return Fe})),s.d(t,"getLiveList",(function(){return Se})),s.d(t,"onlineLiveCourse",(function(){return Ae})),s.d(t,"offlineLiveCourse",(function(){return Le})),s.d(t,"editLiveCourse",(function(){return Ne})),s.d(t,"subLiveCourse",(function(){return $e})),s.d(t,"getLivePushUrl",(function(){return Ee})),s.d(t,"liveSendMsg",(function(){return Re})),s.d(t,"getChartroomComments",(function(){return Ue})),s.d(t,"addLiveGag",(function(){return Pe})),s.d(t,"removeLiveGag",(function(){return Ve})),s.d(t,"getMajiaUsers",(function(){return Me})),s.d(t,"getSearchWords",(function(){return Ke})),s.d(t,"addSearchWord",(function(){return Ye})),s.d(t,"editSearchWord",(function(){return ze})),s.d(t,"sortSearchWord",(function(){return qe})),s.d(t,"delSearchWord",(function(){return Be})),s.d(t,"findOperateLogList",(function(){return He})),s.d(t,"findOperateLogDetails",(function(){return Je})),s.d(t,"rollbackOperateLog",(function(){return We})),s.d(t,"getTeacherList",(function(){return Qe})),s.d(t,"approveTeacher",(function(){return Ge})),s.d(t,"getCourseFiles",(function(){return Xe})),s.d(t,"createFileTranscode",(function(){return Ze})),s.d(t,"describeFileTranscode",(function(){return et})),s.d(t,"delCourseFile",(function(){return tt})),s.d(t,"qrCodeAdd",(function(){return st})),s.d(t,"qrCodeList",(function(){return nt})),s.d(t,"qrCodeDel",(function(){return at})),s.d(t,"qrCodeUpdate",(function(){return it})),s.d(t,"qrCodeImage",(function(){return ot})),s.d(t,"getStatisticUC",(function(){return rt})),s.d(t,"getStatisticPart",(function(){return ct})),s.d(t,"getDictList",(function(){return lt})),s.d(t,"getDictDetail",(function(){return ut})),s.d(t,"GetDictTags",(function(){return dt})),s.d(t,"updateDictWord",(function(){return ft})),s.d(t,"getSentenceList",(function(){return mt})),s.d(t,"getSentenceDetail",(function(){return ht})),s.d(t,"updateDictSentence",(function(){return pt})),s.d(t,"getFeedbackList",(function(){return vt})),s.d(t,"updateFeedback",(function(){return gt}));var n=s("b775"),a=function(){return Object(n.default)({url:"/editor/info/config",method:"get"})},i=function(){return Object(n.default)({url:"/editor/info/token",method:"get"})},o=function(){return Object(n.default)({url:"/editor/info/token/uploadfile",method:"get"})},r=function(e){return Object(n.default)({url:"/editor/lang/list",method:"post",data:e})},c=function(e){return Object(n.default)({url:"/editor/lang/add",method:"post",data:e})},l=function(e){return Object(n.default)({url:"/editor/lang/del",method:"post",data:e})},u=function(e){return Object(n.default)({url:"/editor/lang/edit",method:"post",data:e})},d=function(){return Object(n.default)({url:"/editor/course/types",method:"get"})},f=function(e){return Object(n.default)({url:"/editor/course/list",method:"post",data:e})},m=function(e){return Object(n.default)({url:"/editor/course/detail",method:"post",data:e})},h=function(e){return Object(n.default)({url:"/editor/course/unlock",method:"post",data:e})},p=function(e){return Object(n.default)({url:"/editor/course/detail/edit",method:"post",data:e})},v=function(e){return Object(n.default)({url:"/editor/course/add",method:"post",data:e})},g=function(e){return Object(n.default)({url:"/editor/course/edit",method:"post",data:e})},b=function(e){return Object(n.default)({url:"/editor/course/del",method:"post",data:e})},w=function(e){return Object(n.default)({url:"/editor/content/version/list",method:"post",data:e})},y=function(e){return Object(n.default)({url:"/editor/content/export",method:"post",data:e})},C=function(e){return Object(n.default)({url:"/editor/content/export_list",method:"post",data:e})},_=function(e){return Object(n.default)({url:e.url,method:"get"})},x=function(e){return Object(n.default)({url:"/editor/content/version/add",method:"post",data:e})},k=function(e){return Object(n.default)({url:"/editor/content/version/del",method:"post",data:e})},I=function(e){return Object(n.default)({url:"/editor/content/version/edit",method:"post",data:e})},j=function(e){return Object(n.default)({url:"/editor/catalog/list",method:"post",data:e})},O=function(e){return Object(n.default)({url:"/editor/catalog/add",method:"post",data:e})},T=function(e){return Object(n.default)({url:"/editor/catalog/edit",method:"post",data:e})},D=function(e){return Object(n.default)({url:"/editor/catalog/del",method:"post",data:e})},F=function(e){return Object(n.default)({url:"/editor/catalog/move",method:"post",data:e})},S=function(e){return Object(n.default)({url:"/editor/catalog/copy",method:"post",data:e})},A=function(e){return Object(n.default)({url:"/editor/catalog/rename",method:"post",data:e})},L=function(e){return Object(n.default)({url:"/editor/catalog/show",method:"post",data:e})},N=function(e){return Object(n.default)({url:"/editor/content",method:"post",data:e})},$=function(e){return Object(n.default)({url:"/editor/content/edit",method:"post",data:e})},E=function(e){return Object(n.default)({url:"/editor/content/del",method:"post",data:e})},R=function(e){return Object(n.default)({url:"/editor/model/list",method:"post",data:e})},U=function(e){return Object(n.default)({url:"/editor/model/add",method:"post",data:e})},P=function(e){return Object(n.default)({url:"/editor/model/del",method:"post",data:e})},V=function(e){return Object(n.default)({url:"/editor/model/edit",method:"post",data:e})},M=function(e){return Object(n.default)({url:"/editor/content/showTypes",method:"get",data:e})},K=function(e){return Object(n.default)({url:"/editor/tag/list",method:"post",data:e})},Y=function(e){return Object(n.default)({url:"/editor/tag/add",method:"post",data:e})},z=function(e){return Object(n.default)({url:"/editor/tag/edit",method:"post",data:e})},q=function(e){return Object(n.default)({url:"/editor/tag/types",method:"get"})},B=function(e){return Object(n.default)({url:"/editor/tag/del",method:"post",data:e})},H=function(e){return Object(n.default)({url:"/editor/image/search",method:"post",data:e})},J=function(e){return Object(n.default)({url:"/editor/image/del",method:"post",data:e})},W=function(e){return Object(n.default)({url:"/editor/image/add/more",method:"post",data:e})},Q=function(e){return Object(n.default)({url:"/editor/image/edit",method:"post",data:e})},G=function(e){return Object(n.default)({url:"/editor/image/tags",method:"post",data:e})},X=function(e){return Object(n.default)({url:"/editor/image/tag/add",method:"post",data:e})},Z=function(e){return Object(n.default)({url:"/editor/image/tag/del",method:"post",data:e})},ee=function(e){return Object(n.default)({url:"/editor/image/download?tagKey="+e.tagKey,method:"get"})},te=function(e){return Object(n.default)({url:"/editor/content/search",method:"post",data:e})},se=function(e){return Object(n.default)({url:"/editor/authority/set",method:"post",data:e})},ne=function(e){return Object(n.default)({url:"/editor/examin/submit",method:"post",data:e})},ae=function(e){return Object(n.default)({url:"/editor/examin/reset",method:"post",data:e})},ie=function(e){return Object(n.default)({url:"/editor/examin",method:"post",data:e})},oe=function(e){return Object(n.default)({url:"/editor/online/courseInfo",method:"post",data:e})},re=function(e){return Object(n.default)({url:"/editor/online/job",method:"post",data:e})},ce=function(e){return Object(n.default)({url:"/editor/contenttype/list",method:"post",data:e})},le=function(e){return Object(n.default)({url:"/editor/contenttype/listorder",method:"post",data:e})},ue=function(e){return Object(n.default)({url:"/editor/contenttype/edit",method:"post",data:e})},de=function(e){return Object(n.default)({url:"/editor/contenttype/del",method:"post",data:e})},fe=function(e){return Object(n.default)({url:"/editor/contenttype/add",method:"post",data:e})},me=function(e){return Object(n.default)({url:"/editor/online/list",method:"post",data:e})},he=function(e){return Object(n.default)({url:"/editor/class_weixin/list",method:"post",data:e})},pe=function(e){return Object(n.default)({url:"/editor/class_weixin/add",method:"post",data:e})},ve=function(e){return Object(n.default)({url:"/editor/class_weixin/edit",method:"put",data:e})},ge=function(e){return Object(n.default)({url:"/editor/class_weixin/del",method:"delete",data:e})},be=function(){return Object(n.default)({url:"/dis/channel/list",method:"get"})},we=function(e){return Object(n.default)({url:"/dis/channel/add",method:"post",data:e})},ye=function(e){return Object(n.default)({url:"/dis/channel/edit",method:"post",data:e})},Ce=function(e){return Object(n.default)({url:"/dis/channel/del",method:"post",data:e})},_e=function(e){return Object(n.default)({url:"/dis/channel/listorder",method:"post",data:e})},xe=function(e){return Object(n.default)({url:"/live/add",method:"post",data:e})},ke=function(e){return Object(n.default)({url:"/live/edit_list_order",method:"post",data:e})},Ie=function(e){return Object(n.default)({url:"/live/edit",method:"post",data:e})},je=function(e){return Object(n.default)({url:"/live/online",method:"post",data:e})},Oe=function(e){return Object(n.default)({url:"/live/usercount",method:"post",data:e})},Te=function(e){return Object(n.default)({url:"/live/offline",method:"post",data:e})},De=function(e){return Object(n.default)({url:"/live/del",method:"post",data:e})},Fe=function(e){return Object(n.default)({url:"/live/shareinfo",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})},Se=function(e){return Object(n.default)({url:"/live/list",method:"post",data:e})},Ae=function(e){return Object(n.default)({url:"/live/course/online",method:"post",data:e})},Le=function(e){return Object(n.default)({url:"/live/course/offline",method:"post",data:e})},Ne=function(e){return Object(n.default)({url:"/live/course/edit",method:"post",data:e})},$e=function(e){return Object(n.default)({url:"/live/sub",method:"post",data:e})},Ee=function(e){return Object(n.default)({url:"/live/pushurl",method:"post",data:e})},Re=function(e){return Object(n.default)({url:"/live/chatroom/sendmsg",method:"post",data:e})},Ue=function(e){return Object(n.default)({url:"/live/chatroom/comments",method:"post",data:e})},Pe=function(e){return Object(n.default)({url:"/live/gagadd",method:"post",data:e})},Ve=function(e){return Object(n.default)({url:"/live/gagremove",method:"post",data:e})},Me=function(e){return Object(n.default)({url:"/live/chatroom/majia",method:"get",data:e})},Ke=function(e){return Object(n.default)({url:"/editor/sword/list",method:"post",data:e})},Ye=function(e){return Object(n.default)({url:"/editor/sword/add",method:"post",data:e})},ze=function(e){return Object(n.default)({url:"/editor/sword/edit",method:"post",data:e})},qe=function(e){return Object(n.default)({url:"/editor/sword/listorder",method:"post",data:e})},Be=function(e){return Object(n.default)({url:"/editor/sword/del",method:"post",data:e})},He=function(e){return Object(n.default)({url:"/editor/operate_log/list",method:"post",data:e})},Je=function(e){return Object(n.default)({url:"/editor/operate_log/details",method:"post",data:e})},We=function(e){return Object(n.default)({url:"/editor/operate_log/rollback",method:"post",data:e})},Qe=function(e){return Object(n.default)({url:"/editor/teacher/list",method:"post",data:e})},Ge=function(e){return Object(n.default)({url:"/editor/teacher/audit",method:"post",data:e})},Xe=function(e){return Object(n.default)({url:"/editor/course_files/file_list",method:"post",data:e})},Ze=function(e){return Object(n.default)({url:"/editor/course_files/create_transcode",method:"post",data:e})},et=function(e){return Object(n.default)({url:"/editor/course_files/describe_transcode",method:"post",data:e})},tt=function(e){return Object(n.default)({url:"/editor/course_files/delete_file",method:"post",data:e})},st=function(e){return Object(n.default)({url:"/editor/qr_code/add",method:"post",data:e})},nt=function(e){return Object(n.default)({url:"/editor/qr_code/list",method:"post",data:e})},at=function(e){return Object(n.default)({url:"/editor/qr_code/delete",method:"post",data:e})},it=function(e){return Object(n.default)({url:"/editor/qr_code/update",method:"post",data:e})},ot=function(e){return Object(n.default)({url:"/editor/qr_code/image",method:"post",data:e})},rt=function(e){return Object(n.default)({url:"/editor/statistic/unlock_chapter",method:"post",data:e})},ct=function(e){return Object(n.default)({url:"/editor/statistic/unlock_part",method:"post",data:e})},lt=function(e){return Object(n.default)({url:"/editor/dict/list",method:"post",data:e})},ut=function(e){return Object(n.default)({url:"/editor/dict/detail",method:"post",data:e})},dt=function(e){return Object(n.default)({url:"/editor/dict/tags",method:"post",data:e})},ft=function(e){return Object(n.default)({url:"/editor/dict/update",method:"post",data:e})},mt=function(e){return Object(n.default)({url:"/editor/sentence/list",method:"post",data:e})},ht=function(e){return Object(n.default)({url:"/editor/sentence/detail",method:"post",data:e})},pt=function(e){return Object(n.default)({url:"/editor/sentence/update",method:"post",data:e})},vt=function(e){return Object(n.default)({url:"/editor/reports/list",method:"post",data:e})},gt=function(e){return Object(n.default)({url:"/editor/reports/update",method:"post",data:e})}},cae7:function(e,t,s){"use strict";var n=s("6c41");s.n(n).a},cb1e:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{myAudio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0],option:this.form.options[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,e.form.sound[n]&&(a.sound=e.form.sound[n]),e.form.sentence[n]&&(a.sentence=e.form.sentence[n]),t.push(a)})),t}}),methods:{play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}}}},o=(s("e22c"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.correct,expression:"correct"}],staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.correct)}}}),e._l(e.correct.sentence,(function(t,n){return s("span",{key:"word"+n},[e._v(e._s(t==e.correct.option?" ":t))])}))],2)]),s("div",{staticClass:"options"},e._l(e.form.options,(function(t){return s("div",{key:t,staticClass:"option"},[e._v(e._s(t))])})),0)])}),[],!1,null,"677f05d9",null);t.default=r.exports},cb6e:function(e,t,s){},cbd2:function(e,t,s){"use strict";s.r(t),s("56ea"),s("dbb3"),s("fe59"),s("053b"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i=s("391c"),o=s.n(i),r=s("de52"),c=s.n(r),l=s("7f22"),u=s.n(l),d={data:function(){return{dialogVisible:!1,itemLine:[],myChart:null,types:{"版本上线数据":"content_version","目录上线数据":"catalog"},states:{0:"还没执行",1:"正在执行",2:"执行完成"}}},created:function(){},mounted:function(){"2"!==this.userInfo.authorityId&&(this.initData(),this.initEchart())},computed:Object(n.a)({},Object(a.e)({userInfo:function(e){return e.user.userInfo},onlineList:function(e){return e.course.onlineList}})),methods:Object(n.a)(Object(n.a)({},Object(a.b)({getOnlineList:"course/getOnlineList"})),{},{initEchart:function(){var e=this;this.myChart=u.a.init(document.getElementById("main"));var t=this.addDate(new Date,-29),s=this.getDays(t,29),n=o.a.fill(Array(s.length),""),a=o.a.fill(Array(s.length),"");s.forEach((function(t,s){e.onlineList.forEach((function(e){e.time===t&&("content_version"===e.online_type?(""===n[s]&&(n[s]=0),n[s]=n[s]+1):"catalog"===e.online_type&&(""===a[s]&&(a[s]=0),a[s]=a[s]+1))}))}));var i={color:["#06a45f","#078ed6"],grid:{left:40,top:60,right:50,bottom:30},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"horizontal",right:40,top:0,textStyle:{color:"#6ab2ec"},data:["版本上线数据","目录上线数据"]},toolbox:{show:!0},calculable:!0,xAxis:[{type:"category",name:"日期",axisLine:{lineStyle:{color:"#6ab2ec"}},data:s}],yAxis:[{type:"value",name:"上线次数",splitLine:{show:!0,lineStyle:{color:["#132a6e"]}},axisLine:{lineStyle:{color:"#6ab2ec"}}}],series:[{name:"版本上线数据",type:"bar",barWidth:"40%",data:n,label:{normal:{show:!0,position:"top",textStyle:{color:"#5475c7",fontSize:12}}}},{name:"目录上线数据",type:"bar",barWidth:"40%",data:a,label:{normal:{show:!0,position:"top",textStyle:{color:"#5475c7",fontSize:12}}}}]};this.myChart.setOption(i),this.clickChart()},clickChart:function(){var e=this;this.myChart.on("click",(function(t){var s=t.name,n=e.types[t.seriesName];e.itemLine=e.onlineList.filter((function(e){return e.time===s&&e.online_type===n})).sort((function(e,t){return t.created_time-e.created_time})),e.dialogVisible=!0}))},getDays:function(e,t){var s=[];s.push(this.formant(e));for(var n=0;n<t;n++){var a=this.formant(this.addDate(e,1));s.push(a)}return s},initData:function(){this.getOnlineList({pageNo:0,pageSize:999999})},formant:function(e){return e.getFullYear()+"/"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate())},addDate:function(e,t){return e.setDate(e.getDate()+t),e},formatterDate:function(e,t,s,n){return c()(new Date(1e3*parseInt(s))).format("YYYY-MM-DD HH:mm")},formatterType:function(e,t,s,n){return"catalog"===s?"课程目录":"课程版本"}})},f=(s("7134"),s("4023")),m=Object(f.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"online-list"},[s("div",{staticStyle:{width:"90%",height:"400px"},attrs:{id:"main"}}),s("el-dialog",{attrs:{title:"详情",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.itemLine}},[s("el-table-column",{attrs:{prop:"created_time",label:"日期",formatter:e.formatterDate,width:"180"}}),s("el-table-column",{attrs:{prop:"job_name",label:"上线任务名称",width:"180"}}),s("el-table-column",{attrs:{prop:"online_type",formatter:e.formatterType,label:"类型",width:"180"}}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.states[t.row.state]))])]}}])})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"25a31ad2",null);t.default=m.exports},cc3c:function(e,t,s){"use strict";s.r(t),s("fe59"),s("e35a"),s("0d7a"),s("08ba");var n=s("2480"),a=s("cabd"),i={data:function(){return{isShow:!1,sortable:{},sortContents:[],sortObjs:[]}},methods:{show:function(e){this.sortContents=e,this.resetSortable(),this.isShow=!0},close:function(){this.isShow=!1,this.$emit("initData")},resetSortable:function(){var e=this,t=document.getElementById("sort-question");this.sortable=new n.a(t,{animation:0,onEnd:function(t){t.to.id.split("-").pop();var s=e.sortContents;e.sortable.toArray().forEach((function(t,n){var a=s[parseInt(t)];e.sortObjs.push({type:a.type,list_order:n+1})}))}})},save:function(){var e=this;Object(a.sortContentType)(this.sortObjs).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.close())}))}}},o=(s("ec67"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"question-sort-container"},[s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("div",{staticClass:"sort-container",attrs:{id:"sort-question"}},e._l(e.sortContents,(function(t,n){return s("el-tag",{key:n,attrs:{"data-id":n}},[e._v(e._s(t.name))])})),1)]),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])])])}),[],!1,null,"6cf1f63b",null);t.default=r.exports},cd4b:function(e,t,s){"use strict";s.r(t),s("e35a"),s("5e9f");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{isPlay:!1,sentence:"",words:[],addWrong:!1,current:0,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.initAll(),e.playVoice()})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{playVoice:function(){var e=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+this.form.sound,this.audio.oncanplay=function(){e.audio.play(),e.isPlay=!0},this.audio.onended=function(){e.isPlay=!1})},fillWords:function(e,t){var s=this;this.current=t,e===this.words[0]?(this.sentence=this.sentence.replace(/_+/g,e),this.$parent.$emit("nextForm")):(this.addWrong=!0,setTimeout((function(){s.addWrong=!1}),500))},initAll:function(){this.words=this.form.options;var e=this.words[0];this.sentence=this.form.sentence.replace(e," ______ ")}}},o=(s("9251"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.type]},[s("div",{staticClass:"img-box",on:{click:e.playVoice}},[s("img",{attrs:{src:e._f("urlFix")(e.assetsDomain+e.form.image,"imageView2/1/format/jpg"),alt:""}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"fill-gap"},[s("div",{staticClass:"sentence"},[s("span",[e._v(e._s(e.sentence))])]),s("div",{staticClass:"words"},e._l(e.words,(function(t,n){return s("a",{key:"word"+n,staticClass:"choice-item",class:{wrong:e.current==n&&t!==e.form.options[0]&&e.addWrong},attrs:{id:"word"+n},on:{click:function(s){return e.fillWords(t,n)}}},[s("span",{domProps:{textContent:e._s(t)}})])})),0)])])])}),[],!1,null,"1e710cb2",null);t.default=r.exports},ce28:function(e,t,s){},ce84:function(e,t,s){},cebf:function(e,t,s){"use strict";var n=s("a308");s.n(n).a},cee3:function(e,t,s){"use strict";var n=s("d50f");s.n(n).a},cf63:function(e,t,s){"use strict";var n=s("eaf0");s.n(n).a},cfb7:function(e,t,s){"use strict";var n=s("073e");s.n(n).a},cfd6:function(e,t,s){},d13a:function(e,t,s){},d1d0:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("ecb4"),s("ea69"),s("e35a"),s("9cf3"),s("b449");var n=s("ae9a"),a=s("f2f1"),i=s("cabd"),o={data:function(){return{words:"",searchResult:[],searchHistory:[],searchType:0}},components:{LookImageItem:a.default},created:function(){var e=this;this.$bus.on("closeImage",(function(){e.close()}))},mounted:function(){},methods:{search:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.words){t.next=2;break}return t.abrupt("return",!1);case 2:return s=[],localStorage.getItem("searchCourseImgsHistory")&&(s=JSON.parse(localStorage.getItem("searchCourseImgsHistory"))),s.length>9?(s.splice(0,1),s.push({value:e.words})):s.push({value:e.words}),localStorage.setItem("searchCourseImgsHistory",JSON.stringify(s)),t.next=8,Object(i.searchImages)({words:e.words,searchType:e.searchType?1:0});case 8:n=t.sent,e.searchResult=n.data.images;case 11:case"end":return t.stop()}}),t)})))()},useImg:function(e){this.$emit("use",{type:"image",flag:!0,url:e}),this.close()},close:function(){this.words="",this.searchResult=[],this.$emit("close")},reset:function(){this.words="",this.searchResult=[]},querySearch:function(e,t){this.searchHistory=[],localStorage.getItem("searchCourseImgsHistory")&&(this.searchHistory=JSON.parse(localStorage.getItem("searchCourseImgsHistory")));var s=e?this.searchHistory.filter(this.createFilter(e)):this.searchHistory;t(s=s.reverse())},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.search()}}},r=(s("5f62"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"look-image-container"},[s("div",{staticClass:"search"},[e._e(),s("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{change:e.search,select:e.handleSelect},model:{value:e.words,callback:function(t){e.words=t},expression:"words"}}),s("el-switch",{attrs:{"active-text":"精确搜索","inactive-text":"模糊搜索"},on:{change:e.search},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}}),s("i",{staticClass:"el-icon-close",on:{click:e.close}})],1),s("div",{staticClass:"result"},[e.searchResult?s("div",{staticClass:"list"},e._l(e.searchResult,(function(t,n){return s("look-image-item",{key:n,attrs:{item:t},on:{useImg:e.useImg}})})),1):s("span",[e._v("没有找到相关项，请重新输入！")])])])}),[],!1,null,"ad8d8a7a",null);t.default=c.exports},d205:function(e,t,s){"use strict";var n=s("4039");s.n(n).a},d270:function(e,t,s){"use strict";var n=s("f1f2");s.n(n).a},d3c4:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("6ae3"),s("053b"),s("fe8a"),s("e18c"),s("e35a"),s("0d7a"),s("08ba"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("0470"),r=s("ae8c"),c=s("de52"),l=s.n(c),u={data:function(){return{dialogVisible:!1,dialogImageUrl:"",dialogVisible1:!1,disabled:!1,token:"",fileList:[],course:{},form:{content:{lesson:"",sentence:"",word:""},desc:"",posters:[]}}},mounted:function(){},computed:Object(a.a)({},Object(r.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{show:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,a,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return Object(i.getInfoToken)().then((function(e){t.token=e.data.token})),t.course=e,s.next=4,Object(i.getCourseDetail)({course_code:t.course.code});case 4:(n=s.sent).success&&(a=n.data.detail,t.form.desc=a.desc,t.form.content.lesson=a.content.lesson,t.form.content.word=a.content.word,t.form.content.sentence=a.content.sentence,o=[],a.features&&a.features.length>0&&a.features.forEach((function(e){o.push({name:e.img,url:t.assetsDomain+e.img})})),t.form.posters=o),t.dialogVisible=!0;case 8:case"end":return s.stop()}}),s)})))()},onSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(s){var n,a,r,c,u,d,f,m,h,p,v,g,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=44;break}n=[],a=[],r=0;case 6:if(!(r<e.form.posters.length)){t.next=23;break}if(!(c=e.form.posters[r]).raw){t.next=19;break}return u=l()(new Date).format("YYYY/MM/DD"),d=c.name.lastIndexOf("."),f=c.name.substring(d+1),m="course/images/"+u+"/"+c.uid+"."+f,t.next=15,Object(o.uploadQiniu)(c.raw,e.token,m);case 15:h=t.sent,a.push(h.key),t.next=20;break;case 19:a.push(c.name);case 20:r++,t.next=6;break;case 23:p=0;case 24:if(!(p<a.length)){t.next=36;break}return(v=a[p]).indexOf("?")>-1&&(v=v.split("?")[0]),t.next=29,e.imgOnload(v);case 29:g=t.sent,v+="?w="+g.width+"&h="+g.height,a[p]=v,n.push({desc:"",img:v,list_order:p,title:""});case 33:p++,t.next=24;break;case 36:return b={content:{lesson:e.form.content.lesson,sentence:e.form.content.sentence,word:e.form.content.word},course_code:e.course.code,desc:e.form.desc,features:n,flag:e.course.flag&&e.course.flag.length>0?e.course.flag[0]:"",title:e.course.title&&Object.keys(e.course.title).length>0?e.course.title["zh-CN"]:""},t.next=40,Object(i.editCourseDetail)(b);case 40:t.sent.success&&(e.$message({type:"success",message:"编辑成功"}),e.dialogVisible=!1),t.next=46;break;case 44:return t.abrupt("return",!1);case 46:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible1=!0},handleRemove:function(e,t){this.form.posters=this.form.posters.filter((function(t){return t.name!==e.name}))},uploadOnchange:function(e,t){this.form.posters=t},imgOnload:function(e){var t=this;return new Promise((function(s,n){var a=new Image;a.src=t.assetsDomain+e,a.onload=function(){s(a)},a.onerror=function(){n(new Error("图片加载失败"))}}))},closed:function(){this.form={content:{lesson:"",sentence:"",word:""},desc:"",posters:[]}}}},d=(s("51d0"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"编辑课程详情",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"课程简介"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),s("el-form-item",{attrs:{label:"课程内容"}},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"课程"}},[s("el-input",{model:{value:e.form.content.lesson,callback:function(t){e.$set(e.form.content,"lesson",t)},expression:"form.content.lesson"}})],1),s("el-form-item",{attrs:{label:"词汇"}},[s("el-input",{model:{value:e.form.content.word,callback:function(t){e.$set(e.form.content,"word",t)},expression:"form.content.word"}})],1),s("el-form-item",{attrs:{label:"句型"}},[s("el-input",{model:{value:e.form.content.sentence,callback:function(t){e.$set(e.form.content,"sentence",t)},expression:"form.content.sentence"}})],1)],1)],1),s("el-form-item",{attrs:{label:"课程特色"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","list-type":"picture-card",accept:"image/png,image/jpg,image/jpeg","on-preview":e.handlePreview,"on-change":e.uploadOnchange,"on-remove":e.handleRemove,"file-list":e.form.posters,"show-file-list":!0,"auto-upload":!1}},[s("div",{staticClass:"upload-area"},[s("i",{staticClass:"el-icon-plus"})])]),s("el-dialog",{attrs:{visible:e.dialogVisible1,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)}),[],!1,null,"863b3dd6",null);t.default=f.exports},d3ee:function(e,t,s){"use strict";var n=s("0396");s.n(n).a},d423:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQwAAABGCAMAAAAO5lofAAAAeFBMVEVHcEz///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+DIT6nAAAAJ3RSTlMAu8dgA08f3y738VyUhOsU18uvVmSZ5WrStzSlCEiLdSeQwDwNfEI5P/lrAAAFRElEQVR42u2Z65KyOBCGRwUG8IBH9FNUPC33f4c7rpJ0dzpJw6y1VVt5f5ImeRPIQ3f4+goKCgoKCgoKCgoKCgoKCgoKCvofaftt1xbEjd7XCnJ/raILrnvVPI+4IRcFjNnQu1MVmNAmzo93LrWt9d3BsrHrLz1OVb6v3aipNnjGrrVq3pmXmibfowt5hW+udqolIv2yfrxzGdla3x18OzoAq/5or62Jq0nbMGAXQzWrp77KVP/ZDcfA1X/qohqutF/Wj3cuE/diFI77v/UwRd5ePBFXw7Zhyi6Gam63XAzW4khimgu699hYGix+/HMZuhfj6OjgwD2jJXYVqbnF3Fro5v17PLAWKxrTzNGES21l/GV7Z5bs4vFzASOxi/FwdHBWwyQWvz+IUw0JtxiqOXvh4AbsrI0ucCeQADXulvfjnUvauBdDxs+DvphFv+DnPmeWGlINfL/W4DLlJ++nPz/fi1E6Ori3o+wby8PryM8UrMXUjPnRH/1NBrGUnxY/3rlM3IsRjVtd2+uL9oqGwBXed+zNz3Sme5kwMXo3/RhbwDEJP3k//rmokQ4xkfyrgMG07cvPumTZjKnWdjNFY46lfpxz0SOt3ImoY1bRrrE+pQ78TEAWsIy4LkA6csPcr6V+nHPxmBUFEuz86cdPuBaDytr9Kx+44/QpF/txzsVjVhJYldZUrAM/i7nuYXhnY15KydfC4KfTj3MuHrNMoLHQZwJe9G2V8vMBXu1dwcfoL+6KDHkS+3HOxWNWEKgS35LZwB4k6WbwnZwXlhj1FiQ5me9Y6kfIz7gvP1XiO8rNCCk/gcrEHZPdoyu9p5b6EfIzTqEqMT9V4juP5kaWLuan1qz2xazoPkD8dPuR8dNem3tmddD7YECLcTk/uXrHFjM0qqmr2I+Mn+RVFfNzD2qLg+lNyk8wVUFMY+enx4+Mn1hLMT8HYPtNjaUU85N+Oj0xdONI/Qj5ifWQ8lMlvovnCaNRwPXgJyxKcAw9pioZfnr8CPmJFQv5qRPfZzUUGw937ebnmhs7v/Mxsy0h7cPkp8+P8wmtf8nPEdrpe+O17c5P4xBVd1Hg1ziemPz0+fkkP6tvdDSSGLtsYTsYJc3PMrWBbzgTM8VnMxO99U9iP05+qpEyJCk/z/jBq8146M7PM1iZ1LLBY7AWuyrKjc59fj5Zv+sT6Bs+SRp25We2BbhDeQHsItJnP1kKWmqpn0/W7yrxzeYvZWQzrvkS2yDWP8fg95xDKELwBR7YjIzOvX5k/Mz71O9J5vu5tHHzc4M3/YFD6AZu8BTmQRfaud+Pk5+bX9XvB3sWdOvGz9cmvXEIXaAN/v5ylgXc+iexHxk/Tz3q99SREo668fP9vurjnb1lg78ImT2/FQY//X4+yM+BY/BpJ37mxqnMxrLB7/unarZzv5/P8dP1q+5d22gkpUS4uU2adFalEGpPYSk/BX6E/KRmEy8/yQk00Q4jyTiz4PiJ/nhtOX7yZ0oDsR8ZP32FGsMcfRAy0Lrip7WwdT/AzWPzbdux/GQxdhL7kfHT0NHHT534wmy1Qq+gvfie4s2ris6oJAi1HzYSfkr89KrfjUKNsXQ2wf9UDmsDO95jzE99ej0lCE2tpWON5ynx06t+N/40mMzRiS9+2eZwz6+t/SeIWCBZTkghv7aWjmO0A0R+etXvxkGXyZwTm86QjSzl54U7OHvZ31iP3jA/RX4+xE+d+JLUdQnNS/kJM6IVRujCevSGpinz8yF+HiwPQg8178BPWLFXM9i1lJ8iP/8OP4OCgoKCgoKCgoKCgv5L/Q3ESip4nANiGwAAAABJRU5ErkJggg=="},d42b:function(e,t,s){"use strict";var n=s("91a7");s.n(n).a},d50f:function(e,t,s){},d771:function(e,t,s){"use strict";s.r(t),s("e18c"),s("96db"),s("af86"),s("f1a9");var n={data:function(){return{showAddEditor:!1,lang:{langIndex:"",langCode:"",langZhName:"",langEnName:""},smallImageUrl:"",smallFileRaw:{},bigImageUrl:"",bigFileRaw:{}}},methods:{show:function(){this.showAddEditor=!0},fileChangeSml:function(e,t){this.smallImageUrl=URL.createObjectURL(e.raw),this.smallFileRaw=e},handleAvatarSuccessSml:function(e,t){this.smallImageUrl=URL.createObjectURL(t.raw)},fileChangeBig:function(e,t){this.bigImageUrl=URL.createObjectURL(e.raw),this.bigFileRaw=e},handleAvatarSuccessBig:function(e,t){this.bigImageUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){this.showAddEditor=!1},cancel:function(){this.showAddEditor=!1,this.smallImageUrl="",this.smallFileRaw={},this.bigImageUrl="",this.bigFileRaw={}}}},a=(s("c3d4"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddEditor,expression:"showAddEditor"}],staticClass:"add-new-container"},[s("div",{staticClass:"content"},[s("div",{staticClass:"table-box"},[s("table",[s("tr",[s("th",[e._v("序号")]),s("th",[e._v("编码")]),s("th",[e._v("名称"),s("b",[e._v("（中文）")])]),s("th",[e._v("名称"),s("b",[e._v("（英文）")])]),s("th",[e._v("小图")]),s("th",[e._v("大图")])]),s("tr",[s("td",{staticClass:"langIndex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langIndex,expression:"lang.langIndex"}],attrs:{type:"text"},domProps:{value:e.lang.langIndex},on:{input:function(t){t.target.composing||e.$set(e.lang,"langIndex",t.target.value)}}})]),s("td",{staticClass:"langCode"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langCode,expression:"lang.langCode"}],attrs:{type:"text"},domProps:{value:e.lang.langCode},on:{input:function(t){t.target.composing||e.$set(e.lang,"langCode",t.target.value)}}})]),s("td",{staticClass:"langZhName"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langZhName,expression:"lang.langZhName"}],attrs:{type:"text"},domProps:{value:e.lang.langZhName},on:{input:function(t){t.target.composing||e.$set(e.lang,"langZhName",t.target.value)}}})]),s("td",{staticClass:"langEnName"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lang.langEnName,expression:"lang.langEnName"}],attrs:{type:"text"},domProps:{value:e.lang.langEnName},on:{input:function(t){t.target.composing||e.$set(e.lang,"langEnName",t.target.value)}}})]),s("td",{staticClass:"upload"},[s("el-upload",{staticClass:"upload-btn",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChangeSml,"on-success":e.handleAvatarSuccessSml,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1),s("td",{staticClass:"upload"},[s("el-upload",{staticClass:"upload-btn",attrs:{action:"#",accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChangeBig,"on-success":e.handleAvatarSuccessBig,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)])])]),s("div",{staticClass:"bottom-content"},[s("div",{staticClass:"small-img-box"},[s("img",{attrs:{src:e.smallImageUrl,alt:""}}),s("span",[e._v("小图")])]),s("div",{staticClass:"big-img-box"},[s("img",{attrs:{src:e.bigImageUrl,alt:""}}),s("span",[e._v("大图")])])]),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),s("a",{staticClass:"determine active",attrs:{href:"javascript:;"},on:{click:function(t){return e.determine()}}},[e._v("确定")])])])])])}),[],!1,null,"59da752a",null);t.default=i.exports},d790:function(e,t,s){"use strict";var n=s("866a");s.n(n).a},d97f:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("4194"),s("fe59"),s("053b"),s("08ba");var n=s("0eaa"),a=s("cabd"),i=s("ae8c"),o={props:["userList","authorityUsers","authorityList"],data:function(){return{isShow:!1,isShowAuthority:!1,isShowAuthority1:!1,editors:[],chiefEditors:[],authorities:[],left:0,top:0,folder:null,pUUID:"",type:"",trackNum:0,form:{examin_state:2,comment:""},authorityTop:!1}},components:{DialogOnline:s("6963").default},computed:Object(n.a)(Object(n.a)({},Object(i.e)({userInfo:function(e){return e.user.userInfo},version:function(e){return e.course.version}})),{},{curUserAuthority:function(){var e=this,t=null;return this.authorityList&&this.authorityList.length&&(t=this.authorityList.find((function(t){return t.authorityId===e.userInfo.authorityId}))),t}}),methods:{show:function(e){var t=this,s=e.event;document.getElementById("right-menu-container"),this.left=s.x+20,this.top=s.y,this.authorityTop=!1;var n=Math.floor(s.y/document.documentElement.clientHeight*100)/100;if((n*=100)>52&&(this.authorityTop=!0),n>60&&("other"===e.type?(this.left=s.x+20,this.top=s.y):e&&"content"===e.folder.type?this.top=s.y-220:e&&"catalog"===e.folder.type&&(this.top=s.y-236)),"other"===e.type)this.pUUID=e.pUUID;else if(this.folder=e.folder,this.authorities=[],this.authorityUsers&&this.authorityUsers.length&&(this.authorityUsers.forEach((function(s){var n="-1";if(e.folder.authorities){var a=e.folder.authorities.find((function(e){return e.user_uuid===s.uuid}));a&&(n=a.auth)}var i={authority:n,user_uuid:s.uuid};t.authorities.push(i)})),this.authorities.push({authority:"rw",user_uuid:this.userInfo.uuid})),e.folder.authorities){var a=e.folder.authorities.find((function(e){return e.user_uuid===t.userInfo.uuid}));a&&(this.form.examin_state=a.examin_state,this.form.comment=a.examin_state_info.comment)}this.type=e.type,this.trackNum=e.trackNum,this.isShow=!0},lookPreview:function(){this.$emit("lookPreview",this.folder),this.hide()},hide:function(){this.isShow=!1},rename:function(){var e=this.folder.uuid;this.$emit("rename",e),this.hide()},copy:function(){var e=this.folder.uuid;this.$emit("copy",e),this.hide()},paste:function(){var e=this.trackNum;"other"!==this.type&&(e+=1),this.$emit("paste",{trackNum:e}),this.hide()},del:function(){var e=this.trackNum;this.$emit("del",{trackNum:e,folder:this.folder}),this.hide()},addFolder:function(){var e,t=this.trackNum;"other"===this.type?e=this.pUUID:(e=this.folder.uuid,t++),this.$emit("editCatalog",{handler:"add",type:"catalog",uuid:e,trackNum:t,clickType:this.type}),this.hide()},addDocument:function(){var e,t=this.trackNum;"other"===this.type?e=this.pUUID:(e=this.folder.uuid,t++),this.$emit("editCatalog",{handler:"add",type:"content",uuid:e,trackNum:t,clickType:this.type}),this.hide()},editCatalog:function(){var e=this.folder.uuid;this.$emit("editCatalog",{handler:"edit",type:this.folder.type,uuid:e,folder:this.folder,trackNum:this.trackNum,clickType:this.type}),this.hide()},clickShow:function(e){var t=this,s={is_show:e,uuid:this.folder.uuid};Object(a.setIsShowCatalog)(s).then((function(e){t.$message({type:"success",message:"设置成功"}),t.$emit("resetTrackData",{pUUID:t.folder.parent_uuid,trackNum:t.trackNum,curUUID:t.folder.uuid}),t.hide()}))},authoritySetFn:function(){var e=this,t={authorities:this.authorities.filter((function(e){return"-1"!==e.authority})),type:"catalog",uuid:this.folder.uuid};Object(a.setAuthority)(t).then((function(t){e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.hide()}))},submitAuthority:function(){var e=this;if(3===this.form.examin_state)return this.$message({type:"warning",message:"需要重置审核状态"}),!1;this.$confirm("确认要提交审核吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={catalog_uuid:e.folder.uuid};Object(a.submitExamin)(t).then((function(t){e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.hide()}))})).catch((function(){e.$message({type:"info",message:"已取消提交审核"}),e.hide()}))},resetAuthority:function(){var e=this,t={catalog_uuid:this.folder.uuid};Object(a.resetExamin)(t).then((function(t){e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.hide()}))},onExamin:function(){var e=this;this.$refs.form.validate((function(t){if(!t&&2!==e.form.examin_state)return e.$message({type:"warning",message:"请填写不通过原因"}),!1;var s="";e.authorityUsers.forEach((function(t){var n=e.folder.authorities.find((function(e){return e.user_uuid===t.uuid}));n&&n.auth&&(s=t.uuid)}));var n={catalog_uuid:e.folder.uuid,comment:e.form.comment,examin_state:e.form.examin_state,user_uuid:s};Object(a.examin)(n).then((function(t){e.$message({type:"success",message:t.msg}),e.$emit("resetTrackData",{pUUID:e.folder.parent_uuid,trackNum:e.trackNum}),e.hide()}))}))},confirm:function(e){var t=this,s="测试环境";"online"===e.dbEnv&&(s="正式环境"),this.$confirm("确定要上线".concat(s,"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a.addOnlineJob)({db_env:e.dbEnv,jobName:t.folder.name,online_type:"catalog",online_uuid:t.folder.uuid}).then((function(e){e.success&&(t.$message({type:"success",message:"上线成功"}),t.$emit("resetTrackData",{pUUID:t.folder.parent_uuid,trackNum:t.trackNum}),t.hide())}))})).catch((function(){t.$message({type:"info",message:"已取消上线"}),t.hide()}))},onlineJob:function(){this.$refs.dialogOnline.show()},download:function(){var e=this;if(this.trackNum>1)return this.$message({type:"warning",message:"只允许下载一、二级目录"}),!1;Object(a.exportCourseContent)({code:this.version.selCourse.uuid,uuid:this.folder.uuid,level:this.trackNum+1+""}).then((function(t){t.success&&(e.$message({type:"success",message:"请求已发送，请到下载任务列表中下载"}),e.$emit("refreshDownloadList"),e.hide())}))}}},r=(s("0f6d"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"right-menu-container",style:{left:e.left+"px",top:e.top+"px"},attrs:{id:"right-menu-container"}},[s("div",{staticClass:"menu"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type&&"catalog"!==e.folder.type,expression:"type == 'folder' && folder.type !== 'catalog'"}],staticClass:"menu-group"},[s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name look-preview",on:{click:e.lookPreview}},[e._v("预览")])]),s("div",{staticClass:"line"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.folder&&"catalog"==e.folder.type||"other"==e.type,expression:"folder && folder.type == 'catalog' || type == 'other'"}],staticClass:"menu-group"},[s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.addFolder}},[e._v(e._s("folder"==e.type?"新建子目录":"新建目录"))])]),s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.addDocument}},[s("span",[e._v("新建文件")])])])]),s("div",{staticClass:"menu-group"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-item"},[s("div",{staticClass:"line"}),s("div",{staticClass:"name",on:{click:e.copy}},[e._v("复制")])]),s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.paste}},[e._v("粘贴")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.rename}},[e._v("重命名")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.del}},[e._v("删除")])]),s("div",{staticClass:"line"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-group"},[s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.editCatalog}},[e._v("信息编辑")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-group"},[e.folder?s("div",{staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:function(t){return e.clickShow(!e.folder.is_show)}}},[e._v(e._s(e.folder.is_show?"隐藏":"显示"))])]):e._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:"folder"==e.type,expression:"type == 'folder'"}],staticClass:"menu-group"},[s("div",{staticClass:"line"}),s("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.userInfo.authorityId,expression:"userInfo.authorityId === '1'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.onlineJob}},[e._v("上线")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.userInfo.authorityId,expression:"userInfo.authorityId === '1'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.download}},[e._v("下载")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.authorityUsers&&e.authorityUsers.length,expression:"authorityUsers && authorityUsers.length"}],staticClass:"menu-item",on:{mouseenter:function(t){e.isShowAuthority=!0},mouseleave:function(t){e.isShowAuthority=!1}}},[s("div",{staticClass:"name"},[e._v(" 权限设置 "),s("i",{staticClass:"el-icon-caret-right"})]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowAuthority,expression:"isShowAuthority"}],class:["authority-container",{"authority-top":e.authorityTop}]},[e.authorities.length?s("div",{staticClass:"authority-wrap"},[e._l(e.authorityUsers,(function(t){return s("div",{key:t.uuid,staticClass:"user-item"},[s("div",{staticClass:"name"},[e._v(e._s(t.nickName))]),s("el-radio-group",{model:{value:e.authorities.find((function(e){return e.user_uuid==t.uuid})).authority,callback:function(s){e.$set(e.authorities.find((function(e){return e.user_uuid==t.uuid})),"authority",s)},expression:"authorities.find(a => { return a['user_uuid'] == item.uuid })['authority']"}},[s("el-radio",{attrs:{label:""}},[e._v("无")]),s("el-radio",{attrs:{label:"r"}},[e._v("只读")]),s("el-radio",{attrs:{label:"rw"}},[e._v("可读可编辑")])],1)],1)})),s("div",{staticClass:"handler"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.authoritySetFn}},[e._v("保存")])],1)],2):e._e()])])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.folder&&e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid}))&&"rw"==e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid})).auth,expression:"folder && folder.authorities && folder.authorities.find(item => {return item.user_uuid == userInfo.uuid }) && folder.authorities.find(item => {return item.user_uuid == userInfo.uuid })['auth'] == 'rw'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.submitAuthority}},[e._v("提交审核")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.folder&&e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid}))&&"rw"==e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid})).auth,expression:"folder && folder.authorities && folder.authorities.find(item => {return item.user_uuid == userInfo.uuid }) && folder.authorities.find(item => {return item.user_uuid == userInfo.uuid })['auth'] == 'rw'"}],staticClass:"menu-item"},[s("div",{staticClass:"name",on:{click:e.resetAuthority}},[e._v("重置审核状态")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.authorityUsers&&e.authorityUsers.length&&e.folder&&e.folder.authorities&&e.folder.authorities.filter((function(e){return 1==e.examin_state||3==e.examin_state})).length||!(e.authorityUsers&&e.authorityUsers.length)&&e.folder&&e.folder.authorities&&e.folder.authorities.filter((function(e){return 3==e.examin_state&&e.examin_state_info.comment})).length,expression:"(authorityUsers && authorityUsers.length && folder && folder.authorities && folder.authorities.filter(item => {return item.examin_state == 1 ||  item.examin_state == 3}).length) || !(authorityUsers && authorityUsers.length) && folder && folder.authorities && folder.authorities.filter(item => {return item.examin_state == 3 && item.examin_state_info.comment}).length"}],staticClass:"menu-item",on:{mouseenter:function(t){e.isShowAuthority1=!0},mouseleave:function(t){e.isShowAuthority1=!1}}},[s("div",{staticClass:"name"},[e._v(" 审核 "),s("i",{staticClass:"el-icon-caret-right"})]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowAuthority1,expression:"isShowAuthority1"}],staticClass:"authority-container"},[s("div",{staticClass:"authority-wrap"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"是否通过"}},[s("el-radio-group",{attrs:{disabled:e.folder&&e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid}))&&0!==e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid})).examin_state},on:{change:function(t){3==e.form.examin_state?e.form.comment="":e.form.comment=e.form.comment}},model:{value:e.form.examin_state,callback:function(t){e.$set(e.form,"examin_state",t)},expression:"form.examin_state"}},[s("el-radio",{attrs:{label:2}},[e._v("通过")]),s("el-radio",{attrs:{label:3}},[e._v("不通过")])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.form.examin_state,expression:"form.examin_state == 3"}],attrs:{label:"原因",prop:"comment",rules:{required:!0,message:"原因不能为空",trigger:"blur"}}},[s("el-input",{attrs:{type:"textarea",disabled:e.folder&&e.folder.authorities&&e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid}))&&0!==e.folder.authorities.find((function(t){return t.user_uuid==e.userInfo.uuid})).examin_state},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.authorityUsers&&e.authorityUsers.length,expression:"authorityUsers && authorityUsers.length"}]},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onExamin}},[e._v("确定")])],1)],1)],1)])])],1)])]),s("dialog-online",{ref:"dialogOnline",on:{confirm:e.confirm}})],1)])}),[],!1,null,"24f77c8d",null);t.default=c.exports},da9c:function(e,t,s){"use strict";s.r(t);var n=s("5b8f"),a=s("5d24"),i={data:function(){return{searchKey:"",theight:0}},components:{ChangeImg:n.default,ChangeVoice:a.default},mounted:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.theight=e-370},methods:{clickChangeImg:function(){this.$refs.changeImg.show()},clickChangVoice:function(){this.$refs.changeVoice.show()}}},o=(s("85ea"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-container"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"text",placeholder:"输入内容关键字"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),s("span",[e._v("搜索")])]),s("div",{staticClass:"form-list"},[s("table",{staticClass:"selfTable"},[e._m(0),s("tbody",{style:{height:e.theight+"px"}},[s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-1")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(1),e._m(2),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover",attrs:{src:"http://course-assets.talkmate.com/kidCourseRes/combg/9.webp?v=qoiuoiewurpooo",fit:"cover"},on:{click:e.clickChangeImg}})],1),s("td",{staticClass:"selfTableCell",on:{click:e.clickChangVoice}},[e._m(3)]),e._m(4)]),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("2")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-2")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(5),e._m(6),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover"},[s("div",{staticClass:"cover-error",attrs:{slot:"error"},slot:"error"},[s("i")])])],1),e._m(7),e._m(8)]),e._m(9),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-1")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(10),e._m(11),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover",attrs:{src:"http://course-assets.talkmate.com/kidCourseRes/combg/9.webp?v=qoiuoiewurpooo",fit:"cover"}})],1),e._m(12),e._m(13)]),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("2")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-2")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(14),e._m(15),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover"},[s("div",{staticClass:"cover-error",attrs:{slot:"error"},slot:"error"},[s("i")])])],1),e._m(16),e._m(17)]),e._m(18),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-1")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(19),e._m(20),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover",attrs:{src:"http://course-assets.talkmate.com/kidCourseRes/combg/9.webp?v=qoiuoiewurpooo",fit:"cover"}})],1),e._m(21),e._m(22)]),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("2")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-2")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(23),e._m(24),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover"},[s("div",{staticClass:"cover-error",attrs:{slot:"error"},slot:"error"},[s("i")])])],1),e._m(25),e._m(26)]),e._m(27),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-1")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(28),e._m(29),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover",attrs:{src:"http://course-assets.talkmate.com/kidCourseRes/combg/9.webp?v=qoiuoiewurpooo",fit:"cover"}})],1),e._m(30),e._m(31)]),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("2")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-2")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(32),e._m(33),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover"},[s("div",{staticClass:"cover-error",attrs:{slot:"error"},slot:"error"},[s("i")])])],1),e._m(34),e._m(35)]),e._m(36),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-1")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(37),e._m(38),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover",attrs:{src:"http://course-assets.talkmate.com/kidCourseRes/combg/9.webp?v=qoiuoiewurpooo",fit:"cover"}})],1),e._m(39),e._m(40)]),s("tr",{staticClass:"selfTableRow"},[s("td",{staticClass:"selfTableCell"},[e._v("2")]),s("td",{staticClass:"selfTableCell"},[e._v("1")]),s("td",{staticClass:"selfTableCell"},[e._v("1-2")]),s("td",{staticClass:"selfTableCell"},[e._v("填空")]),e._m(41),e._m(42),s("td",{staticClass:"selfTableCell"},[s("el-image",{staticClass:"cover"},[s("div",{staticClass:"cover-error",attrs:{slot:"error"},slot:"error"},[s("i")])])],1),e._m(43),e._m(44)]),e._m(45)])])]),e._m(46),s("change-img",{ref:"changeImg"}),s("change-voice",{ref:"changeVoice"})],1)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"selfTableHeader"},[s("th",[e._v("No.")]),s("th",[e._v("Slide")]),s("th",[e._v("Form")]),s("th",[e._v("Form Type")]),s("th",{staticStyle:{width:"200px"}},[e._v("Content")]),s("th",{staticStyle:{width:"200px"}},[e._v("Options")]),s("th",[e._v("Picture")]),s("th",[e._v("Voice")]),s("th")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What are you doing?"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"voice"},[t("i")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What is your name? "}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"selfTableRow"},[t("td",{staticClass:"operate",attrs:{colspan:"9"}},[t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("预览")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("移动")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("删除")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What are you doing?"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What is your name? "}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"selfTableRow"},[t("td",{staticClass:"operate",attrs:{colspan:"9"}},[t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("预览")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("移动")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("删除")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What are you doing?"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What is your name? "}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"selfTableRow"},[t("td",{staticClass:"operate",attrs:{colspan:"9"}},[t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("预览")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("移动")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("删除")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What are you doing?"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What is your name? "}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"selfTableRow"},[t("td",{staticClass:"operate",attrs:{colspan:"9"}},[t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("预览")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("移动")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("删除")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What are you doing?"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What is your name? "}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell",staticStyle:{width:"200px"}},[t("input",{attrs:{type:"text",value:"What/How/Where"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("div",{staticClass:"voice"},[t("i")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"selfTableCell"},[t("i",{staticClass:"el-icon-close"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"selfTableRow"},[t("td",{staticClass:"operate",attrs:{colspan:"9"}},[t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("预览")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("移动")]),t("a",{staticClass:"operate-item",attrs:{href:"javascript:;"}},[this._v("删除")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btns"},[t("a",{staticClass:"btn outline",attrs:{href:"javascript:;"}},[this._v("导入")]),t("a",{staticClass:"btn primary",attrs:{href:"javascript:;"}},[this._v("新增")])])}],!1,null,"6cc7f9ae",null);t.default=r.exports},db39:function(e,t,s){"use strict";var n=s("14ae");s.n(n).a},dbb33:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("3466"),s("fe59"),s("6ae3"),s("77ad"),s("ea69"),s("053b"),s("e18c"),s("e35a"),s("96db"),s("0d7a"),s("08ba"),s("af86"),s("f1a9");var n=s("e769"),a=(s("b449"),s("ae9a")),i=s("0eaa"),o=s("69db"),r=s("7570"),c=s("0ea3"),l=s("8f72"),u=s("2651"),d=s("c339"),f=s("54b9"),m=s("e8cc"),h=s("0a60"),p=s("86fe"),v=s("5a86"),g=s("ddd7"),b=s("a74f"),w=s("235a"),y=s("8ab7"),C=s("d1d0"),_=s("ea69d"),x=s("f798"),k=s("ae8c"),I=s("cabd"),j=s("0470"),O=s("2480"),T=s("de52"),D=s.n(T),F={data:function(){return{formHeight:0,pathDesc:"",pUUID:"",isShow:!1,contents:[],feilds:[],contentModel:"",form:{},activeFormIndex:0,activeFeild:"",baseFormDataSelf:"",copyBaseFormDataSelf:"",uploadIndex:"",audio:new Audio}},components:{FormComp:o.default,FormVideo:r.default,FormKidTest:c.default,FormLevelGrade:l.default,FormListenSpelling:u.default,FormIntertranslation:d.default,FormWritingTraining:f.default,FormVocabularyComprehension:m.default,FormReadingComprehension:h.default,FormReadRole:p.default,FormListeningChoice:v.default,FormDubbingRepeat:g.default,FormRubbingEar:b.default,FormListenRead:w.default,FormPictureSentence:y.default,LookImage:C.default,LookContent:_.default,RightMenuForm:x.default},mounted:function(){var e=this,t=document.getElementById("forms");t.oncontextmenu=function(e){e.preventDefault()},t.onclick=function(){e.$refs.rightMenuForm&&e.$refs.rightMenuForm.hide()}},computed:Object(i.a)(Object(i.a)({},Object(k.e)({contentTypes:function(e){return e.course.contentTypes},contentTags:function(e){return e.course.contentTags},assetsDomain:function(e){return e.course.assetsDomain},selfSigns:function(e){return e.course.selfSigns},version:function(e){return e.course.version},partOfSpeech:function(e){return e.course.partOfSpeech},lowerRoleUser:function(e){return e.user.lowerRoleUser}})),{},{selfContentTypes:function(){var e=this;return this.contentTypes.filter((function(t){return t.model_keys&&t.model_keys.findIndex((function(t){return t===e.contentModel}))>-1}))},selfContentTags:function(){var e=[];if(this.version&&this.contentTags.length){var t="pro";3===this.version.selCourseType&&(t="kid"),e=this.contentTags.filter((function(e){return e.type.toLowerCase()===t}))}return e}}),methods:{initData:function(e){var t=this;Object(I.getInfoToken)().then((function(e){t.token=e.data.token})),this.activeFormIndex=0,this.pathDesc=e.pathDesc,this.$set(this.$data,"pUUID",e.pUUID),this.$set(this.$data,"contents",e.contents),this.baseFormDataSelf=e.baseFormData,this.copyBaseFormDataSelf=e.baseFormData,this.$set(this.$data,"feilds",e.feilds.sort((function(e,t){return e.list_order-t.list_order}))),this.$set(this.$data,"contentModel",e.contentModel),this.$bus.$emit("curContentForm",e.contents[this.activeFormIndex]),this.formHeight=220,0===this.version.selCourseType&&(this.formHeight=385),this.resetSortable(),this.isShow=!0},resetSortable:function(){var e=this,t=document.getElementById("sort-form"),s=new O.a(t,{animation:0,onEnd:function(t){var n=[],a=e.contents;s.toArray().forEach((function(e,t){var s=a[parseInt(e)];s.list_order=10*(t+1),n.push(s)})),e.contents=[],setTimeout((function(){e.$set(e,"contents",n),e.activeFormIndex=t.newIndex;var s={content_model:e.contentModel,contents:e.contents,parent_uuid:e.pUUID};Object(I.editContent)(s).then((function(){}))}),0)}})},resetData:function(){this.pUUID="",this.contents=[],this.feilds=[],this.contentModel="",this.form={},this.activeFormIndex=0,this.activeFeild="",this.isShow=!1},switchForm:function(e){this.activeFormIndex=e.formIndex,this.$set(this.contents,this.activeFormIndex,e.content),this.$bus.$emit("curContentForm",this.contents[this.activeFormIndex])},onSubmit:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.form.validate((function(t){if(t){var s=[];e.contents.forEach((function(e,t){var n=e;n.list_order=10*(t+1),s.push(n)}));for(var n="",a=0;a<e.contents.length;a++){var i=e.contents[a],o=i.sound;if(o&&"mp3"!==o.substring(o.lastIndexOf(".")+1).toLowerCase()){n="上传的声音文件地址格式不对，需要上传mp3格式的声音";break}var r=i.image;if(r&&"webp"!==r.substring(r.lastIndexOf(".")+1).toLowerCase()){n="上传的图片文件地址格式不对，需要上传webp格式的图片";break}var c=i.video;if(c&&"mp4"!==c.substring(c.lastIndexOf(".")+1).toLowerCase()){n="上传的视频文件地址格式不对，需要上传MP4格式的视频";break}}if(n)return e.$message({type:"warning",message:n}),!1;e.$set(e.$data,"contents",s);var l={content_model:e.contentModel,contents:e.contents,parent_uuid:e.pUUID};Object(I.editContent)(l).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.$set(e.$data,"contents",t.data.contents))}))}}));case 1:case"end":return t.stop()}}),t)})))()},addForm:function(){this.copyBaseFormDataSelf=this.baseFormDataSelf;var e=JSON.parse(this.baseFormDataSelf);this.contents.push(e),this.activeFormIndex=this.contents.length-1,this.resetSortable()},delForm:function(e){var t=this;if(e.form.uuid)this.$confirm("确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var s={content_model:t.contentModel,parent_uuid:t.pUUID,del_uuids:[e.form.uuid]};Object(I.delContent)(s).then((function(s){if(s.success)if(t.activeFormIndex=0,t.$message({type:"success",message:"删除成功!"}),t.contents.length>1){var n=t.contents.findIndex((function(t){return t.uuid===e.form.uuid}));t.contents.splice(n,1)}else{var a=JSON.parse(t.baseFormDataSelf);t.contents.splice(0,1,a)}}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}));else{if(1===this.contents.length&&""===e.form.uuid)return this.$message({type:"warning",message:"没有可删除的内容!"}),!1;this.activeFormIndex=0,this.contents.splice(e.formIndex,1)}},searchContent:function(e){this.activeFeild=e},searchImg:function(e){this.activeFeild=e},use:function(e){var t="";e.flag&&(t=e.url),this.$set(this.contents[this.activeFormIndex],e.type,t)},useImg:function(e){this.curForm.image=e},lookPreview:function(){if("content_model_pro_sound"===this.contentModel||"content_model_level_grade"===this.contentModel){var e={contents:this.contents,contentModel:this.contentModel};this.$bus.emit("showPreviewModel",e)}else this.$message({type:"warning",message:"该题型还不支持预览"})},closeLook:function(){this.activeFeild=""},clear:function(e){this.$set(this.contents[this.activeFormIndex],e,"")},addOption:function(e){this.contents[this.activeFormIndex][""+e.feild]||(this.contents[this.activeFormIndex][""+e.feild]=[]),this.contents[this.activeFormIndex][""+e.feild].push("")},delOption:function(e,t){this.contents[this.activeFormIndex][""+e.feild].splice(t,1)},contentmenu:function(e){this.$refs.rightMenuForm.show(e)},paste:function(){var e=JSON.parse(this.version.copyForm);e.uuid="",this.contents.push(e),this.activeFormIndex=this.contents.length-1,this.resetSortable(),this.$refs.rightMenuForm.hide()},uploadSoundOnchange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=D()(new Date).format("YYYY/MM/DD"),a=e.name.lastIndexOf("."),i=e.name.substring(a+1),o="course/sounds/"+t.version.selLang.toLowerCase()+"/"+n+"/"+e.uid+"."+i,s.next=8,Object(j.uploadQiniu)(e.raw,t.token,o);case 8:r=s.sent,t.$set(t.contents[t.activeFormIndex],"sound",r.key),void 0!==t.contents[t.activeFormIndex].sound_time&&((c=new Audio).src=t.assetsDomain+r.key,c.oncanplay=function(){t.$set(t.contents[t.activeFormIndex],"sound_time",c.duration)});case 11:case"end":return s.stop()}}),s)})))()},saveRecorder:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=D()(new Date).format("YYYY/MM/DD"),"mp3",a="course/sounds/"+t.version.selLang.toLowerCase()+"/"+n+"/"+(new Date).getTime()+".mp3",s.next=7,Object(j.uploadQiniu)(e,t.token,a);case 7:i=s.sent,t.$set(t.contents[t.activeFormIndex],"sound",i.key),void 0!==t.contents[t.activeFormIndex].sound_time&&((o=new Audio).src=t.assetsDomain+i.key,o.oncanplay=function(){t.$set(t.contents[t.activeFormIndex],"sound_time",o.duration)});case 10:case"end":return s.stop()}}),s)})))()},uploadImageOnchange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=D()(new Date).format("YYYY/MM/DD"),a=e.name.lastIndexOf("."),i=e.name.substring(a+1),o=e.name.substring(0,a),r="course/images/common/"+t.version.selLang.toLowerCase()+"/"+n+"/"+e.uid+"."+i,t.saveImages([r],[o]),s.next=10,Object(j.uploadQiniu)(e.raw,t.token,r);case 10:c=s.sent,t.$set(t.contents[t.activeFormIndex],"image",c.key);case 12:case"end":return s.stop()}}),s)})))()},uploadVideoOnchange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=D()(new Date).format("YYYY/MM/DD"),a=e.name.lastIndexOf("."),i=e.name.substring(a+1),o="course/videos/"+t.version.selLang.toLowerCase()+"/"+n+"/"+e.uid+"."+i,s.next=8,Object(j.uploadQiniu)(e.raw,t.token,o);case 8:r=s.sent,t.$set(t.contents[t.activeFormIndex],"video",r.key),c=document.getElementById("form-video-"+t.activeFormIndex),setTimeout((function(){c.oncanplay=function(){t.$set(t.contents[t.activeFormIndex],"video_time",c.duration)}}),0);case 12:case"end":return s.stop()}}),s)})))()},uploadCoverOnchange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=D()(new Date).format("YYYY/MM/DD"),a=e.name.lastIndexOf("."),i=e.name.substring(a+1),o=e.name.substring(0,a),r="course/images/"+t.version.selLang.toLowerCase()+"/"+n+"/"+e.uid+"."+i,t.saveImages([r],[o]),s.next=10,Object(j.uploadQiniu)(e.raw,t.token,r);case 10:c=s.sent,t.$set(t.contents[t.activeFormIndex],"cover",c.key);case 12:case"end":return s.stop()}}),s)})))()},minus:function(e,t){this.contents[this.activeFormIndex][""+t].splice(e,1),this.copyBaseFormDataSelf=JSON.stringify(this.contents[this.activeFormIndex])},plus:function(e,t){var s=t.feild;this.copyBaseFormDataSelf=JSON.stringify(this.contents[this.activeFormIndex]);var n=JSON.parse(this.copyBaseFormDataSelf);if(n[""+s]||(n[""+s]=[]),"string"===e)n[""+s].push("");else if(t.sub_feilds&&t.sub_feilds.length>0){var a={};t.sub_feilds.forEach((function(e){var t=e.feild,s="";"string"===e.type||"text"===e.type?s="":"int"===e.type?s=0:"array"===e.type&&(s=[""]),a[""+t]=s})),n[""+s].push(a)}else n[""+s].push({key:"",val:""});this.$set(this.contents,this.activeFormIndex,n),this.copyBaseFormDataSelf=JSON.stringify(n)},upload:function(e,t){this.uploadIndex=e.data_from+","+e.feild+","+t},uploadOnchange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var a,i,o,r,c,l,u,d,f,m,h,p;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.uploadIndex.split(","),i=a[0],o=a[1],r=a[2],c=D()(new Date).format("YYYY/MM/DD"),l=e.name.lastIndexOf("."),u=e.name.substring(l+1),d=e.name.substring(0,l),f="","upload_audio"===i?f="course/sounds/"+t.version.selLang+"/"+c+"/"+e.uid+"."+u:"upload_image"===i?(f="course/images/"+t.version.selLang+"/"+c+"/"+e.uid+"."+u,t.saveImages([f],[d])):"upload_video"===i&&(f="course/videos/"+t.version.selLang+"/"+c+"/"+e.uid+"."+u),s.next=12,Object(j.uploadQiniu)(e.raw,t.token,f);case 12:m=s.sent,"-1"===r?(t.$set(t.contents[t.activeFormIndex],o,m.key),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex]),void 0!==t.contents[t.activeFormIndex][o+"_time"]&&((h=new Audio).src=t.assetsDomain+m.key,h.oncanplay=function(){t.$set(t.contents[t.activeFormIndex],o+"_time",h.duration),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex])})):(t.$set(t.contents[t.activeFormIndex][o],r,m.key),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex]),void 0!==t.contents[t.activeFormIndex][o+"_time"]&&Object(n.a)(t.contents[t.activeFormIndex][o+"_time"].length)>0&&((p=new Audio).src=t.assetsDomain+m.key,p.oncanplay=function(){t.$set(t.contents[t.activeFormIndex][o+"_time"],r,p.duration),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex])}));case 14:case"end":return s.stop()}}),s)})))()},uploadSub:function(e,t,s,n){this.uploadIndex=n.data_from+","+e.feild+","+t+","+s+","+n.feild},uploadOnchangeSub:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var a,i,o,r,c,l,u,d,f,m,h,p,v,g;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.uploadIndex.split(","),i=a[0],o=a[1],r=a[2],c=parseInt(a[3]),l=a[4],u=D()(new Date).format("YYYY/MM/DD"),d=e.name.lastIndexOf("."),f=e.name.substring(d+1),m=e.name.substring(0,d),h="","upload_audio"===i?h="course/sounds/"+t.version.selLang+"/"+u+"/"+e.uid+"."+f:"upload_image"===i?(h="course/images/"+t.version.selLang+"/"+u+"/"+e.uid+"."+f,t.saveImages([h],[m])):"upload_video"===i&&(h="course/videos/"+t.version.selLang+"/"+u+"/"+e.uid+"."+f),s.next=14,Object(j.uploadQiniu)(e.raw,t.token,h);case 14:p=s.sent,"-1"===r?(t.$set(t.contents[t.activeFormIndex][""+o][c],l,p.key),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex]),void 0!==t.contents[t.activeFormIndex][""+o][c][o+"_time"]&&((v=new Audio).src=t.assetsDomain+p.key,v.oncanplay=function(){t.$set(t.contents[t.activeFormIndex][""+o][c],o+"_time",v.duration),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex])})):(t.$set(t.contents[t.activeFormIndex][o][r][""+l],c,p.key),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex]),void 0!==t.contents[t.activeFormIndex][o][r][o+"_time"]&&Object(n.a)(t.contents[t.activeFormIndex][o][r][o+"_time"].length)>0&&((g=new Audio).src=t.assetsDomain+p.key,g.oncanplay=function(){t.$set(t.contents[t.activeFormIndex][o][r][o+"_time"],c,g.duration),t.copyBaseFormDataSelf=JSON.stringify(t.contents[t.activeFormIndex])}));case 16:case"end":return s.stop()}}),s)})))()},selOneSign:function(e){this.contents[this.activeFormIndex].self_sign=e.key},toggleRecorder:function(){this.$refs.recorder[0].toggle()},motherSoundPlay:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}},changeStringOptions:function(e){var t=this.contents[this.activeFormIndex][""+e];t&&(this.contents[this.activeFormIndex].options=t.split(""))},changeTextOptions:function(e){var t=this.contents[this.activeFormIndex][""+e];if(t){for(var s=/\[(.*?)\]/g,n=[],a=s.exec(t);a;)n.push(a[1]),a=s.exec(t);this.contents[this.activeFormIndex].options=n}},changeTextRadar:function(e){var t=this.contents[this.activeFormIndex][""+e];if(t){var s=[];t.split("/").forEach((function(e){s.push({key:e,val:""})})),this.contents[this.activeFormIndex].radar=s}},addSubItem:function(e,t,s){this.contents[this.activeFormIndex][""+e.feild][s][""+t.feild].push("")},minusSubItem:function(e,t,s,n){this.contents[this.activeFormIndex][""+e.feild][s][""+t.feild].splice(n,1)},saveImages:function(e,t){var s={image_urls:e,tagKeys:["通用"],names:t};Object(I.addMoreImages)(s)},download:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var n,a,i,o,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=2;break}return s.abrupt("return");case 2:return n=e.slice(e.lastIndexOf("/")+1),s.next=5,fetch(t.assetsDomain+e);case 5:return a=s.sent,s.next=8,a.blob();case 8:i=s.sent,o=window.URL.createObjectURL(i),(r=document.createElement("a")).href=o,r.download=n,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r)}),1e3);case 17:case"end":return s.stop()}}),s)})))()}}},S=(s("c7a5"),s("e60c"),s("4023")),A=Object(S.a)(F,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"model-pro-container"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"left"},[e._v(" 路径："+e._s(e.pathDesc)+" ")]),s("div",{staticClass:"right"},[s("el-button",{attrs:{type:"text"},on:{click:e.addForm}},[e._v("新增")]),s("el-button",{attrs:{type:"text"},on:{click:e.lookPreview}},[e._v("预览")])],1)]),s("div",{staticClass:"forms",attrs:{id:"forms"},on:{contextmenu:e.contentmenu}},["content_model_video"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-video",{key:n,class:{active:e.activeFormIndex==n},style:{height:e.formHeight+"px"},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_kid_test"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-kid-test",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_level_grade"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-level-grade",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_listen_spelling"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-listen-spelling",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_intertranslation"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-intertranslation",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_writing_training"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-writing-training",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_vocabulary_comprehension"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-vocabulary-comprehension",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_reading_comprehension"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-reading-comprehension",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_read_in_role"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-read-role",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_listening_choice"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-listening-choice",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_dubbing_repeat"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-dubbing-repeat",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_rubbing_ear"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-rubbing-ear",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_listen_read"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-listen-read",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):"content_model_picture_sentence"==e.contentModel?s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-picture-sentence",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1):s("div",{staticClass:"list",attrs:{id:"sort-form"}},e._l(e.contents,(function(t,n){return s("form-comp",{key:n,class:{active:e.activeFormIndex==n},attrs:{"data-id":n,form:t,formIndex:n},on:{delForm:e.delForm,switchForm:e.switchForm}})})),1)]),e.contents&&e.contents.length?s("el-form",{ref:"form",attrs:{id:"form-model",model:e.contents[e.activeFormIndex],"label-width":"80px"}},[e._l(e.feilds,(function(t){return s("div",{key:t.feild,staticClass:"item"},["part_of_speech"!==t.data_from&&"content_types"!==t.data_from&&"list_order"!==t.feild&&"template"!==t.type&&"templateArray"!==t.type&&"sentence_phoneticize"!==t.feild&&"options_phoneticize"!==t.feild||"template"==t.type&&e.contents[e.activeFormIndex][""+t.feild]||("JPN"==e.version.selLang||"CHI"==e.version.selLang)&&("sentence_phoneticize"==t.feild||"options_phoneticize"==t.feild)||"options"===t.feild&&"array"==t.type&&e.contents[e.activeFormIndex][t.feild]?s("el-form-item",{attrs:{"label-width":"140px",label:t.name}},["string"==t.type&&""==t.data_from||"int"==t.type||"template"==t.type?s("el-input",{attrs:{maxlength:500,"show-word-limit":"",disabled:"list_order"==t.feild||"template"==t.type},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}}):e._e(),"stringOptions"==t.type?s("el-input",{attrs:{maxlength:150,"show-word-limit":""},on:{change:function(s){return e.changeStringOptions(t.feild)}},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}}):e._e(),"string"==t.type&&t.data_from.indexOf("upload_")>-1?s("el-input",{attrs:{placeholder:"请输入内容",maxlength:150,"show-word-limit":""},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},[t.data_from.indexOf("upload_")>-1?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"upload_audio"==t.data_from?"audio/mp3":"upload_video"==t.data_from?"video/mp4":"image/webp","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击图标上传",placement:"top"}},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.upload(t,-1)}}},[s("i",{class:["icon-input",t.data_from.toLowerCase().indexOf("audio")>-1?"icon-sound":t.data_from.toLowerCase().indexOf("video")>-1?"icon-video":"icon-picture"]})])],1)],1):e._e(),"upload_audio"==t.data_from&&"motherSound"==t.feild?s("el-button",{attrs:{slot:"append"},on:{click:function(s){return e.motherSoundPlay(e.contents[e.activeFormIndex][""+t.feild])}},slot:"append"},[e._v("试听")]):e._e(),s("i",{staticClass:"el-input__icon el-icon-download",attrs:{slot:"suffix"},on:{click:function(s){return e.download(e.contents[e.activeFormIndex][""+t.feild])}},slot:"suffix"})],1):e._e(),"upload_audio"==t.data_from&&"sound"==t.feild?s("el-button",{attrs:{type:"text"},on:{click:e.toggleRecorder}},[e._v("在线录音")]):e._e(),"upload_audio"==t.data_from?s("audio-recorder",{ref:"recorder",refInFor:!0,on:{saveRecorder:e.saveRecorder}}):e._e(),"text"==t.type?s("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}}):e._e(),"textOptions"==t.type?s("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},on:{change:function(s){return e.changeTextOptions(t.feild)}},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}}):e._e(),"textRadar"==t.type?s("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},on:{change:function(s){return e.changeTextRadar(t.feild)}},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}}):e._e(),"content_tags"==t.data_from?s("el-checkbox-group",{model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},e._l(e.selfContentTags,(function(t){return s("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])})),1):e._e(),"bool"==t.type?s("el-radio-group",{model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},[s("el-radio",{attrs:{label:!0}},[e._v("是")]),s("el-radio",{attrs:{label:!1}},[e._v("否")])],1):e._e(),"self_sign"==t.feild?s("div",{staticClass:"self-sign"},e._l(e.selfSigns,(function(n,a){return s("el-tag",{key:n.type+a,attrs:{effect:e.contents[e.activeFormIndex][""+t.feild]==n.key?"dark":"plain",type:n.type},on:{click:function(t){return e.selOneSign(n)}}},[e._v(" "+e._s(n.desc)+" ")])})),1):e._e(),-1!==t.data_from.indexOf("upload_")||"string"!=t.type||"sound"!=t.feild&&"image"!=t.feild&&"cover"!=t.feild&&"video"!=t.feild?e._e():s("div",{staticClass:"form-sound"},[s("el-input",{attrs:{placeholder:"sound"==t.feild?"请上传mp3格式的音频":""},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},["sound"==t.feild?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"audio/mp3","on-change":e.uploadSoundOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击图标上传",placement:"top"}},[s("el-button",{attrs:{type:"text"}},[s("i",{class:["icon-input",t.data_from.toLowerCase().indexOf("audio")>-1?"icon-sound":t.data_from.toLowerCase().indexOf("video")>-1?"icon-video":"icon-picture"]})])],1)],1):e._e(),"video"==t.feild?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"video/mp4","on-change":e.uploadVideoOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击图标上传",placement:"top"}},[s("el-button",{attrs:{type:"text"}},[s("i",{class:["icon-input",t.data_from.toLowerCase().indexOf("audio")>-1?"icon-sound":t.data_from.toLowerCase().indexOf("video")>-1?"icon-video":"icon-picture"]})])],1)],1):e._e(),"image"==t.feild?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"image/webp","on-change":e.uploadImageOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击图标上传",placement:"top"}},[s("el-button",{attrs:{type:"text"}},[s("i",{class:["icon-input",t.data_from.toLowerCase().indexOf("audio")>-1?"icon-sound":t.data_from.toLowerCase().indexOf("video")>-1?"icon-video":"icon-picture"]})])],1)],1):e._e(),"cover"==t.feild?s("el-upload",{attrs:{action:"#",accept:"image/webp","on-change":e.uploadCoverOnchange,"show-file-list":!1,"auto-upload":!1}},[s("el-button",{attrs:{type:"text"}},[e._v("本地上传")])],1):e._e(),s("el-button",{attrs:{slot:"append"},on:{click:function(s){return e.clear(t.feild)}},slot:"append"},[e._v("清除")])],1),s("div",{staticClass:"upload-area"},["content_model_pro_sound"==e.contentModel&&"image"==t.feild?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.searchContent(t.feild)}}},[e._v("内容查找")]):e._e(),"content_model_pro_sound"==e.contentModel&&"image"==t.feild?s("el-button",{attrs:{type:"text"},on:{click:function(t){return e.searchImg("images")}}},[e._v("图库查找")]):e._e()],1),"content_model_pro_sound"==e.contentModel&&"image"==t.feild&&"images"==e.activeFeild?s("look-image",{on:{close:e.closeLook,use:e.use}}):e._e(),"content_model_pro_sound"==e.contentModel&&t.feild==e.activeFeild?s("look-content",{attrs:{contentModel:e.contentModel,activeFeild:e.activeFeild},on:{close:e.closeLook,use:e.use}}):e._e()],1),"array"==t.type&&(""==t.data_from||t.data_from.indexOf("upload_")>-1)?s("div",{staticClass:"array-string"},[e.contents[e.activeFormIndex][""+t.feild]&&e.contents[e.activeFormIndex][""+t.feild].length?s("div",{staticClass:"list"},[e._l(e.contents[e.activeFormIndex][""+t.feild],(function(n,a){return s("el-input",{key:t.feild+a,attrs:{placeholder:"请输入内容",maxlength:150,"show-word-limit":""},model:{value:e.contents[e.activeFormIndex][""+t.feild][a],callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild],a,s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]"}},[t.data_from.indexOf("upload_")>-1?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"upload_audio"==t.data_from?"audio/mp3":"image/webp","on-change":e.uploadOnchange,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.upload(t,a)}}},[e._v("上传")])],1):e._e(),s("el-button",{attrs:{slot:"append",icon:"el-icon-minus"},on:{click:function(s){return e.minus(a,t.feild)}},slot:"append"}),s("el-button",{directives:[{name:"show",rawName:"v-show",value:a==e.contents[e.activeFormIndex][""+t.feild].length-1,expression:"index == contents[activeFormIndex]['' + f.feild + ''].length - 1"}],attrs:{slot:"append",icon:"el-icon-plus"},on:{click:function(s){return e.plus("string",t)}},slot:"append"})],1)})),s("el-tag",{directives:[{name:"show",rawName:"v-show",value:"options"==t.feild&&"fillGap"==e.contents[e.activeFormIndex].type,expression:"f.feild == 'options' && contents[activeFormIndex]['type'] == 'fillGap'"}],attrs:{type:"warning"}},[e._v("注：第一个输入项为正确选项，其他为错误选项。")])],2):s("div",{staticClass:"list"},[s("el-button",{attrs:{type:"info",plain:""},on:{click:function(s){return e.plus("string",t)}}},[e._v("添加一条内容")])],1)]):e._e(),"arrayObject"==t.type?s("div",{staticClass:"array-object"},[e.contents[e.activeFormIndex][""+t.feild]&&e.contents[e.activeFormIndex][""+t.feild].length?s("div",{staticClass:"list"},e._l(e.contents[e.activeFormIndex][""+t.feild],(function(n,a){return s("div",{key:a,staticClass:"object-item"},[s("div",{staticClass:"num"},[s("el-badge",{staticClass:"item",attrs:{value:a+1,type:"primary"}})],1),t.sub_feilds&&t.sub_feilds.length>0?s("div",{staticClass:"left"},e._l(t.sub_feilds,(function(n,i){return s("div",{key:"subItem"+i,staticClass:"sub-item"},["string"==n.type||"text"==n.type?s("el-form-item",{attrs:{size:"small",label:n.name}},[n.data_from||"string"!=n.type?e._e():s("el-input",{model:{value:e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a],""+n.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['' + subItem.feild + '']"}}),n.data_from||"text"!=n.type?e._e():s("el-input",{attrs:{type:"textarea"},model:{value:e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a],""+n.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['' + subItem.feild + '']"}}),n.data_from&&n.data_from.indexOf("upload_")>-1?s("el-input",{attrs:{placeholder:"请输入内容",maxlength:150,"show-word-limit":""},model:{value:e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a],""+n.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['' + subItem.feild + '']"}},[n.data_from.indexOf("upload_")>-1?s("el-upload",{attrs:{slot:"prepend",action:"#",accept:"upload_audio"==n.data_from?"audio/mp3":"upload_video"==n.data_from?"video/mp4":"image/webp","on-change":e.uploadOnchangeSub,"show-file-list":!1,"auto-upload":!1},slot:"prepend"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.uploadSub(t,-1,a,n)}}},[e._v("上传")])],1):e._e(),"upload_audio"==n.data_from?s("el-button",{attrs:{slot:"append"},on:{click:function(s){return e.motherSoundPlay(e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild])}},slot:"append"},[e._v("试听")]):e._e()],1):e._e()],1):e._e(),"array"==n.type?s("el-form-item",{attrs:{size:"small",label:n.name}},[e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild]&&e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild].length>0?s("div",{staticClass:"sub-item-options"},e._l(e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild],(function(i,o){return s("div",{key:o,staticClass:"sub-item-option"},[s("div",{staticClass:"sub-item-input"},[s("el-input",{model:{value:e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild][o],callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild],o,s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['' + subItem.feild + ''][oi]"}})],1),s("div",{staticClass:"sub-item-operate"},[s("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(s){return e.minusSubItem(t,n,a,o)}}}),e.contents[e.activeFormIndex][""+t.feild][a][""+n.feild].length-1==o?s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(s){return e.addSubItem(t,n,a)}}}):e._e()],1)])})),0):s("div",[s("el-button",{attrs:{round:""},on:{click:function(s){return e.addSubItem(t,n,a)}}},[e._v("添加")])],1)]):e._e()],1)})),0):s("div",{staticClass:"left"},[s("div",{staticClass:"row"},[s("div",{staticClass:"text"},[e._v(e._s(t.data_from?t.data_from.split(",")[0].split("_")[0]+"：":"key："))]),s("div",{staticClass:"text-input"},[s("el-input",{attrs:{type:t.data_from&&t.data_from.split(",")[0].indexOf("_1")>-1?"textarea":"text",size:"small"},model:{value:e.contents[e.activeFormIndex][""+t.feild][a].key,callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a],"key",s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['key']"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"text"},[e._v(e._s(t.data_from?t.data_from.split(",")[1].split("_")[0]+"：":"val："))]),s("div",{staticClass:"text-input"},[s("el-input",{attrs:{type:t.data_from&&t.data_from.split(",")[1].indexOf("_1")>-1?"textarea":"text",size:"small"},model:{value:e.contents[e.activeFormIndex][""+t.feild][a].val,callback:function(s){e.$set(e.contents[e.activeFormIndex][""+t.feild][a],"val",s)},expression:"contents[activeFormIndex]['' + f.feild + ''][index]['val']"}})],1)])]),s("div",{staticClass:"right"},[s("el-button",{attrs:{size:"small",type:"info",plain:"",icon:"el-icon-minus"},on:{click:function(s){return e.minus(a,t.feild)}}}),s("el-button",{directives:[{name:"show",rawName:"v-show",value:a==e.contents[e.activeFormIndex][""+t.feild].length-1,expression:"index == contents[activeFormIndex]['' + f.feild + ''].length - 1"}],attrs:{size:"small",type:"info",plain:"",icon:"el-icon-plus"},on:{click:function(s){return e.plus("object",t)}}})],1)])})),0):s("div",{staticClass:"list"},[s("el-button",{attrs:{type:"info",plain:""},on:{click:function(s){return e.plus("object",t)}}},[e._v("添加一条"+e._s(1==e.contents[e.activeFormIndex][""+t.data_from]?"k/v的":"")+"内容")])],1)]):e._e(),t.desc?s("el-tag",{attrs:{type:"warning"}},[e._v("注："+e._s(t.desc))]):e._e(),"textRadar"==t.type?s("div",{staticClass:"text-radar-sound"},[e.contents[e.activeFormIndex].sound?s("audio",{attrs:{src:e.assetsDomain+e.contents[e.activeFormIndex].sound,controls:""}}):e._e()]):e._e()],1):e._e(),"pos"==t.feild?s("el-form-item",{attrs:{"label-width":"140px",label:"词性"}},["part_of_speech"==t.data_from?s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},e._l(e.partOfSpeech.ENG,(function(e,t){return s("el-option",{key:e.key+t,attrs:{label:e.name+"( "+e.key+" )",value:e.key}})})),1):e._e()],1):e._e(),"content_types"==t.data_from?s("el-form-item",{attrs:{"label-width":"140px",label:"题型",prop:t.feild,rules:[{required:!0,message:"请选择题型",trigger:"change"}]}},[s("el-select",{attrs:{placeholder:"请选择题型"},model:{value:e.contents[e.activeFormIndex][""+t.feild],callback:function(s){e.$set(e.contents[e.activeFormIndex],""+t.feild,s)},expression:"contents[activeFormIndex]['' + f.feild + '']"}},e._l(e.selfContentTypes,(function(e){return s("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})})),1)],1):e._e(),"templateArray"==t.type&&e.contents[e.activeFormIndex][""+t.feild]&&e.contents[e.activeFormIndex][""+t.feild].length?s("el-form-item",{attrs:{"label-width":"140px",label:t.name}},[s("div",{staticClass:"template-options"},e._l(e.contents[e.activeFormIndex][""+t.feild],(function(t,n){return s("el-tag",{key:"templateArray"+n,attrs:{type:"info",effect:"plain"}},[e._v(" "+e._s(t)+" ")])})),1)]):e._e()],1)})),s("el-form-item",{staticClass:"btn-handler"},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],2):e._e(),s("right-menu-form",{ref:"rightMenuForm",on:{paste:e.paste}})],1)}),[],!1,null,"a3ee0fd0",null);t.default=A.exports},dbff:function(e,t,s){"use strict";var n=s("fc5c");s.n(n).a},dc84:function(e,t,s){"use strict";var n=s("8cd3");s.n(n).a},dc92:function(e,t,s){"use strict";var n=s("170d");s.n(n).a},dccf:function(e,t,s){"use strict";var n=s("71ca");s.n(n).a},ddb8:function(e,t,s){"use strict";s.r(t);var n=s("c730");Object(n.a)("".concat("/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(e){}})},ddd7:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},videoUrl:function(){var e="";return this.form&&this.form.video&&(e=this.assetsDomain+this.form.video),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("c1ef"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("video",{attrs:{src:e.videoUrl,controls:""}})])])])}),[],!1,null,"20aeb894",null);t.default=r.exports},dfc1:function(e,t,s){"use strict";s.r(t);var n={data:function(){return{isShowTip:!1,coreList:[{title:"核心1"},{title:"核心2"},{title:"核心3"},{title:"核心4"},{title:"核心5"}],intensifyList:[{title:"听说"},{title:"语法"},{title:"对话"}],coreText:"",intensifyText:""}},components:{AddClassify:s("b324").default},methods:{coreCourse:function(){this.coreList.push({title:""})},blurCoreFn:function(){this.coreList.pop();var e={title:this.coreText};this.coreList.push(e)},intensify:function(){this.intensifyList.push({title:""})},blurIntensifyFn:function(){this.intensifyList.pop();var e={title:this.intensifyText};this.intensifyList.push(e)},newly:function(){this.$bus.emit("addClassifyBox")}}},a=(s("0662"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chapter-container"},[s("div",{staticClass:"chapter-header",on:{mouseleave:function(t){e.isShowTip=!1}}},[s("div",{staticClass:"add-btn"},[s("a",{staticClass:"add-course",attrs:{href:"javascript:;"},on:{mouseenter:function(t){e.isShowTip=!0}}},[e._v("+新增")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTip,expression:"isShowTip"}],staticClass:"tip-box"},[s("p",{on:{click:function(t){return e.coreCourse()}}},[e._v("核心课程")]),s("p",{on:{click:function(t){return e.intensify()}}},[e._v("强化课程")]),s("p",{on:{click:function(t){return e.newly()}}},[e._v("+新建目录")])])]),s("input",{attrs:{type:"text",placeholder:"输入内容关键字"}}),s("a",{staticClass:"search",attrs:{href:"javascript:;"}},[e._v("搜索")])]),s("div",{staticClass:"chapter-content"},[e._m(0),s("div",{staticClass:"chapter"},[s("span",{staticClass:"title"},[e._v("核心课程")]),s("ul",e._l(e.coreList,(function(t,n){return s("li",{key:"core-"+n},[s("div",{staticClass:"core-img"}),s("span",{staticClass:"text"},[e._v(e._s(t.title))]),t.title?e._e():s("input",{directives:[{name:"model",rawName:"v-model",value:e.coreText,expression:"coreText"}],attrs:{type:"text",placeholder:"点击输入"},domProps:{value:e.coreText},on:{blur:function(t){return t.preventDefault(),e.blurCoreFn()},input:function(t){t.target.composing||(e.coreText=t.target.value)}}})])})),0)]),s("div",{staticClass:"chapter"},[s("span",{staticClass:"title"},[e._v("强化课程")]),s("ul",{staticClass:"intensify"},e._l(e.intensifyList,(function(t,n){return s("li",{key:"intensify-"+n},[s("div",{staticClass:"core-img"}),s("span",{staticClass:"text"},[e._v(e._s(t.title))]),t.title?e._e():s("input",{directives:[{name:"model",rawName:"v-model",value:e.intensifyText,expression:"intensifyText"}],attrs:{type:"text",placeholder:"点击输入"},domProps:{value:e.intensifyText},on:{blur:function(t){return t.preventDefault(),e.blurIntensifyFn()},input:function(t){t.target.composing||(e.intensifyText=t.target.value)}}})])})),0)])]),s("add-classify")],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"delete"},[t("i"),t("span",[this._v("拖拽至此处删除")])])}],!1,null,"1fa256e8",null);t.default=i.exports},dfcb:function(e,t,s){},e11f:function(e,t,s){"use strict";s.r(t);var n={data:function(){return{}},components:{AsideComp:s("41de").default},mounted:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.levelHeight=e-280},methods:{}},a=(s("d790"),s("4023")),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"layout-cont"},[t("el-aside",{staticClass:"aside-cont",attrs:{width:"230px"}},[t("aside-comp")],1),t("el-container",[t("el-header",{staticClass:"header-cont"},[t("div",{staticClass:"title"},[this._v("欢迎进入全球说课程编辑系统")])]),t("el-main",{staticClass:"main-cont"},[t("router-view")],1)],1)],1)}),[],!1,null,"2deda873",null);t.default=i.exports},e1ac:function(e,t,s){"use strict";s.r(t),s("053b"),s("fe8a"),s("e18c"),s("e35a"),s("96db"),s("0d7a"),s("af86"),s("f1a9"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("cabd"),o=s("0470"),r=s("ae8c"),c={props:["langInfos","langList"],data:function(){return{showEdit:!1,form:{desc:{},flag:[],is_hot:!1,is_show:!1,lan_code:"",list_order:0,title:{},word_direction:"l2r"},imageUrl:"",fileRaw:{},type:""}},components:{},created:function(){},computed:Object(a.a)({},Object(r.e)({assetsDomain:function(e){return e.course.assetsDomain}})),mounted:function(){},methods:{show:function(e,t){if(this.showEdit=!0,this.type=e,"edit"===e&&t)this.form=t,this.imageUrl=this.assetsDomain+"/"+t.flag[0];else if("add"===e){var s={desc:{},flag:[],is_hot:!1,is_show:!1,lan_code:"",list_order:this.langList.pop().list_order+10,title:{},word_direction:"l2r"};this.form=s,this.imageUrl=""}},validatorTitle:function(e,t,s){},close:function(){this.showEdit=!1},upload:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,a,r,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.fileRaw).length){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,Object(i.getInfoToken)();case 4:return s=t.sent,n=s.data.token,a=e.fileRaw.name.split("."),r=a[0]+"_"+e.fileRaw.uid+"."+a[1],c="course/icons/"+r,t.next=11,Object(o.uploadQiniu)(e.fileRaw.raw,n,c);case 11:l=t.sent,"add"===e.type?e.form.flag.push(l.key):e.form.flag.unshift(l.key);case 14:case"end":return t.stop()}}),t)})))()},fileChange:function(e,t){this.imageUrl=URL.createObjectURL(e.raw),this.fileRaw=e,this.upload()},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleBeforeUpload:function(e){var t=this;if("image/png"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type)return this.$alert("请上传正确的图片格式","温馨提示!",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}}),!1},determine:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("edit"===e.type){var s={lang_info:{}};s.lan_code=e.form.lan_code,s.lang_info.desc=e.form.desc,s.lang_info.flag=e.form.flag,s.lang_info.is_hot=e.form.is_hot,s.lang_info.is_show=e.form.is_show,s.lang_info.list_order=e.form.list_order,s.lang_info.title=e.form.title,s.lang_info.word_direction=e.form.word_direction,Object(i.editLang)(s).then((function(t){t.success&&(e.close(),e.$emit("addNewLang"))}))}else"add"===e.type&&Object(i.addLang)(e.form).then((function(t){t.success&&(e.close(),e.$emit("addNewLang"))}))}))}}},l=(s("999d"),s("3088"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showEdit?s("div",{staticClass:"edit-container"},[s("div",{staticClass:"edit-content"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"lang-content"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"编码：",prop:"lan_code",rules:[{required:!0,message:"编码不能为空",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"只允许输入字母！"}]}},[s("el-input",{attrs:{maxlength:"20","show-word-limit":"",disabled:"edit"==e.type},model:{value:e.form.lan_code,callback:function(t){e.$set(e.form,"lan_code",t)},expression:"form.lan_code"}})],1),s("el-form-item",{staticClass:"name",attrs:{label:"名称：",required:""}},e._l(e.langInfos,(function(t){return s("el-row",{key:"title"+t.langKey},[s("el-form-item",{staticClass:"input-box",attrs:{prop:"title."+t.langKey,rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.form.title[t.langKey],callback:function(s){e.$set(e.form.title,t.langKey,s)},expression:"form.title[l.langKey]"}}),s("span",[e._v(e._s("("+t.name+")"))])],1)],1)})),1),s("el-form-item",{staticClass:"desc",attrs:{label:"描述："}},e._l(e.langInfos,(function(t){return s("div",{key:"desc"+t.langKey,staticClass:"input-box"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc[t.langKey],callback:function(s){e.$set(e.form.desc,t.langKey,s)},expression:"form.desc[l.langKey]"}}),s("span",[e._v(e._s("("+t.name+")"))])],1)})),0),s("el-form-item",{attrs:{label:"图标：",prop:"flag[0]",rules:[{required:!0,message:"图标不能为空",trigger:"change"}]}},[s("div",{staticClass:"img-box"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.imageUrl,alt:""}})]),s("el-upload",{attrs:{action:"#","http-request":e.upload,accept:"image/png,image/jpg,image/jpeg","on-change":e.fileChange,"on-success":e.handleAvatarSuccess,"before-upload":e.handleBeforeUpload,"show-file-list":!1,"auto-upload":!1}},[s("div",{attrs:{id:"upload-btn"}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)]),s("el-form-item",{staticClass:"flex-class",attrs:{label:"书写顺序："}},[s("el-radio-group",{model:{value:e.form.word_direction,callback:function(t){e.$set(e.form,"word_direction",t)},expression:"form.word_direction"}},[s("el-radio",{attrs:{label:"l2r"}},[e._v("从左到右")]),s("el-radio",{attrs:{label:"r2l"}},[e._v("从右到左")])],1)],1),s("el-form-item",{staticClass:"flex-class",attrs:{label:"是否热门："}},[s("el-radio-group",{model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[s("el-radio",{attrs:{label:!1}},[e._v("否")]),s("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),s("el-form-item",{staticClass:"flex-class",attrs:{label:"是否显示："}},[s("el-radio-group",{model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[s("el-radio",{attrs:{label:!1}},[e._v("否")]),s("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1)],1),s("div",{staticClass:"btns"},[s("a",{staticClass:"cancel",on:{click:function(t){return e.close()}}},[e._v("取消")]),s("a",{staticClass:"determine active",on:{click:function(t){return e.determine()}}},[e._v("确定")])])],1)])]):e._e()])}),[],!1,null,"a7824a2e",null);t.default=u.exports},e22c:function(e,t,s){"use strict";var n=s("a5fe");s.n(n).a},e375:function(e,t,s){},e39f:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("cabd"),a=s("7f22"),i=s.n(a),o=s("de52"),r=s.n(o),c={data:function(){return{myChart:null,date:"",interval:null,dialogVisible:!1}},methods:{show:function(e){var t=this;this.loadData(e),this.interval=setInterval((function(){t.loadData(e)}),6e4),this.dialogVisible=!0},loadData:function(e){var t=this;Object(n.onlineLiveUserCount)({course_uuid:e.uuid}).then((function(e){e.success&&t.initChartData(e.data.result)}))},initChartData:function(e){this.myChart=i.a.init(document.getElementById("main"));var t=[],s=[];e&&e.length>0&&(this.date=r()(e[0].created_on).format("YYYY/MM/DD"),e.forEach((function(e){t.push(r()(e.created_on).format("HH:mm:ss")),s.push(e.number)})));var n="时间";this.date&&(n+=" ("+this.date+")");var a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",name:n,nameLocation:"middle",nameTextStyle:{lineHeight:56},data:t},yAxis:{minInterval:1,splitNumber:5,name:"人数",type:"value"},series:[{data:s,type:"line"}]};this.myChart.setOption(a)},close:function(){clearInterval(this.interval)}}},l=s("4023"),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"在线人数实时统计",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[s("div",{staticStyle:{width:"90%",height:"400px"},attrs:{id:"main"}})])}),[],!1,null,"7b08536e",null);t.default=u.exports},e43e:function(e,t,s){"use strict";s.r(t);var n=s("4023"),a=Object(n.a)({name:"SuperAdmin"},(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null);t.default=a.exports},e4b0:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("fe59"),s("ecb4"),s("2eeb"),s("08ba");var n=s("391c"),a=s.n(n),i=s("21d1"),o=s("4186"),r=s("05e7"),c=s("b5dc"),l=s("442d"),u={data:function(){return{contentModel:"",view:"swiper",showPreview:!1,slideForms:[]}},created:function(){var e=this;this.$bus.on("showPreviewModel",(function(t){e.slideForms=t.contents,e.contentModel=t.contentModel,e.changeView(t.contents)}))},mounted:function(){},components:{swiper:i.default,choice:o.default,imgAuto:r.default,modelVideo:c.default,gradeTest:l.default},computed:{},methods:{hideModel:function(){this.$refs[this.view].$emit("reset"),this.showPreview=!1},showModel:function(){this.showPreview=!0},changeView:function(e){var t=this,s=this;if("content_model_video"===this.contentModel)return this.view="modelVideo",this.showPreview=!0,setTimeout((function(){s.$refs[t.view].$emit("init")}),200),!1;if("content_model_level_grade"===this.contentModel)return this.view="gradeTest",this.showPreview=!0,setTimeout((function(){s.$refs[t.view].$emit("init")}),200),!1;var n=this.getFormsTypes(this.slideForms);if(0===n.length)return!1;if(1===n.length&&(n.indexOf("sentencetoimg")>-1||n.indexOf("countdown")>-1))this.view="choice";else if(1===n.length&&n.indexOf("speaktoimg")>-1)this.view="imgAuto";else{var i=[];n.indexOf("sentencetoimg")>-1?((i=s.slideForms.filter((function(e){return!("sentenceToImg"===e.type)}))).push({type:"sentenceToImgBox",data:a.a.groupBy(this.slideForms,"type").sentenceToImg}),s.slideForms=[],s.slideForms=i):n.indexOf("imgtosentencew")>-1?s.slideForms.forEach((function(e){e.type="imgToSentence",i.push(e)})):(i=s.slideForms.filter((function(e){return e.type&&"countDown"!==e.type})),s.slideForms=i),this.view="swiper"}this.showPreview=!0,setTimeout((function(){s.$refs[t.view].$emit("init")}),200)},getFormsTypes:function(e){var t=[];return a.a.map(e,(function(e){if(a.a.isArray(e)){if(!e[0].type)return!1;t.push(e[0].type.toLowerCase())}else{if(!e.type)return!1;t.push(e.type.toLowerCase())}})),a.a.uniq(t)}},beforeDestroy:function(){this.$bus.off("showPreviewModel")}},d=(s("8d5f"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.showPreview?s("div",{staticClass:"preview",on:{click:e.hideModel}},[s("div",{staticClass:"preview-container",attrs:{id:"preview-container"},on:{click:function(t){return t.stopPropagation(),e.showModel(t)}}},[s("div",{staticClass:"preview-content"},[s("div",{staticClass:"preview-warp"},[s(e.view,{ref:e.view,tag:"component",attrs:{slideForms:e.slideForms}})],1)])])]):e._e()])}),[],!1,null,null,null);t.default=f.exports},e4c4:function(e,t,s){},e529:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAMAAAANxBKoAAAAllBMVEVHcEwAev8Aef8AiP8Af/8Af/8Ai/8Aev8Af/8Ae/8Aev8Ahv8AfP8Aev8Aff8Aev8Ae/8Aef8Aev8Aev8Ae/8Ae/8Aev8Aev8Aev8Aef8AfP8Ae/8Aev8Aev8Aev8Ae/8Aev8Ae/8AfP8Aev8AeP8Ae/8Aev8Ae/8AfP8AfP8AfP8AfP8AfP8Af/8Af/8Aev8Aev8Aev95fil4AAAAMXRSTlMA+tIPJB4LZgT88hNU3jvq5smxu0KMMMX2lXHuR6miXTZ0K3lKgNjNTlpvg0wmGtmFZolpEgAAAaBJREFUSMedldd2owAMBccdXHH32k7WLXHalvn/n9sHcIkBG1ZPHJijI66kK7gbk8F8R+EYamUbFKU/VUfNgnTwN1TnnaLZNz21WiuKd4bqOLf2XzdfmmP1Rw7c8j1+eJsnajSr6lsm/FNbMRPqsQ5AI9Ioq/RueKKDnrrqA3DIruWr4olm11MXMf6slUaq0RUvNLWROqgDdNrp5P2F1zS8qMMAYKqL7z3atL2heVK3AL8r397DbOWZ7k7jKpuvuqoBjHR83ZSBZ7of2o4zzdR9omxYo57EJvJCr1WXAIz1FaAW6hrT0Yp/L1wDdNUZQFX3OTSTtlYBgkg/Esmf8mi66iSR5RlgqcdcmqpOAfY6TH6zl09PdZRQfwC+dJVPf+gxKSkCmGj4OHerUO5SdZfSpH/We/BY75cwu5eNJGa9InNyjnqUN4PbywxeYjfIme9mxnzDLHt3lpm7EwuR2st5zl7CZHFNd+7vPBxSfrLJ95OUVw3uehW8hycfrOjwgQ9eeexhvnzosVAv498lb8P/353gs8xNK3cvy93imzv/D2ukeelSwMtaAAAAAElFTkSuQmCC"},e57e:function(e,t,s){},e60b:function(e,t,s){},e60c:function(e,t,s){"use strict";var n=s("0d7f");s.n(n).a},e699:function(e,t,s){"use strict";s.r(t);var n={name:"MenuItem",props:{routerInfo:{default:function(){return null},type:Object}}},a=s("4023"),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-menu-item",{attrs:{index:this.routerInfo.name}},[t("i",{class:"el-icon-"+this.routerInfo.meta.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[this._v(this._s(this.routerInfo.meta.title))])])}),[],!1,null,null,null);t.default=i.exports},e759:function(e,t,s){"use strict";s.r(t),s.d(t,"course",(function(){return r})),s("dbb3"),s("4194"),s("b449");var n=s("ae9a"),a=s("cabd"),i=s("de52"),o=s.n(i),r={namespaced:!0,state:{formTypes:{autoSpeak:"自动读",repeatSpeak:"跟读",sentenceToImg:"听句子选图片"},partOfSpeech:{ENG:[{key:"n.",name:"名词"},{key:"v.",name:"动词"},{key:"vt.",name:"及物动词"},{key:"vi.",name:"不及物动词"},{key:"pron.",name:"代词"},{key:"adj.",name:"形容词"},{key:"adv.",name:"副词"},{key:"num.",name:"数词"},{key:"art.",name:"冠词"},{key:"prep.",name:"介词"},{key:"conj.",name:"连词"},{key:"interj.",name:"感叹词"},{key:"det.",name:"限定词"}]},courseOperateLogs:[{key:11,name:"内容新建"},{key:12,name:"内容编辑"},{key:13,name:"内容删除"},{key:14,name:"内容回滚"},{key:20,name:"目录新建"},{key:21,name:"目录编辑"},{key:22,name:"目录删除"},{key:23,name:"目录移动"},{key:24,name:"目录重命名"},{key:25,name:"目录回滚"}],locale:"zh-CN",assetsDomain:"",uploadfileDomain:"",langInfos:[],langList:[],selLangState:"",courseTypes:[],version:{selLang:"",selCourseType:"",selCourse:null,selVersion:"",courseList:[],versions:[],uuid:"",copyForm:""},modelList:[],contentTypes:[],contentTags:[],contentTypeList:[],onlineList:[],tagTypes:[],livePrices:[{value:0,text:"¥ 0"},{value:1,text:"¥ 1"},{value:3,text:"¥ 3"},{value:6,text:"¥ 6"},{value:8,text:"¥ 8"},{value:12,text:"¥ 12"},{value:18,text:"¥ 18"},{value:25,text:"¥ 25"},{value:28,text:"¥ 28"},{value:30,text:"¥ 30"},{value:40,text:"¥ 40"},{value:45,text:"¥ 45"},{value:50,text:"¥ 50"},{value:60,text:"¥ 60"},{value:68,text:"¥ 68"},{value:73,text:"¥ 73"},{value:78,text:"¥ 78"},{value:88,text:"¥ 88"},{value:93,text:"¥ 93"},{value:98,text:"¥ 98"},{value:108,text:"¥ 108"},{value:168,text:"¥ 168"},{value:198,text:"¥ 198"},{value:328,text:"¥ 328"},{value:588,text:"¥ 588"},{value:998,text:"¥ 998"},{value:1398,text:"¥ 1398"},{value:1698,text:"¥ 1698"},{value:1998,text:"¥ 1998"},{value:2298,text:"¥ 2298"},{value:3298,text:"¥ 3298"},{value:6498,text:"¥ 6498"}],majia:[],selfSigns:[{key:"",type:"info",desc:"重置"},{key:"0",type:"danger",desc:"红色（改动过还不确定准确度）"},{key:"1",type:"warning",desc:"黄色（修改完毕）"},{key:"2",type:"success",desc:"绿色（审核完毕确认没问题）"}],dictTags:[]},mutations:{updateConfigInfo:function(e,t){e.langInfos=t.langInfos,e.assetsDomain=t.assetsDomain+"/",e.uploadfileDomain=t.uploadfileDomain+"/"},updateLangList:function(e,t){e.langList=t},updateVersion:function(e,t){var s=t.key,n=t.val;e.version[s]=n},updateCourseTypes:function(e,t){e.courseTypes=t},updataModelList:function(e,t){e.modelList=t.reverse()},updateContentTypes:function(e,t){e.contentTypes=t},updateContentTags:function(e,t){e.contentTags=t.reverse()},updateContentTypeList:function(e,t){e.contentTypeList=t},updateOnlineList:function(e,t){e.onlineList=t},updateTagsTypes:function(e,t){e.tagTypes=t},updateMajia:function(e,t){e.majia=t},updateDictTags:function(e,t){e.dictTags=t}},actions:{getConfigInfo:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getConfigInfo)(t);case 3:(i=s.sent).success&&n("updateConfigInfo",i.data);case 5:case"end":return s.stop()}}),s)})))()},getLangList:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.state,i=e.commit,s.next=3,Object(a.getLangList)(t);case 3:(o=s.sent).success&&(i("updateLangList",o.data.langs),n.version.selLang||i("updateVersion",{key:"selLang",val:o.data.langs[0].lan_code}));case 5:case"end":return s.stop()}}),s)})))()},getCourseTypes:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state,n=e.commit,t.next=3,Object(a.getCourseTypes)();case 3:(i=t.sent).success&&(n("updateCourseTypes",i.data.types),s.version.selCourseType||n("updateVersion",{key:"selCourseType",val:i.data.types[0].type}));case 5:case"end":return t.stop()}}),t)})))()},getCourseList:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o,r,c,l,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.state,i=e.dispatch,o=e.commit,s.next=3,Object(a.getCourseList)(t);case 3:(r=s.sent).success&&((c=r.data.courses)?(o("updateVersion",{key:"courseList",val:c}),(l=c.find((function(e){return n.version.selCourse&&e.uuid===n.version.selCourse.uuid})))||(l=c[0]),o("updateVersion",{key:"selCourse",val:l}),l?(u=l.uuid,i("getCourseVersions",{pageNo:0,pageSize:0,parent_uuid:u})):(o("updateVersion",{key:"uuid",val:""}),o("updateVersion",{key:"versions",val:[]}))):(o("updateVersion",{key:"selCourse",val:{}}),o("updateVersion",{key:"courseList",val:[]}),o("updateVersion",{key:"selVersion",val:""}),o("updateVersion",{key:"uuid",val:""}),o("updateVersion",{key:"versions",val:[]})));case 5:case"end":return s.stop()}}),s)})))()},getCourseVersions:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getCourseVersionList)(t);case 3:(i=s.sent).success&&i.data.contents?(o=i.data.contents.sort((function(e,t){return t.update_time-e.update_time})),n("updateVersion",{key:"versions",val:o})):n("updateVersion",{key:"versions",val:[]});case 5:case"end":return s.stop()}}),s)})))()},getModelList:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getModelList)(t);case 3:(i=s.sent).success&&(o=i.data.models,n("updataModelList",o));case 5:case"end":return s.stop()}}),s)})))()},getContentTypes:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.commit,t.next=3,Object(a.getContentTypes)();case 3:(n=t.sent).success&&(i=n.data.showTypes,s("updateContentTypes",i));case 5:case"end":return t.stop()}}),t)})))()},getContentTags:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getContentTags)(t);case 3:(i=s.sent).success&&(o=i.data.tags,n("updateContentTags",o));case 5:case"end":return s.stop()}}),s)})))()},getContentTypeList:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getContentTypeList)(t);case 3:(i=s.sent).success&&(o=i.data.types,n("updateContentTypeList",o));case 5:case"end":return s.stop()}}),s)})))()},getOnlineList:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getOnlineList)(t);case 3:(i=s.sent).success&&i.data.jobs&&(r=i.data.jobs.filter((function(e){return e.time=o()(1e3*e.created_time).format("YYYY/MM/DD"),"string"!==e.online_type})),n("updateOnlineList",r));case 5:case"end":return s.stop()}}),s)})))()},getTagTypes:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.tagTypes)(t);case 3:(i=s.sent).success&&(o=i.data.types,n("updateTagsTypes",o));case 5:case"end":return s.stop()}}),s)})))()},getMajia:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.getMajiaUsers)(t);case 3:(i=s.sent).success&&n("updateMajia",i.data.userInfos);case 5:case"end":return s.stop()}}),s)})))()},getDictTags:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function s(){var n,i;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.commit,s.next=3,Object(a.GetDictTags)(t);case 3:(i=s.sent).success&&n("updateDictTags",i.data);case 5:case"end":return s.stop()}}),s)})))()}},getters:{}}},e785:function(e,t,s){"use strict";var n=s("2ad7");s.n(n).a},e898:function(e,t,s){"use strict";var n=s("f9eb");s.n(n).a},e8a1:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("e35a"),s("9cf3");var n=s("0eaa"),a=s("ae8c"),i=s("cabd"),o=s("1dd7"),r=s("8e4f"),c=s("14ea"),l=s("37af"),u={data:function(){return{searchKey:"",tags:[],activeTag:"",pictures:[],showPicData:[],page:1,pageSize:12,isExpand:!1,token:"",searchType:0}},components:{EditTags:o.default,EditPicture:c.default,PhotoItem:r.default,Upload:l.default},mounted:function(){var e=this;document.getElementById("photo-gallery").addEventListener("scroll",(function(t){e.scroll(t)})),this.loadTags(),Object(i.getInfoToken)().then((function(t){e.token=t.data.token}))},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{rotate180:function(){return this.isExpand?"rotate(180deg)":"rotate(0)"}}),methods:{changeSearchKey:function(){this.page=1,this.pictures=[],this.search()},loadTags:function(){var e=this;Object(i.imagesTags)().then((function(t){t.success&&t.data.tags&&t.data.tags.length>0&&(e.tags=t.data.tags)}))},search:function(){var e=this,t={page:this.page,pageSize:this.pageSize,tagKey:this.activeTag,words:this.searchKey,searchType:this.searchType?1:0};Object(i.searchImages)(t).then((function(t){t.data.images&&t.data.images.length>0?e.pictures=e.pictures.concat(t.data.images):e.page=-1}))},selOneTag:function(e){this.activeTag=e.TagKey,this.page=1,this.pictures=[],this.search()},showEditTags:function(){this.$refs.editTags.show()},toggleExpand:function(){},showEditPicture:function(e){var t=this.assetsDomain+e.image_url;this.$refs.editPicture.show({picture:e,src:t,tags:this.tags})},loadData:function(){this.loadTags(),this.pictures=[],this.page=1,this.search()},upload:function(){this.$refs.upload.show({tags:this.tags,token:this.token})},scroll:function(e){var t=e.target.scrollHeight;e.target.offsetHeight+e.target.scrollTop+10>t&&-1!==this.page&&(this.page++,this.search())},reset:function(){this.activeTag="",this.pictures=[],this.search()},download:function(){if(!this.activeTag)return this.$message({type:"warning",message:"请先选择要下载的图片分类"}),!1;window.location.href="/editor/image/download?tagKey="+this.activeTag}}},d=(s("b293"),s("4023")),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"photo-gallery"}},[s("el-row",[s("el-col",{attrs:{span:14}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入要查找的内容"},on:{change:e.changeSearchKey},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("el-switch",{attrs:{slot:"append","active-text":"精确搜索","inactive-text":"模糊搜索"},on:{change:e.changeSearchKey},slot:"append",model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}})],1)],1),s("el-col",{attrs:{span:6,offset:4}},[s("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),s("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[e._v("上传")]),s("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("下载")])],1)],1),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"tags"},[s("span",[e._v("分类：")]),s("ul",{class:{expand:e.isExpand}},[e._l(e.tags,(function(t){return s("li",{key:t.TagKey},[s("a",{class:{active:e.activeTag==t.TagKey},attrs:{href:"javascript:;"},on:{click:function(s){return e.selOneTag(t)}}},[e._v(e._s(t.TagKey))])])})),s("li",[s("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.showEditTags()}}})],1)],2),s("a",{directives:[{name:"show",rawName:"v-show",value:e.tags.length>=8,expression:"tags.length >= 8"}],attrs:{href:"javascript:;"},on:{click:function(t){return e.toggleExpand()}}},[s("i",{style:{transform:e.rotate180}})])])])],1),s("el-divider"),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"picture-container"},[s("div",{staticClass:"picture-wrap"},[s("div",{staticClass:"picture-list"},e._l(e.pictures,(function(t,n){return s("photo-item",{key:t._id+n,attrs:{picture:t,domain:e.assetsDomain},on:{loadData:e.loadData,showEditPicture:e.showEditPicture}})})),1)])])])],1),s("edit-tags",{ref:"editTags",on:{loadTags:e.loadTags}}),s("edit-picture",{ref:"editPicture",on:{closeEditImage:e.loadData}}),s("upload",{ref:"upload",on:{closeLoad:e.loadData}})],1)}),[],!1,null,"3cd8827b",null);t.default=f.exports},e8b0:function(e,t,s){"use strict";s.r(t);var n=s("4023"),a=Object(n.a)({name:"Dict",mounted:function(){this.$store.dispatch("course/getDictTags")}},(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null);t.default=a.exports},e8cc:function(e,t,s){"use strict";s.r(t),s("4194"),s("053b");var n=s("0eaa"),a=s("ae8c"),i={props:["form","formIndex"],data:function(){return{myAudio:new Audio}},components:{},computed:Object(n.a)(Object(n.a)({},Object(a.e)({contentTypes:function(e){return e.course.contentTypes},selfSigns:function(e){return e.course.selfSigns},assetsDomain:function(e){return e.course.assetsDomain}})),{},{typeName:function(){var e=this,t=this.contentTypes.find((function(t){return t.type===e.form.type})),s="";return t&&(s=t.name),s},tagType:function(){var e=this,t=this.selfSigns.find((function(t){return t.key===e.form.self_sign})),s="";return t&&(s=t.type),s},imgUrl:function(){var e="";return this.form&&this.form.image&&(e=this.assetsDomain+this.form.image),e}}),methods:Object(n.a)(Object(n.a)({},Object(a.d)({updateVersion:"course/updateVersion"})),{},{switchForm:function(){this.$emit("switchForm",{content:this.form,formIndex:this.formIndex})},play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}},delForm:function(){this.$emit("delForm",{form:this.form,formIndex:this.formIndex})},copyForm:function(){var e=this.form,t=JSON.stringify(e);this.updateVersion({key:"copyForm",val:t}),this.$message({type:"success",message:"复制成功",showClose:!0})}})},o=(s("172f"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-container",on:{click:e.switchForm}},[s("div",{staticClass:"form-type"},[s("el-tag",{attrs:{size:"small",effect:e.form.self_sign?"dark":"light",type:e.tagType}},[e._v(e._s(e.typeName))]),s("div",{staticClass:"icons"},[s("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"top"}},[s("i",{staticClass:"el-icon-document-copy",on:{click:e.copyForm}})]),s("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"el-icon-delete",on:{click:e.delForm}})])],1)],1),s("div",{staticClass:"form"},[s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.form.text?e.form.text.replace(/\[(.*?)\]/g,"______"):"")+" ")])])])])}),[],!1,null,"41b4001e",null);t.default=r.exports},e9da:function(e,t,s){"use strict";var n=s("88ef");s.n(n).a},ea14:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("3677"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("i",{on:{click:function(t){return e.play(e.form.sentence_audio)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.form.sentence_show,expression:"form.sentence_show"}]},[e._v(e._s(e.form.sentence))])])]),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"options"},[t("i",{staticClass:"icon-follow-read"})])}],!1,null,"1ea919c2",null);t.default=r.exports},ea1d:function(e,t,s){},ea69d:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("ecb4"),s("ea69"),s("e35a"),s("9cf3"),s("b449");var n=s("ae9a"),a=s("1c0a"),i=s("cabd"),o={props:["contentModel"],data:function(){return{words:"",searchResult:[],searchHistory:[],searchType:0}},components:{LookContentItem:a.default},created:function(){var e=this;this.$bus.on("closeContent",(function(){e.close()}))},methods:{search:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.words){t.next=2;break}return t.abrupt("return",!1);case 2:return s=[],localStorage.getItem("searchCourseImgsHistory")&&(s=JSON.parse(localStorage.getItem("searchCourseImgsHistory"))),s.length>9?(s.splice(0,1),s.push({value:e.words})):s.push({value:e.words}),localStorage.setItem("searchCourseImgsHistory",JSON.stringify(s)),t.next=8,Object(i.searchContent)({content_model:e.contentModel,words:e.words,searchType:e.searchType?1:0});case 8:n=t.sent,e.searchResult=n.data.contents;case 12:case"end":return t.stop()}}),t)})))()},use:function(e){this.$emit("use",e)},close:function(){this.words="",this.searchResult=[],this.$emit("close")},reset:function(){this.words="",this.searchResult=[]},querySearch:function(e,t){this.searchHistory=[],localStorage.getItem("searchCourseImgsHistory")&&(this.searchHistory=JSON.parse(localStorage.getItem("searchCourseImgsHistory")));var s=e?this.searchHistory.filter(this.createFilter(e)):this.searchHistory;t(s=s.reverse())},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.search()}}},r=(s("0a3c"),s("4023")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"look-content-container"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.words,expression:"words"}],attrs:{type:"text",clearable:"",placeholder:"请输入..."},domProps:{value:e.words},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},input:function(t){t.target.composing||(e.words=t.target.value)}}}),s("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{change:e.search,select:e.handleSelect},model:{value:e.words,callback:function(t){e.words=t},expression:"words"}}),s("el-switch",{attrs:{"active-text":"精确搜索","inactive-text":"模糊搜索"},on:{change:e.search},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}}),s("i",{staticClass:"el-icon-close",on:{click:e.close}})],1),s("div",{staticClass:"result"},[e.searchResult?s("div",{staticClass:"list"},e._l(e.searchResult,(function(t,n){return s("look-content-item",{key:n,attrs:{item:t},on:{use:e.use,closeUse:e.close}})})),1):s("span",[e._v("没有找到相关项，请重新输入！")])])])}),[],!1,null,"ecbfd9f0",null);t.default=c.exports},ea98:function(e,t,s){"use strict";var n=s("2cfc");s.n(n).a},eab0:function(e,t,s){},eaf0:function(e,t,s){},ec38:function(e,t,s){"use strict";var n=s("ea1d");s.n(n).a},ec59:function(e,t,s){"use strict";var n=s("2927");s.n(n).a},ec63:function(e,t,s){},ec67:function(e,t,s){"use strict";var n=s("9444");s.n(n).a},ecbf:function(e,t,s){"use strict";var n=s("75cd");s.n(n).a},ed16:function(e,t,s){"use strict";var n=s("8fc3");s.n(n).a},ed1a:function(e,t,s){},ed23:function(e,t,s){"use strict";var n=s("b3b7");s.n(n).a},ed65:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("513c");var n=s("7873"),a={props:{refId:{type:String},eventName:{type:String},percentage:{type:Number,default:0},rowDirection:{type:Boolean,default:!0}},methods:{onMouseDown:function(e){var t=Object(n.calculateLineHeadPosition)(e,this.$refs[this.refId]);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp:function(e){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var t=Object(n.calculateLineHeadPosition)(e,this.$refs[this.refId]);this.$emit("change-linehead",t)},onMouseMove:function(e){var t=Object(n.calculateLineHeadPosition)(e,this.$refs[this.refId]);this.$emit("change-linehead",t)}},computed:{calculateSize:function(){var e=this.percentage<1?100*this.percentage:this.percentage;return"".concat(this.rowDirection?"width":"height",": ").concat(e,"%")}}},i=(s("3ef4"),s("4023")),o=Object(i.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:this.refId,staticClass:"ar-line-control",on:{mousedown:this.onMouseDown}},[t("div",{staticClass:"ar-line-control__head",style:this.calculateSize})])}),[],!1,null,null,null);t.default=o.exports},edbd:function(e,t,s){},edd06:function(e,t,s){"use strict";var n=s("5296");s.n(n).a},ee1b:function(e,t,s){"use strict";var n=s("dfcb");s.n(n).a},efe3:function(e,t,s){"use strict";var n=s("2ae6");s.n(n).a},f016:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{audio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,a.sound=e.form.sound[n],t.push(a)})),t}}),methods:{play:function(e){var t=this;this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play()}}}},o=(s("7e01"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{staticClass:"wrap"},[s("span",[e._v(e._s(e.form.sentence))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.words_choice.length,expression:"form.words_choice.length"}],staticClass:"options"},e._l(e.form.words_choice,(function(t,n){return s("div",{key:n,staticClass:"option"},[e._v(" "+e._s(t)+" ")])})),0)])}),[],!1,null,"dca19da0",null);t.default=r.exports},f01b:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("ae8c"),i={props:["form"],data:function(){return{myAudio:new Audio}},computed:Object(n.a)(Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),{},{correct:function(){return{sentence:this.form.sentence[0],sound:this.form.sound[0],image:this.form.image[0],option:this.form.options[0]}},options:function(){var e=this,t=[];return this.form.image&&this.form.image.length&&this.form.sound&&this.form.sound.length&&this.form.image.forEach((function(s,n){var a={};a.image=s,e.form.sound[n]&&(a.sound=e.form.sound[n]),e.form.sentence[n]&&(a.sentence=e.form.sentence[n]),t.push(a)})),t}}),methods:{play:function(e){var t=this;this.myAudio.src=this.assetsDomain+e.sound,this.myAudio.oncanplay=function(){t.myAudio.play()}}}},o=(s("d42b"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("div",{staticClass:"correct-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.correct,expression:"correct"}],staticClass:"wrap",on:{click:function(t){return e.play(e.correct)}}},[s("el-image",{attrs:{lazy:"",src:e._f("urlFix")(e.assetsDomain+e.correct.image,"imageView2/1/format/jpg"),fit:"cover"}})],1)]),s("div",{staticClass:"options"},e._l(e.options,(function(t,n){return s("div",{key:e.form.type+n,staticClass:"option"},[s("i",{on:{click:function(s){return e.play(t)}}}),s("span",[e._v(e._s(t.sentence))])])})),0)])}),[],!1,null,"cafc1012",null);t.default=r.exports},f132:function(e,t,s){"use strict";var n=s("455c");s.n(n).a},f1f2:function(e,t,s){},f248:function(e,t,s){"use strict";var n=s("8717");s.n(n).a},f2f1:function(e,t,s){"use strict";s.r(t);var n=s("0eaa"),a=s("ae8c"),i={props:["item"],data:function(){return{isShow:!1}},computed:Object(n.a)({},Object(a.e)({assetsDomain:function(e){return e.course.assetsDomain}})),methods:{useImg:function(){this.$emit("useImg",this.item.image_url)}}},o=(s("c3fa"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item",on:{mouseleave:function(t){e.isShow=!1},mouseenter:function(t){e.isShow=!0}}},[s("el-image",{staticClass:"form-img",attrs:{src:e._f("urlFix")(e.assetsDomain+e.item.image_url,"imageView2/1/format/jpg"),fit:"cover"}}),s("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.item.desc.replace(new RegExp(/\./,"g"),".<br/>").replace(new RegExp(/\?/,"g"),"?<br/>"))}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"handler"},[s("span",{on:{click:e.useImg}},[e._v("使用图片")])])],1)}),[],!1,null,"1eb231da",null);t.default=r.exports},f33f:function(e,t,s){"use strict";s.r(t),s("b4fb"),s("4194"),s("fe59"),s("fe8a"),s("e35a"),s("0d7a"),s("08ba");var n=s("c52d"),a=s("0eaa"),i=s("2480"),o=s("ae8c"),r=s("cabd"),c={data:function(){return{isShow:!1,sortable:{},groupChannels:[],sortContents:{}}},computed:Object(a.a)({},Object(o.e)({locale:function(e){return e.course.locale}})),methods:{show:function(e){var t=this;this.sortContents={};for(var s={},n=[],a=0;a<e.length;a++){var i=e[a];if(s[i.showPos])for(var o=0;o<n.length;o++){var r=n[o];if(r.showPos===i.showPos){r.data.push(i);break}}else n.push({showPos:i.showPos,data:[i]}),s[i.showPos]=i}this.groupChannels=[],n.length&&n.forEach((function(e){var s=e;s.data=s.data.sort((function(e,t){return e.listOrder-t.listOrder})),t.groupChannels.push(s),setTimeout((function(){t.sortContents[s.showPos]=[],t.resetSortable(s.showPos)}),100)})),this.isShow=!0},close:function(){this.isShow=!1,this.$emit("refresh")},resetSortable:function(e){var t=this,s=document.getElementById("sort-channel-"+e);this.sortable[e]=new i.a(s,{animation:0,onEnd:function(e){var s=e.to.id.split("-").pop();t.sortContents[s]=[];var n=t.groupChannels.find((function(e){return e.showPos===s})).data;t.sortable[s].toArray().forEach((function(e,a){var i=n[parseInt(e)];t.sortContents[s].push({uuid:i.uuid,listOrder:a+1})}))}})},save:function(){var e=this,t=[];Object.keys(this.sortContents).forEach((function(s){t=[].concat(Object(n.a)(t),Object(n.a)(e.sortContents[""+s]))})),Object(r.sortDisChannel)(t).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.close())}))}}},l=(s("bf54"),s("4023")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"channel-sort-container"},[s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},e._l(e.groupChannels,(function(t){return s("div",{key:t.showPos,staticClass:"item"},[s("el-divider",[e._v(e._s("index"==t.showPos?"发现首页排序":"列表页排序"))]),s("div",{staticClass:"sort-container",attrs:{id:"sort-channel-"+t.showPos}},e._l(t.data,(function(t,n){return s("el-tag",{key:t.uuid,attrs:{"data-id":n}},[e._v(e._s(t.title[""+e.locale]))])})),1)],1)})),0),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])])])}),[],!1,null,"5d88652f",null);t.default=u.exports},f4a4:function(e,t,s){},f59b:function(e,t,s){"use strict";var n=s("56b6");s.n(n).a},f5c6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABZVBMVEVHcEwSldsRltskkdoPlNkOm+IQldoPk9sRldoRldkRldsSl9kRldsRltwSltsMkdoRltwSlNkSl9oPk9sOkdoRltsSlNsSlNoSldsSl9wSkdoRltsRltsRldsRltsQlt0Sk9kRltsRltsSldsAmcwUk9sSltsPj98VlN8Ql9oSltoQltsZmcwRldsRltoTktgRldsRltoRldsRltoQldocjeIPltIRlNsSldsRldoSmtoSltsUltwSl9oUk90RldoRlNwRl9sSltoRltsUl9wSltwRk9sWm90Af/8RltsRltsSldsSltsRltsRltoSltsAmf8RmNsPn98RldsTmNwSltsSlNkSltsSltoRltsRltoQltkTltsSltsQltoSlNkRltkRltsRltwSltoSldwSldoSltsRldsUmeASldoRltoAkdoRl9wSltoPl9cRltsRldoSltkSltsSldsRldsRldsSltuvMgVkAAAAdnRSTlMApPEHMBJqQL+A3Bs6SbIVZjcqMiOtbGLfUQ7zn4/lTFFH+G0FMuwQGFvRTgrH2yi62fJ4XAkRc5ZoHFUzcSaiWZHGjiVfORcC9Minw2TnwQU5EIc0z2Du4srMPV3RTGx1nFjUYad6rBmm9gd2jSC8lHyVedjqaPXsxgAAAYlJREFUSMftldVzAjEQhwMcViileKFA3d2duru7u+v+/c1mJsBJyPDCE/tyX3Z+33DkbnOEFKtgdXrjyCe++AYAY1mNppGc+foPmgd7pnEFML0tzocbQC284PJJFLdMAWgESw+uf4zz5RugE4iTNVqN8l4zGAjEhA3VvgXsrIYADAXrMnZs6bXLA/piQm9iphOvpdgpKeNCEAQC5toH0jc1zAWzSLAhPLDNQFrhAogEH6MkZo4orEsFUonkQfpGUqTCewTRR6kC4VwqkEtEJwUFoU8uVHPBhXAhF6Jc2ET4kgsTXGhEGJQLk1yYRQjLBbavJxTcCFVSYR/pFymU/UIKBWuE3xG5o/AsfdLNCIlHzBxSCnJhTySwx3uLkVqkcS6MxgRC4AyW7tkEddBOjT89QW6Tg1VMt0v+/sxU7+hHemvVeERD6oHLqrZPI+Ea1COtqrUDvXCM65ToJNt1aAU7LluiwqOyLq79hW66nM91Gs/9af70a1zJfd4rXQAL+X1RvMniV7Wg9Q8eSj0p1+cujAAAAABJRU5ErkJggg=="},f5ef:function(e,t,s){"use strict";s.r(t),s("b4fb"),t.default=function(e){var t=new e({methods:{emit:function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];this.$emit.apply(this,[e].concat(s))},on:function(e,t){this.$on(e,t)},off:function(e,t){this.$off(e,t)}}});e.prototype.$bus=t}},f733:function(e,t,s){"use strict";var n=s("e60b");s.n(n).a},f798:function(e,t,s){"use strict";s.r(t);var n=(s("3e3d"),s("4023")),a=Object(n.a)({data:function(){return{isShow:!1,left:0,top:0}},methods:{show:function(e){this.left=e.x-30,this.top=e.y,this.isShow=!0},hide:function(){this.isShow=!1},paste:function(){this.$emit("paste")}}},(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"right-menu-container",style:{left:this.left+"px",top:this.top+"px"}},[t("div",{staticClass:"menu"},[t("div",{staticClass:"menu-group"},[t("div",{staticClass:"menu-item"},[t("div",{staticClass:"name",on:{click:this.paste}},[this._v("粘贴")])])])])])])}),[],!1,null,"504ac24b",null);t.default=a.exports},f7a8:function(e,t,s){"use strict";var n=s("8ea4");s.n(n).a},f7fc:function(e,t,s){},f818:function(e,t,s){"use strict";var n=s("bf00");s.n(n).a},f8f1:function(e,t,s){},f9eb:function(e,t,s){},fad2:function(e,t,s){"use strict";s.r(t),s("fe59"),s("08ba");var n=s("0eaa"),a=s("2480"),i=s("ae8c"),o=s("cabd"),r={data:function(){return{isShow:!1,sortable:{},allWords:[],sortContents:[]}},computed:Object(n.a)({},Object(i.e)({locale:function(e){return e.course.locale}})),methods:{show:function(e){var t=this;this.sortContents=[],this.allWords=e.allWords,this.allWords.length&&setTimeout((function(){t.resetSortable()}),100),this.isShow=!0},close:function(){this.isShow=!1,this.$emit("refresh")},resetSortable:function(){var e=this,t=document.getElementById("sort-words");this.sortable=new a.a(t,{animation:0,onEnd:function(t){e.sortContents=[],t.to.id;var s=e.allWords,n=e.sortable.toArray(),a=parseInt((new Date).getTime()/1e3);n.forEach((function(t,n){var i=s[parseInt(t)];e.sortContents.push({uuid:i.uuid,word:i.word,listOrder:a--})}))}})},save:function(){var e=this;Object(o.sortSearchWord)(this.sortContents).then((function(t){t.success&&(e.$message({type:"success",message:t.msg}),e.close())}))}}},c=(s("0608"),s("4023")),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"channel-sort-container"},[s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"el-icon-close"})]),s("div",{staticClass:"content"},[s("div",{staticClass:"item"},[s("div",{staticClass:"sort-container",attrs:{id:"sort-words"}},e._l(e.allWords,(function(t,n){return s("el-tag",{key:t.uuid,attrs:{"data-id":n}},[e._v(e._s(t.word))])})),1)])]),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"determine active",attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])])])}),[],!1,null,"7d89c2a2",null);t.default=l.exports},faf1:function(e,t,s){"use strict";var n=s("aea6");s.n(n).a},fb34:function(e,t,s){"use strict";s.r(t),s("4194");var n={props:["form","contentTypes","assetsDomain"],data:function(){return{isPlay:!1,audio:new Audio}},created:function(){var e=this;this.$on("init",(function(){e.playAudio(e.form.sentence_audio)})),this.$on("break",(function(){e.audio.pause(),e.isPlay=!1}))},methods:{playAudio:function(e){var t=this;this.audio=new Audio,this.isPlay?(this.audio.pause(),this.isPlay=!1):(this.audio.src=this.assetsDomain+e,this.audio.oncanplay=function(){t.audio.play(),t.isPlay=!0},this.audio.onended=function(){t.isPlay=!1})},typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.desc),s}}},a=(s("67d2"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"trumpet-box"},[s("div",{staticClass:"trumpet",on:{click:function(t){return e.playAudio(e.form.sentence_audio)}}},[s("i")]),s("span",{staticClass:"sentence"},[e._v(e._s(e.form.sentence))])]),s("div",{staticClass:"choice-list"},[s("ul",e._l(e.form.words_choice,(function(t,n){return s("li",{key:n},[s("span",[e._v(e._s(t))])])})),0)])])}),[],!1,null,"2a66ebe4",null);t.default=i.exports},fb45:function(e,t,s){"use strict";s.r(t),s("dbb3"),s("3466"),s("77ad"),s("b449");var n=s("ae9a"),a=s("0eaa"),i=s("ae8c"),o=s("cabd"),r=s("688c"),c=s("cc3c"),l={data:function(){return{showTableData:[],selModel:"",pageRequest:{pageNum:1,pageSize:5}}},created:function(){this.getModelList({pageNo:0,pageSize:0}),this.initData()},components:{EditQuestion:r.default,SortQuestion:c.default},computed:Object(a.a)(Object(a.a)({},Object(i.e)({contentTypeList:function(e){return e.course.contentTypeList},modelList:function(e){return e.course.modelList}})),{},{filterContentTypeList:function(){var e=this,t=this.contentTypeList;return this.selModel?t.filter((function(t){return t.model_keys&&t.model_keys.findIndex((function(t){return t===e.selModel}))>-1})).sort((function(e,t){return e.list_order-t.list_order})):t.sort((function(e,t){return e.list_order-t.list_order}))}}),methods:Object(a.a)(Object(a.a)({},Object(i.b)({getContentTypeList:"course/getContentTypeList",getModelList:"course/getModelList"})),{},{initData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getContentTypeList({pageNo:0,pageSize:0});case 2:e.handleCurrentChange(e.pageRequest.pageNum);case 4:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageRequest.pageSize=e},handleCurrentChange:function(e){this.pageRequest.pageNum=e;var t=(e-1)*this.pageRequest.pageSize,s=e*this.pageRequest.pageSize;this.showTableData=this.filterContentTypeList.slice(t,s)},addType:function(){this.$refs.contentTypeEdit.show({flag:"add"})},editType:function(e){this.$refs.contentTypeEdit.show({flag:"edit",data:e})},sortType:function(){this.$refs.sortQuestion.show(this.contentTypeList)},delType:function(e){var t=this;this.$confirm("此操作将永久删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.delContentType)({type:e}).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.initData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},changeModel:function(){this.handleCurrentChange(1)}})},u=(s("c355"),s("a056"),s("4023")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"question-container"},[s("div",{staticClass:"question-content"},[s("div",{staticClass:"top-bar"},[s("el-select",{attrs:{placeholder:"请选择文件类型"},on:{change:function(t){return e.changeModel()}},model:{value:e.selModel,callback:function(t){e.selModel=t},expression:"selModel"}},[s("el-option",{attrs:{value:"",label:"全部"}}),e._l(e.modelList,(function(e){return s("el-option",{key:e.model_key,attrs:{label:e.name,value:e.model_key}})}))],2),s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.addType()}}},[e._v("添加")]),s("el-button",{staticClass:"btnAdd",staticStyle:{outline:"none"},attrs:{type:"primary"},on:{click:function(t){return e.sortType()}}},[e._v("排序")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showTableData}},[s("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.$index+(e.pageRequest.pageNum-1)*e.pageRequest.pageSize+1))])]}}])}),s("el-table-column",{attrs:{width:"200",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.type,width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.type))])])]}}])}),s("el-table-column",{attrs:{width:"200",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.name,width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.name))])])]}}])}),s("el-table-column",{attrs:{width:"300",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{content:t.row.desc,width:"300",placement:"top",effect:"light"}},[s("span",[e._v(e._s(t.row.desc))])])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return e.editType(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return e.delType(t.row.type)}}},[e._v("删除")])]}}])})],1),s("div",{staticClass:"pagination-box"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageRequest.pageNum,"page-size":e.pageRequest.pageSize,total:e.filterContentTypeList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),s("edit-question",{ref:"contentTypeEdit",on:{addContentType:e.initData}}),s("sort-question",{ref:"sortQuestion",on:{initData:e.initData}})],1)}),[],!1,null,"67f4949e",null);t.default=d.exports},fc1e:function(e,t,s){},fc49:function(e,t,s){"use strict";var n=s("02e2");s.n(n).a},fc5c:function(e,t,s){},fd5a:function(e,t,s){"use strict";var n=s("4f59");s.n(n).a},fd85:function(e,t,s){"use strict";s.r(t),s.d(t,"getAuthorityList",(function(){return a})),s.d(t,"deleteAuthority",(function(){return i})),s.d(t,"createAuthority",(function(){return o}));var n=s("b775"),a=function(e){return Object(n.default)({url:"/authority/getAuthorityList",method:"post",data:e})},i=function(e){return Object(n.default)({url:"/authority/deleteAuthority",method:"post",data:e})},o=function(e){return Object(n.default)({url:"/authority/createAuthority",method:"post",data:e})}},fd8d:function(e,t,s){"use strict";var n=s("1967");s.n(n).a},fdab:function(e,t,s){"use strict";s.r(t);var n={name:"HelloWorld",props:{msg:String}},a=(s("1608"),s("4023")),i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._m(0),s("h3",[e._v("Installed CLI Plugins")]),e._m(1),s("h3",[e._v("Essential Links")]),e._m(2),s("h3",[e._v("Ecosystem")]),e._m(3)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v(" For a guide and recipes on how to configure / customize this project,"),t("br"),this._v(" check out the "),t("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("vue-cli documentation")]),this._v(". ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[this._v("babel")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa",target:"_blank",rel:"noopener"}},[this._v("pwa")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[this._v("router")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[this._v("vuex")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[this._v("eslint")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[this._v("Core Docs")])]),t("li",[t("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("Forum")])]),t("li",[t("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("Community Chat")])]),t("li",[t("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[this._v("Twitter")])]),t("li",[t("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("News")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("vue-router")])]),t("li",[t("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("vuex")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[this._v("vue-devtools")])]),t("li",[t("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("vue-loader")])]),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[this._v("awesome-vue")])])])}],!1,null,"4f12c5b6",null);t.default=i.exports},fdb1:function(e,t,s){"use strict";s.r(t),s("4194"),s("3466"),s("fe59"),s("ea69"),s("053b"),s("08ba");var n=s("391c"),a=s.n(n),i={props:["form","contentTypes","assetsDomain"],data:function(){return{aadActive:!1,options:[],allWords:[]}},created:function(){var e=this;this.$on("init",(function(){e.resetAll()})),this.$on("break",(function(){}))},methods:{typeName:function(e){var t=this.contentTypes.find((function(t){return t.type===e})),s="";return t&&(s=t.name),s},resetAll:function(){var e=this;this.allWords=JSON.parse(JSON.stringify(this.form.words_choice)),this.options=[],this.allWords.forEach((function(t){e.options.push("")}))},reset:function(e){var t=this.options[e];this.options[e]="",this.allWords.splice(e,1,t)},makeSentence:function(e){var t=this.allWords[e];this.allWords.splice(e,1,"");var s=a.a.findIndex(this.options,(function(e){return""===e}));this.options[s]=t}}},o=(s("56ad"),s("4023")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form",e.form.content_type]},[s("h2",[e._v(e._s(e.typeName(e.form.content_type)))]),s("div",{staticClass:"sentence"},e._l(e.options,(function(t,n){return s("a",{key:n,domProps:{textContent:e._s(t)},on:{click:function(t){return e.reset(n)}}})})),0),s("div",{staticClass:"choice-list"},[s("div",{staticClass:"choice-content"},e._l(e.allWords,(function(t,n){return s("a",{key:n},[s("span",{on:{click:function(t){return e.makeSentence(n)}}},[e._v(e._s(t))])])})),0)])])}),[],!1,null,"177c6088",null);t.default=r.exports},fe84:function(e,t,s){"use strict";var n=s("9974");s.n(n).a},ff7c:function(e,t,s){"use strict";var n=s("ce84");s.n(n).a},ffc8:function(e,t,s){}});